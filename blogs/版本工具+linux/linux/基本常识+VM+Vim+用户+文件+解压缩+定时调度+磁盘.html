<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基本常识+VM+Vim+用户+文件+解压缩+定时调度+磁盘 | 编程印象</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="我盼世界无 bug">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.6ae13786.css" as="style"><link rel="preload" href="/assets/js/app.9be56ab6.js" as="script"><link rel="preload" href="/assets/js/3.fb47a76d.js" as="script"><link rel="preload" href="/assets/js/1.fc79f8d4.js" as="script"><link rel="preload" href="/assets/js/570.4c0be872.js" as="script"><link rel="prefetch" href="/assets/js/10.23520678.js"><link rel="prefetch" href="/assets/js/100.2cad13c5.js"><link rel="prefetch" href="/assets/js/101.a95ea820.js"><link rel="prefetch" href="/assets/js/102.fb02c2c1.js"><link rel="prefetch" href="/assets/js/103.26e1b439.js"><link rel="prefetch" href="/assets/js/104.11096c7e.js"><link rel="prefetch" href="/assets/js/105.ff7ad7b2.js"><link rel="prefetch" href="/assets/js/106.1f4a56e2.js"><link rel="prefetch" href="/assets/js/107.41aba5c6.js"><link rel="prefetch" href="/assets/js/108.2735a052.js"><link rel="prefetch" href="/assets/js/109.68dd761f.js"><link rel="prefetch" href="/assets/js/11.0dcebd6a.js"><link rel="prefetch" href="/assets/js/110.e249e46c.js"><link rel="prefetch" href="/assets/js/111.19d7ec64.js"><link rel="prefetch" href="/assets/js/112.ebdd8da9.js"><link rel="prefetch" href="/assets/js/113.927bf0fe.js"><link rel="prefetch" href="/assets/js/114.c8c0c93d.js"><link rel="prefetch" href="/assets/js/115.18db484d.js"><link rel="prefetch" href="/assets/js/116.8500bc63.js"><link rel="prefetch" href="/assets/js/117.42b2050f.js"><link rel="prefetch" href="/assets/js/118.e4e692ca.js"><link rel="prefetch" href="/assets/js/119.3dabfb78.js"><link rel="prefetch" href="/assets/js/12.e3796963.js"><link rel="prefetch" href="/assets/js/120.a7dc7bcb.js"><link rel="prefetch" href="/assets/js/121.44dcdbe1.js"><link rel="prefetch" href="/assets/js/122.68d651c3.js"><link rel="prefetch" href="/assets/js/123.e6debcdb.js"><link rel="prefetch" href="/assets/js/124.16d64251.js"><link rel="prefetch" href="/assets/js/125.7c6f6d98.js"><link rel="prefetch" href="/assets/js/126.35baa306.js"><link rel="prefetch" href="/assets/js/127.84f663bc.js"><link rel="prefetch" href="/assets/js/128.9c2b0b9c.js"><link rel="prefetch" href="/assets/js/129.a2229d52.js"><link rel="prefetch" href="/assets/js/13.da2e19f3.js"><link rel="prefetch" href="/assets/js/130.ce22a8a4.js"><link rel="prefetch" href="/assets/js/131.24edd60a.js"><link rel="prefetch" href="/assets/js/132.b52b27f2.js"><link rel="prefetch" href="/assets/js/133.3110c831.js"><link rel="prefetch" href="/assets/js/134.4c8130ed.js"><link rel="prefetch" href="/assets/js/135.c96ccf03.js"><link rel="prefetch" href="/assets/js/136.9a9dcdb6.js"><link rel="prefetch" href="/assets/js/137.015ed53a.js"><link rel="prefetch" href="/assets/js/138.1345ae46.js"><link rel="prefetch" href="/assets/js/139.3fb9373f.js"><link rel="prefetch" href="/assets/js/14.d5d8fb95.js"><link rel="prefetch" href="/assets/js/140.94ac5a8f.js"><link rel="prefetch" href="/assets/js/141.261c4974.js"><link rel="prefetch" href="/assets/js/142.d6fe3246.js"><link rel="prefetch" href="/assets/js/143.7f4b65f4.js"><link rel="prefetch" href="/assets/js/144.5da11295.js"><link rel="prefetch" href="/assets/js/145.474b6aed.js"><link rel="prefetch" href="/assets/js/146.3badfc53.js"><link rel="prefetch" href="/assets/js/147.ad2828b1.js"><link rel="prefetch" href="/assets/js/148.f6c402f3.js"><link rel="prefetch" href="/assets/js/149.e914ff22.js"><link rel="prefetch" href="/assets/js/15.b3b065d1.js"><link rel="prefetch" href="/assets/js/150.d60952c2.js"><link rel="prefetch" href="/assets/js/151.3685eadb.js"><link rel="prefetch" href="/assets/js/152.3842e09c.js"><link rel="prefetch" href="/assets/js/153.425f5ef5.js"><link rel="prefetch" href="/assets/js/154.7bf13122.js"><link rel="prefetch" href="/assets/js/155.c24f25c0.js"><link rel="prefetch" href="/assets/js/156.8453b28e.js"><link rel="prefetch" href="/assets/js/157.5afcc3f5.js"><link rel="prefetch" href="/assets/js/158.611373f5.js"><link rel="prefetch" href="/assets/js/159.ae02af11.js"><link rel="prefetch" href="/assets/js/16.d9629ed6.js"><link rel="prefetch" href="/assets/js/160.7d6dfe88.js"><link rel="prefetch" href="/assets/js/161.712fcf09.js"><link rel="prefetch" href="/assets/js/162.10cbe610.js"><link rel="prefetch" href="/assets/js/163.6aabdd01.js"><link rel="prefetch" href="/assets/js/164.aef3c31c.js"><link rel="prefetch" href="/assets/js/165.f4a313ff.js"><link rel="prefetch" href="/assets/js/166.5088f298.js"><link rel="prefetch" href="/assets/js/167.812b3578.js"><link rel="prefetch" href="/assets/js/168.6ac62b04.js"><link rel="prefetch" href="/assets/js/169.d1853730.js"><link rel="prefetch" href="/assets/js/17.37a73d7c.js"><link rel="prefetch" href="/assets/js/170.4a323b18.js"><link rel="prefetch" href="/assets/js/171.3bf8832a.js"><link rel="prefetch" href="/assets/js/172.c7366d43.js"><link rel="prefetch" href="/assets/js/173.d6ac8009.js"><link rel="prefetch" href="/assets/js/174.18027e20.js"><link rel="prefetch" href="/assets/js/175.891eacf1.js"><link rel="prefetch" href="/assets/js/176.90c7e1b2.js"><link rel="prefetch" href="/assets/js/177.4612766c.js"><link rel="prefetch" href="/assets/js/178.3e531a38.js"><link rel="prefetch" href="/assets/js/179.60db264d.js"><link rel="prefetch" href="/assets/js/18.9a722c1d.js"><link rel="prefetch" href="/assets/js/180.84f49c82.js"><link rel="prefetch" href="/assets/js/181.cb25939a.js"><link rel="prefetch" href="/assets/js/182.ff32a28c.js"><link rel="prefetch" href="/assets/js/183.7807869c.js"><link rel="prefetch" href="/assets/js/184.94d60e3b.js"><link rel="prefetch" href="/assets/js/185.42eed7d4.js"><link rel="prefetch" href="/assets/js/186.afab7c43.js"><link rel="prefetch" href="/assets/js/187.d4eae112.js"><link rel="prefetch" href="/assets/js/188.d3d7967b.js"><link rel="prefetch" href="/assets/js/189.24a9b17a.js"><link rel="prefetch" href="/assets/js/19.05ee5d53.js"><link rel="prefetch" href="/assets/js/190.b48d1bc2.js"><link rel="prefetch" href="/assets/js/191.62b1146d.js"><link rel="prefetch" href="/assets/js/192.414661dc.js"><link rel="prefetch" href="/assets/js/193.7ed63635.js"><link rel="prefetch" href="/assets/js/194.1a23deb5.js"><link rel="prefetch" href="/assets/js/195.7d85615c.js"><link rel="prefetch" href="/assets/js/196.2fa2c2d0.js"><link rel="prefetch" href="/assets/js/197.c4e753b0.js"><link rel="prefetch" href="/assets/js/198.8bb4d01f.js"><link rel="prefetch" href="/assets/js/199.864a9036.js"><link rel="prefetch" href="/assets/js/20.189dd3a4.js"><link rel="prefetch" href="/assets/js/200.597a7aa7.js"><link rel="prefetch" href="/assets/js/201.84105be6.js"><link rel="prefetch" href="/assets/js/202.d9655e8b.js"><link rel="prefetch" href="/assets/js/203.6f1a8c22.js"><link rel="prefetch" href="/assets/js/204.4ceecf7e.js"><link rel="prefetch" href="/assets/js/205.a653cb1d.js"><link rel="prefetch" href="/assets/js/206.ca442d9d.js"><link rel="prefetch" href="/assets/js/207.5cb6fb0f.js"><link rel="prefetch" href="/assets/js/208.bea6ac9a.js"><link rel="prefetch" href="/assets/js/209.94222f88.js"><link rel="prefetch" href="/assets/js/21.7278b45b.js"><link rel="prefetch" href="/assets/js/210.e6e281f9.js"><link rel="prefetch" href="/assets/js/211.ec29467c.js"><link rel="prefetch" href="/assets/js/212.eb27003a.js"><link rel="prefetch" href="/assets/js/213.67492e10.js"><link rel="prefetch" href="/assets/js/214.495a5b81.js"><link rel="prefetch" href="/assets/js/215.4e1e816a.js"><link rel="prefetch" href="/assets/js/216.e6a79e1d.js"><link rel="prefetch" href="/assets/js/217.b7e040f8.js"><link rel="prefetch" href="/assets/js/218.72172d76.js"><link rel="prefetch" href="/assets/js/219.6543c39f.js"><link rel="prefetch" href="/assets/js/22.e9e66869.js"><link rel="prefetch" href="/assets/js/220.86c88d0d.js"><link rel="prefetch" href="/assets/js/221.55716af4.js"><link rel="prefetch" href="/assets/js/222.dca096dc.js"><link rel="prefetch" href="/assets/js/223.dbdabfc2.js"><link rel="prefetch" href="/assets/js/224.7ec61b5b.js"><link rel="prefetch" href="/assets/js/225.885a8f0e.js"><link rel="prefetch" href="/assets/js/226.c1f1a298.js"><link rel="prefetch" href="/assets/js/227.d9578452.js"><link rel="prefetch" href="/assets/js/228.dca3ad89.js"><link rel="prefetch" href="/assets/js/229.15e94c57.js"><link rel="prefetch" href="/assets/js/23.acbaf714.js"><link rel="prefetch" href="/assets/js/230.0e9251e1.js"><link rel="prefetch" href="/assets/js/231.78455405.js"><link rel="prefetch" href="/assets/js/232.51102f70.js"><link rel="prefetch" href="/assets/js/233.c0032897.js"><link rel="prefetch" href="/assets/js/234.b366f2e4.js"><link rel="prefetch" href="/assets/js/235.6130eb41.js"><link rel="prefetch" href="/assets/js/236.c0c76ddb.js"><link rel="prefetch" href="/assets/js/237.c87253eb.js"><link rel="prefetch" href="/assets/js/238.7c0c6090.js"><link rel="prefetch" href="/assets/js/239.61dca742.js"><link rel="prefetch" href="/assets/js/24.08a0e7d4.js"><link rel="prefetch" href="/assets/js/240.a0544a74.js"><link rel="prefetch" href="/assets/js/241.7ac6199c.js"><link rel="prefetch" href="/assets/js/242.8def465d.js"><link rel="prefetch" href="/assets/js/243.761ecd34.js"><link rel="prefetch" href="/assets/js/244.abaff346.js"><link rel="prefetch" href="/assets/js/245.856ecee3.js"><link rel="prefetch" href="/assets/js/246.38704316.js"><link rel="prefetch" href="/assets/js/247.8eec5cc7.js"><link rel="prefetch" href="/assets/js/248.74ccb220.js"><link rel="prefetch" href="/assets/js/249.4bbf5066.js"><link rel="prefetch" href="/assets/js/25.471f340e.js"><link rel="prefetch" href="/assets/js/250.e45469a8.js"><link rel="prefetch" href="/assets/js/251.9a1dc40d.js"><link rel="prefetch" href="/assets/js/252.3f1dabd7.js"><link rel="prefetch" href="/assets/js/253.45f786f0.js"><link rel="prefetch" href="/assets/js/254.39d57949.js"><link rel="prefetch" href="/assets/js/255.04a57f80.js"><link rel="prefetch" href="/assets/js/256.0690be35.js"><link rel="prefetch" href="/assets/js/257.646ba60c.js"><link rel="prefetch" href="/assets/js/258.68dd485c.js"><link rel="prefetch" href="/assets/js/259.d83212ae.js"><link rel="prefetch" href="/assets/js/26.b6c3f1fb.js"><link rel="prefetch" href="/assets/js/260.dd6babbc.js"><link rel="prefetch" href="/assets/js/261.d48adcdc.js"><link rel="prefetch" href="/assets/js/262.aa8ac850.js"><link rel="prefetch" href="/assets/js/263.32917bd9.js"><link rel="prefetch" href="/assets/js/264.373b7889.js"><link rel="prefetch" href="/assets/js/265.d07e4434.js"><link rel="prefetch" href="/assets/js/266.1ed823c9.js"><link rel="prefetch" href="/assets/js/267.bd248638.js"><link rel="prefetch" href="/assets/js/268.ae4c5937.js"><link rel="prefetch" href="/assets/js/269.e797da3b.js"><link rel="prefetch" href="/assets/js/27.5dd268eb.js"><link rel="prefetch" href="/assets/js/270.b3becd3a.js"><link rel="prefetch" href="/assets/js/271.8e88fe0c.js"><link rel="prefetch" href="/assets/js/272.c7885e05.js"><link rel="prefetch" href="/assets/js/273.0ad3d70f.js"><link rel="prefetch" href="/assets/js/274.b7d5ba27.js"><link rel="prefetch" href="/assets/js/275.8ecb61dd.js"><link rel="prefetch" href="/assets/js/276.46cf2dc5.js"><link rel="prefetch" href="/assets/js/277.88693b15.js"><link rel="prefetch" href="/assets/js/278.acfcc3fa.js"><link rel="prefetch" href="/assets/js/279.8de11002.js"><link rel="prefetch" href="/assets/js/28.9a7edf7c.js"><link rel="prefetch" href="/assets/js/280.85a80233.js"><link rel="prefetch" href="/assets/js/281.f1e88f83.js"><link rel="prefetch" href="/assets/js/282.d2a1d29a.js"><link rel="prefetch" href="/assets/js/283.f1cbc510.js"><link rel="prefetch" href="/assets/js/284.efdcdd26.js"><link rel="prefetch" href="/assets/js/285.03950eb7.js"><link rel="prefetch" href="/assets/js/286.2962db5f.js"><link rel="prefetch" href="/assets/js/287.067d749e.js"><link rel="prefetch" href="/assets/js/288.845aef67.js"><link rel="prefetch" href="/assets/js/289.ad37c78e.js"><link rel="prefetch" href="/assets/js/29.0ec3769d.js"><link rel="prefetch" href="/assets/js/290.3e7871ee.js"><link rel="prefetch" href="/assets/js/291.e0022646.js"><link rel="prefetch" href="/assets/js/292.104cddfa.js"><link rel="prefetch" href="/assets/js/293.1021ab87.js"><link rel="prefetch" href="/assets/js/294.e2f6680a.js"><link rel="prefetch" href="/assets/js/295.fb8c4044.js"><link rel="prefetch" href="/assets/js/296.fd8a7095.js"><link rel="prefetch" href="/assets/js/297.f7fbbf7d.js"><link rel="prefetch" href="/assets/js/298.0a026fff.js"><link rel="prefetch" href="/assets/js/299.4ff9b79c.js"><link rel="prefetch" href="/assets/js/30.9ce4b702.js"><link rel="prefetch" href="/assets/js/300.95bad310.js"><link rel="prefetch" href="/assets/js/301.bae7f939.js"><link rel="prefetch" href="/assets/js/302.1aa526e4.js"><link rel="prefetch" href="/assets/js/303.c7ab269c.js"><link rel="prefetch" href="/assets/js/304.40b6723f.js"><link rel="prefetch" href="/assets/js/305.b64e94bc.js"><link rel="prefetch" href="/assets/js/306.221f7e92.js"><link rel="prefetch" href="/assets/js/307.c5728785.js"><link rel="prefetch" href="/assets/js/308.17329128.js"><link rel="prefetch" href="/assets/js/309.90d94b5c.js"><link rel="prefetch" href="/assets/js/31.4baa8b0d.js"><link rel="prefetch" href="/assets/js/310.cc807d71.js"><link rel="prefetch" href="/assets/js/311.fe8879fd.js"><link rel="prefetch" href="/assets/js/312.15c3d31d.js"><link rel="prefetch" href="/assets/js/313.d9612b1d.js"><link rel="prefetch" href="/assets/js/314.6c3aa9a7.js"><link rel="prefetch" href="/assets/js/315.2386b38a.js"><link rel="prefetch" href="/assets/js/316.1d42c5b2.js"><link rel="prefetch" href="/assets/js/317.aed946f4.js"><link rel="prefetch" href="/assets/js/318.6cf52898.js"><link rel="prefetch" href="/assets/js/319.a2471dda.js"><link rel="prefetch" href="/assets/js/32.f43afbb7.js"><link rel="prefetch" href="/assets/js/320.4a803255.js"><link rel="prefetch" href="/assets/js/321.ca39f1d4.js"><link rel="prefetch" href="/assets/js/322.13f77614.js"><link rel="prefetch" href="/assets/js/323.233c5bc2.js"><link rel="prefetch" href="/assets/js/324.e579e41d.js"><link rel="prefetch" href="/assets/js/325.60575184.js"><link rel="prefetch" href="/assets/js/326.3095f649.js"><link rel="prefetch" href="/assets/js/327.8ea3aba8.js"><link rel="prefetch" href="/assets/js/328.faec9506.js"><link rel="prefetch" href="/assets/js/329.9ae1d951.js"><link rel="prefetch" href="/assets/js/33.4eba4332.js"><link rel="prefetch" href="/assets/js/330.2a82151b.js"><link rel="prefetch" href="/assets/js/331.042c0e05.js"><link rel="prefetch" href="/assets/js/332.d054fdd5.js"><link rel="prefetch" href="/assets/js/333.56cbdd03.js"><link rel="prefetch" href="/assets/js/334.6cd67d76.js"><link rel="prefetch" href="/assets/js/335.23007635.js"><link rel="prefetch" href="/assets/js/336.d96be7e0.js"><link rel="prefetch" href="/assets/js/337.ec3d29da.js"><link rel="prefetch" href="/assets/js/338.4bbf5c6e.js"><link rel="prefetch" href="/assets/js/339.c9e121c4.js"><link rel="prefetch" href="/assets/js/34.5feebf7a.js"><link rel="prefetch" href="/assets/js/340.1b49386a.js"><link rel="prefetch" href="/assets/js/341.160f08b8.js"><link rel="prefetch" href="/assets/js/342.8fb5d8db.js"><link rel="prefetch" href="/assets/js/343.3a245a27.js"><link rel="prefetch" href="/assets/js/344.7cc1d91f.js"><link rel="prefetch" href="/assets/js/345.6d05084f.js"><link rel="prefetch" href="/assets/js/346.81145e23.js"><link rel="prefetch" href="/assets/js/347.05a5a554.js"><link rel="prefetch" href="/assets/js/348.2c74de45.js"><link rel="prefetch" href="/assets/js/349.1d447463.js"><link rel="prefetch" href="/assets/js/35.b5882fc9.js"><link rel="prefetch" href="/assets/js/350.953493bf.js"><link rel="prefetch" href="/assets/js/351.b37b857e.js"><link rel="prefetch" href="/assets/js/352.1c72aafb.js"><link rel="prefetch" href="/assets/js/353.fc9f1b8a.js"><link rel="prefetch" href="/assets/js/354.fffd4406.js"><link rel="prefetch" href="/assets/js/355.712684ac.js"><link rel="prefetch" href="/assets/js/356.5930f01d.js"><link rel="prefetch" href="/assets/js/357.8c73dde8.js"><link rel="prefetch" href="/assets/js/358.f4f3f2cc.js"><link rel="prefetch" href="/assets/js/359.363b69b1.js"><link rel="prefetch" href="/assets/js/36.87c1f1cb.js"><link rel="prefetch" href="/assets/js/360.85ed0d8a.js"><link rel="prefetch" href="/assets/js/361.bc3f3c99.js"><link rel="prefetch" href="/assets/js/362.5316e540.js"><link rel="prefetch" href="/assets/js/363.73813279.js"><link rel="prefetch" href="/assets/js/364.9134c4a4.js"><link rel="prefetch" href="/assets/js/365.ccfe7521.js"><link rel="prefetch" href="/assets/js/366.51d0e0ad.js"><link rel="prefetch" href="/assets/js/367.90ef7bd1.js"><link rel="prefetch" href="/assets/js/368.f6cb25dc.js"><link rel="prefetch" href="/assets/js/369.60106a7d.js"><link rel="prefetch" href="/assets/js/37.fa4c57d0.js"><link rel="prefetch" href="/assets/js/370.6cb7da3d.js"><link rel="prefetch" href="/assets/js/371.bea067f3.js"><link rel="prefetch" href="/assets/js/372.944fd5f4.js"><link rel="prefetch" href="/assets/js/373.0898537f.js"><link rel="prefetch" href="/assets/js/374.ccab2661.js"><link rel="prefetch" href="/assets/js/375.bf254529.js"><link rel="prefetch" href="/assets/js/376.0a60553f.js"><link rel="prefetch" href="/assets/js/377.d05648ba.js"><link rel="prefetch" href="/assets/js/378.3c0185fe.js"><link rel="prefetch" href="/assets/js/379.7ccc8629.js"><link rel="prefetch" href="/assets/js/38.9331e6bc.js"><link rel="prefetch" href="/assets/js/380.b751a4bd.js"><link rel="prefetch" href="/assets/js/381.4bd7b193.js"><link rel="prefetch" href="/assets/js/382.48402ee9.js"><link rel="prefetch" href="/assets/js/383.5f71829d.js"><link rel="prefetch" href="/assets/js/384.96a15b7a.js"><link rel="prefetch" href="/assets/js/385.1419151d.js"><link rel="prefetch" href="/assets/js/386.a9fd1d63.js"><link rel="prefetch" href="/assets/js/387.dff24266.js"><link rel="prefetch" href="/assets/js/388.8ebac716.js"><link rel="prefetch" href="/assets/js/389.a4642a84.js"><link rel="prefetch" href="/assets/js/39.afa0fc99.js"><link rel="prefetch" href="/assets/js/390.e4a65c41.js"><link rel="prefetch" href="/assets/js/391.a3840b24.js"><link rel="prefetch" href="/assets/js/392.a2115cbf.js"><link rel="prefetch" href="/assets/js/393.bbba6dcc.js"><link rel="prefetch" href="/assets/js/394.920f5233.js"><link rel="prefetch" href="/assets/js/395.29704bc5.js"><link rel="prefetch" href="/assets/js/396.1acd4ac3.js"><link rel="prefetch" href="/assets/js/397.53a290eb.js"><link rel="prefetch" href="/assets/js/398.4628ffa1.js"><link rel="prefetch" href="/assets/js/399.a200ba9c.js"><link rel="prefetch" href="/assets/js/4.35359649.js"><link rel="prefetch" href="/assets/js/40.c7f2255a.js"><link rel="prefetch" href="/assets/js/400.345f86ba.js"><link rel="prefetch" href="/assets/js/401.7f979f74.js"><link rel="prefetch" href="/assets/js/402.c5262d41.js"><link rel="prefetch" href="/assets/js/403.badf8489.js"><link rel="prefetch" href="/assets/js/404.526829ff.js"><link rel="prefetch" href="/assets/js/405.a40fbbce.js"><link rel="prefetch" href="/assets/js/406.b3d0b6a9.js"><link rel="prefetch" href="/assets/js/407.513fe208.js"><link rel="prefetch" href="/assets/js/408.03dfd58d.js"><link rel="prefetch" href="/assets/js/409.5bcf0357.js"><link rel="prefetch" href="/assets/js/41.6a46356b.js"><link rel="prefetch" href="/assets/js/410.95a3b35a.js"><link rel="prefetch" href="/assets/js/411.614e5445.js"><link rel="prefetch" href="/assets/js/412.8f4d9708.js"><link rel="prefetch" href="/assets/js/413.94b77901.js"><link rel="prefetch" href="/assets/js/414.bb2ed3f9.js"><link rel="prefetch" href="/assets/js/415.c4d60b3b.js"><link rel="prefetch" href="/assets/js/416.f3d3015e.js"><link rel="prefetch" href="/assets/js/417.a6fa27c6.js"><link rel="prefetch" href="/assets/js/418.3c8d0470.js"><link rel="prefetch" href="/assets/js/419.815c1ce2.js"><link rel="prefetch" href="/assets/js/42.2c385415.js"><link rel="prefetch" href="/assets/js/420.2a6865d4.js"><link rel="prefetch" href="/assets/js/421.b96fcd5d.js"><link rel="prefetch" href="/assets/js/422.e2e6c777.js"><link rel="prefetch" href="/assets/js/423.438fdf7a.js"><link rel="prefetch" href="/assets/js/424.fbcf4752.js"><link rel="prefetch" href="/assets/js/425.47e6fdcb.js"><link rel="prefetch" href="/assets/js/426.cd3382ee.js"><link rel="prefetch" href="/assets/js/427.8fbd45c1.js"><link rel="prefetch" href="/assets/js/428.71a840b9.js"><link rel="prefetch" href="/assets/js/429.36bf38a5.js"><link rel="prefetch" href="/assets/js/43.27a44a54.js"><link rel="prefetch" href="/assets/js/430.7ab4a75f.js"><link rel="prefetch" href="/assets/js/431.face48ea.js"><link rel="prefetch" href="/assets/js/432.61c1f33d.js"><link rel="prefetch" href="/assets/js/433.ec57e560.js"><link rel="prefetch" href="/assets/js/434.468462dd.js"><link rel="prefetch" href="/assets/js/435.9b57e01c.js"><link rel="prefetch" href="/assets/js/436.f34d1cfe.js"><link rel="prefetch" href="/assets/js/437.badb8ce9.js"><link rel="prefetch" href="/assets/js/438.50d45b09.js"><link rel="prefetch" href="/assets/js/439.d1f2931e.js"><link rel="prefetch" href="/assets/js/44.7e4f6c2e.js"><link rel="prefetch" href="/assets/js/440.ee76d443.js"><link rel="prefetch" href="/assets/js/441.e5649ad5.js"><link rel="prefetch" href="/assets/js/442.8a7bdf36.js"><link rel="prefetch" href="/assets/js/443.801657f0.js"><link rel="prefetch" href="/assets/js/444.605c5e47.js"><link rel="prefetch" href="/assets/js/445.f04e74f8.js"><link rel="prefetch" href="/assets/js/446.1cd1fc47.js"><link rel="prefetch" href="/assets/js/447.e76b1285.js"><link rel="prefetch" href="/assets/js/448.0a6f1d0c.js"><link rel="prefetch" href="/assets/js/449.de138fdf.js"><link rel="prefetch" href="/assets/js/45.cbdd08a1.js"><link rel="prefetch" href="/assets/js/450.a557e266.js"><link rel="prefetch" href="/assets/js/451.068aa79e.js"><link rel="prefetch" href="/assets/js/452.61d145aa.js"><link rel="prefetch" href="/assets/js/453.c33c1f82.js"><link rel="prefetch" href="/assets/js/454.37740d78.js"><link rel="prefetch" href="/assets/js/455.06349a01.js"><link rel="prefetch" href="/assets/js/456.f0427393.js"><link rel="prefetch" href="/assets/js/457.4936f300.js"><link rel="prefetch" href="/assets/js/458.2f5065d1.js"><link rel="prefetch" href="/assets/js/459.5b186609.js"><link rel="prefetch" href="/assets/js/46.b200f5a8.js"><link rel="prefetch" href="/assets/js/460.a4e8965c.js"><link rel="prefetch" href="/assets/js/461.dea782e8.js"><link rel="prefetch" href="/assets/js/462.7e2e4f4a.js"><link rel="prefetch" href="/assets/js/463.c5374479.js"><link rel="prefetch" href="/assets/js/464.a6caf131.js"><link rel="prefetch" href="/assets/js/465.c3b08c23.js"><link rel="prefetch" href="/assets/js/466.28db202b.js"><link rel="prefetch" href="/assets/js/467.078c80e5.js"><link rel="prefetch" href="/assets/js/468.66242c49.js"><link rel="prefetch" href="/assets/js/469.b3e9a51d.js"><link rel="prefetch" href="/assets/js/47.a39e0c9c.js"><link rel="prefetch" href="/assets/js/470.34034556.js"><link rel="prefetch" href="/assets/js/471.1343fcfd.js"><link rel="prefetch" href="/assets/js/472.9f3aacce.js"><link rel="prefetch" href="/assets/js/473.d0c5797d.js"><link rel="prefetch" href="/assets/js/474.d8fe027d.js"><link rel="prefetch" href="/assets/js/475.08ec92d8.js"><link rel="prefetch" href="/assets/js/476.706f2912.js"><link rel="prefetch" href="/assets/js/477.4e9b457c.js"><link rel="prefetch" href="/assets/js/478.26de49fe.js"><link rel="prefetch" href="/assets/js/479.3c16cf0d.js"><link rel="prefetch" href="/assets/js/48.5fbfafec.js"><link rel="prefetch" href="/assets/js/480.95ebf491.js"><link rel="prefetch" href="/assets/js/481.b63921e3.js"><link rel="prefetch" href="/assets/js/482.f97e477b.js"><link rel="prefetch" href="/assets/js/483.12a47108.js"><link rel="prefetch" href="/assets/js/484.8d65e335.js"><link rel="prefetch" href="/assets/js/485.6183d3dd.js"><link rel="prefetch" href="/assets/js/486.71c32862.js"><link rel="prefetch" href="/assets/js/487.57523f66.js"><link rel="prefetch" href="/assets/js/488.eeaca776.js"><link rel="prefetch" href="/assets/js/489.f4a84b18.js"><link rel="prefetch" href="/assets/js/49.daf396b2.js"><link rel="prefetch" href="/assets/js/490.7c498f5c.js"><link rel="prefetch" href="/assets/js/491.7e10815a.js"><link rel="prefetch" href="/assets/js/492.e9b24ecb.js"><link rel="prefetch" href="/assets/js/493.17326318.js"><link rel="prefetch" href="/assets/js/494.08dd9547.js"><link rel="prefetch" href="/assets/js/495.8b50b16a.js"><link rel="prefetch" href="/assets/js/496.aeecc20e.js"><link rel="prefetch" href="/assets/js/497.02b1b822.js"><link rel="prefetch" href="/assets/js/498.c38d1d52.js"><link rel="prefetch" href="/assets/js/499.2423fb1e.js"><link rel="prefetch" href="/assets/js/5.6361159c.js"><link rel="prefetch" href="/assets/js/50.6761b9a4.js"><link rel="prefetch" href="/assets/js/500.0f6a0f19.js"><link rel="prefetch" href="/assets/js/501.c80e2602.js"><link rel="prefetch" href="/assets/js/502.466cd400.js"><link rel="prefetch" href="/assets/js/503.3223981c.js"><link rel="prefetch" href="/assets/js/504.fa05cfab.js"><link rel="prefetch" href="/assets/js/505.2c37baf0.js"><link rel="prefetch" href="/assets/js/506.20e51ab8.js"><link rel="prefetch" href="/assets/js/507.99e58519.js"><link rel="prefetch" href="/assets/js/508.d2f322a1.js"><link rel="prefetch" href="/assets/js/509.dfacbf3c.js"><link rel="prefetch" href="/assets/js/51.e13c4656.js"><link rel="prefetch" href="/assets/js/510.f32bf7a3.js"><link rel="prefetch" href="/assets/js/511.67f1ef72.js"><link rel="prefetch" href="/assets/js/512.90805a3a.js"><link rel="prefetch" href="/assets/js/513.c11090d8.js"><link rel="prefetch" href="/assets/js/514.9c069de6.js"><link rel="prefetch" href="/assets/js/515.620a04fe.js"><link rel="prefetch" href="/assets/js/516.222cb1ca.js"><link rel="prefetch" href="/assets/js/517.e798468a.js"><link rel="prefetch" href="/assets/js/518.76140509.js"><link rel="prefetch" href="/assets/js/519.3d45044f.js"><link rel="prefetch" href="/assets/js/52.cf8bf400.js"><link rel="prefetch" href="/assets/js/520.f1fca5d5.js"><link rel="prefetch" href="/assets/js/521.a343a773.js"><link rel="prefetch" href="/assets/js/522.c0a44479.js"><link rel="prefetch" href="/assets/js/523.43393e90.js"><link rel="prefetch" href="/assets/js/524.cabfbe70.js"><link rel="prefetch" href="/assets/js/525.8846373b.js"><link rel="prefetch" href="/assets/js/526.e55bddff.js"><link rel="prefetch" href="/assets/js/527.ce0f4b4a.js"><link rel="prefetch" href="/assets/js/528.ab32b8e9.js"><link rel="prefetch" href="/assets/js/529.dc9e5c65.js"><link rel="prefetch" href="/assets/js/53.c087b8c2.js"><link rel="prefetch" href="/assets/js/530.221dcff1.js"><link rel="prefetch" href="/assets/js/531.0630213a.js"><link rel="prefetch" href="/assets/js/532.0aec191b.js"><link rel="prefetch" href="/assets/js/533.e008ccfd.js"><link rel="prefetch" href="/assets/js/534.b930374f.js"><link rel="prefetch" href="/assets/js/535.cfd3f45e.js"><link rel="prefetch" href="/assets/js/536.196fb4aa.js"><link rel="prefetch" href="/assets/js/537.8f025f0f.js"><link rel="prefetch" href="/assets/js/538.33a505d7.js"><link rel="prefetch" href="/assets/js/539.0ff67131.js"><link rel="prefetch" href="/assets/js/54.e24b2974.js"><link rel="prefetch" href="/assets/js/540.edfa92e7.js"><link rel="prefetch" href="/assets/js/541.45b731d1.js"><link rel="prefetch" href="/assets/js/542.ed159c07.js"><link rel="prefetch" href="/assets/js/543.c7d2bc03.js"><link rel="prefetch" href="/assets/js/544.30590850.js"><link rel="prefetch" href="/assets/js/545.2e989abc.js"><link rel="prefetch" href="/assets/js/546.b3917d3f.js"><link rel="prefetch" href="/assets/js/547.9b47db8c.js"><link rel="prefetch" href="/assets/js/548.6761cc31.js"><link rel="prefetch" href="/assets/js/549.855131a6.js"><link rel="prefetch" href="/assets/js/55.82de844e.js"><link rel="prefetch" href="/assets/js/550.bda8852a.js"><link rel="prefetch" href="/assets/js/551.84591fe9.js"><link rel="prefetch" href="/assets/js/552.3decfa91.js"><link rel="prefetch" href="/assets/js/553.f68eee99.js"><link rel="prefetch" href="/assets/js/554.6c02ad9a.js"><link rel="prefetch" href="/assets/js/555.ffbb4df3.js"><link rel="prefetch" href="/assets/js/556.641a5218.js"><link rel="prefetch" href="/assets/js/557.42b96cc6.js"><link rel="prefetch" href="/assets/js/558.a785836f.js"><link rel="prefetch" href="/assets/js/559.a7fcdd9c.js"><link rel="prefetch" href="/assets/js/56.7671b36a.js"><link rel="prefetch" href="/assets/js/560.d47a1b16.js"><link rel="prefetch" href="/assets/js/561.b5c14057.js"><link rel="prefetch" href="/assets/js/562.fb6db861.js"><link rel="prefetch" href="/assets/js/563.3a5ce791.js"><link rel="prefetch" href="/assets/js/564.5777a129.js"><link rel="prefetch" href="/assets/js/565.42a74a0b.js"><link rel="prefetch" href="/assets/js/566.34e04ac7.js"><link rel="prefetch" href="/assets/js/567.0ec3c562.js"><link rel="prefetch" href="/assets/js/568.3db02826.js"><link rel="prefetch" href="/assets/js/569.d55cdc02.js"><link rel="prefetch" href="/assets/js/57.8c19cc47.js"><link rel="prefetch" href="/assets/js/571.ca6e87c8.js"><link rel="prefetch" href="/assets/js/572.bd8e8d0b.js"><link rel="prefetch" href="/assets/js/573.87ef86cc.js"><link rel="prefetch" href="/assets/js/574.aed2f2a8.js"><link rel="prefetch" href="/assets/js/575.4354a8e6.js"><link rel="prefetch" href="/assets/js/576.9b7953f7.js"><link rel="prefetch" href="/assets/js/577.a736bc2d.js"><link rel="prefetch" href="/assets/js/58.d517c3a0.js"><link rel="prefetch" href="/assets/js/59.5a150a82.js"><link rel="prefetch" href="/assets/js/6.6b20e148.js"><link rel="prefetch" href="/assets/js/60.81cc05b0.js"><link rel="prefetch" href="/assets/js/61.e8cb23aa.js"><link rel="prefetch" href="/assets/js/62.437b00db.js"><link rel="prefetch" href="/assets/js/63.6310f72a.js"><link rel="prefetch" href="/assets/js/64.70d38ca0.js"><link rel="prefetch" href="/assets/js/65.f86fd2a9.js"><link rel="prefetch" href="/assets/js/66.7945fdad.js"><link rel="prefetch" href="/assets/js/67.62e6306e.js"><link rel="prefetch" href="/assets/js/68.e1dc7252.js"><link rel="prefetch" href="/assets/js/69.83a95728.js"><link rel="prefetch" href="/assets/js/7.e9deccd6.js"><link rel="prefetch" href="/assets/js/70.b318d49c.js"><link rel="prefetch" href="/assets/js/71.db9311c6.js"><link rel="prefetch" href="/assets/js/72.e1c0f424.js"><link rel="prefetch" href="/assets/js/73.f12984a7.js"><link rel="prefetch" href="/assets/js/74.38c2a0cf.js"><link rel="prefetch" href="/assets/js/75.2335fb25.js"><link rel="prefetch" href="/assets/js/76.d4be7f31.js"><link rel="prefetch" href="/assets/js/77.6fdc9f0c.js"><link rel="prefetch" href="/assets/js/78.cedd15be.js"><link rel="prefetch" href="/assets/js/79.92efa1c9.js"><link rel="prefetch" href="/assets/js/8.6d109cee.js"><link rel="prefetch" href="/assets/js/80.3bceca35.js"><link rel="prefetch" href="/assets/js/81.c9c6190d.js"><link rel="prefetch" href="/assets/js/82.192c108f.js"><link rel="prefetch" href="/assets/js/83.722f92c1.js"><link rel="prefetch" href="/assets/js/84.3c356278.js"><link rel="prefetch" href="/assets/js/85.e591878a.js"><link rel="prefetch" href="/assets/js/86.ce716788.js"><link rel="prefetch" href="/assets/js/87.fed9a1e6.js"><link rel="prefetch" href="/assets/js/88.a47cb316.js"><link rel="prefetch" href="/assets/js/89.26d3e7b7.js"><link rel="prefetch" href="/assets/js/9.22ff0f32.js"><link rel="prefetch" href="/assets/js/90.29d34271.js"><link rel="prefetch" href="/assets/js/91.6057ee7f.js"><link rel="prefetch" href="/assets/js/92.50e961fd.js"><link rel="prefetch" href="/assets/js/93.ab54eb24.js"><link rel="prefetch" href="/assets/js/94.132c9a58.js"><link rel="prefetch" href="/assets/js/95.78fa4894.js"><link rel="prefetch" href="/assets/js/96.7253cbfe.js"><link rel="prefetch" href="/assets/js/97.974a9071.js"><link rel="prefetch" href="/assets/js/98.20b64660.js"><link rel="prefetch" href="/assets/js/99.09c8b387.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ae13786.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-5bb33761><div data-v-5bb33761><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-5bb33761 data-v-5bb33761><h3 class="title" data-v-59e6cb88>编程印象</h3> <p class="description" data-v-59e6cb88>我盼世界无 bug</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>panfeng</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-5bb33761><header class="navbar" data-v-5bb33761><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="编程印象" class="logo"> <span class="site-name">编程印象</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/interviewQuestions/" class="nav-link"><i class="undefined"></i>
  interviewQuestions
</a></li><li class="dropdown-item"><!----> <a href="/categories/Devops/" class="nav-link"><i class="undefined"></i>
  Devops
</a></li><li class="dropdown-item"><!----> <a href="/categories/javaSE专题/" class="nav-link"><i class="undefined"></i>
  javaSE专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/java后台框架/" class="nav-link"><i class="undefined"></i>
  java后台框架
</a></li><li class="dropdown-item"><!----> <a href="/categories/java底层专题/" class="nav-link"><i class="undefined"></i>
  java底层专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/微服务/" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习路线/" class="nav-link"><i class="undefined"></i>
  学习路线
</a></li><li class="dropdown-item"><!----> <a href="/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/categories/金三银四/" class="nav-link"><i class="undefined"></i>
  金三银四
</a></li><li class="dropdown-item"><!----> <a href="/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/ts/" class="nav-link"><i class="undefined"></i>
  ts
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/categories/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/QYWX/" class="nav-link"><i class="undefined"></i>
  QYWX
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/categories/项目实战/" class="nav-link"><i class="undefined"></i>
  项目实战
</a></li><li class="dropdown-item"><!----> <a href="/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本工具/" class="nav-link"><i class="undefined"></i>
  版本工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      工具推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://codesandbox.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  codeSandbox
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://24kcs.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  正则表达式手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caniuse.com/?search=flex" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  兼容性查询(前端)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://httpbin.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  API请求测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.gaoding.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  编程语言排行榜
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.remove.bg/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  一键去除背景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://snippet-generator.app/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  快速生成代码片段
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/pf_java_development" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-5bb33761></div> <aside class="sidebar" data-v-5bb33761><div class="personal-info-wrapper" data-v-1fad0c41 data-v-5bb33761><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    panfeng
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>563</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>72</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/interviewQuestions/" class="nav-link"><i class="undefined"></i>
  interviewQuestions
</a></li><li class="dropdown-item"><!----> <a href="/categories/Devops/" class="nav-link"><i class="undefined"></i>
  Devops
</a></li><li class="dropdown-item"><!----> <a href="/categories/javaSE专题/" class="nav-link"><i class="undefined"></i>
  javaSE专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/java后台框架/" class="nav-link"><i class="undefined"></i>
  java后台框架
</a></li><li class="dropdown-item"><!----> <a href="/categories/java底层专题/" class="nav-link"><i class="undefined"></i>
  java底层专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/微服务/" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习路线/" class="nav-link"><i class="undefined"></i>
  学习路线
</a></li><li class="dropdown-item"><!----> <a href="/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/categories/金三银四/" class="nav-link"><i class="undefined"></i>
  金三银四
</a></li><li class="dropdown-item"><!----> <a href="/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/ts/" class="nav-link"><i class="undefined"></i>
  ts
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/categories/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/QYWX/" class="nav-link"><i class="undefined"></i>
  QYWX
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/categories/项目实战/" class="nav-link"><i class="undefined"></i>
  项目实战
</a></li><li class="dropdown-item"><!----> <a href="/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本工具/" class="nav-link"><i class="undefined"></i>
  版本工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      工具推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://codesandbox.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  codeSandbox
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://24kcs.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  正则表达式手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caniuse.com/?search=flex" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  兼容性查询(前端)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://httpbin.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  API请求测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.gaoding.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  编程语言排行榜
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.remove.bg/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  一键去除背景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://snippet-generator.app/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  快速生成代码片段
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/pf_java_development" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-5bb33761><h3 class="title" data-v-59e6cb88>基本常识+VM+Vim+用户+文件+解压缩+定时调度+磁盘</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>panfeng</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div data-v-5bb33761><div data-v-5bb33761><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">基本常识+VM+Vim+用户+文件+解压缩+定时调度+磁盘</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>panfeng</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>1/25/2020</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>linux+shell</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="基本常识-vm-vim-用户-文件-解压缩-定时调度-磁盘"><a href="#基本常识-vm-vim-用户-文件-解压缩-定时调度-磁盘" class="header-anchor">#</a> <strong>基本常识+VM+Vim+用户+文件+解压缩+定时调度+磁盘</strong></h1> <h1 id="_1-linux概述"><a href="#_1-linux概述" class="header-anchor">#</a> 1. Linux概述</h1> <h2 id="_1-1-linux-简介"><a href="#_1-1-linux-简介" class="header-anchor">#</a> 1.1 Linux 简介</h2> <p>Linux 内核最初只是由芬兰人林纳斯·托瓦兹（Linus Torvalds）在赫尔辛基大学上学时出于个人爱好而编写的。</p> <p><strong>Linux 是一套免费使用和自由传播的类 Unix 操作系统，是一个基于 POSIX 和 UNIX 的多用户、多任务、支持多线程和多 CPU 的操作系统。</strong></p> <p>Linux 能运行主要的 UNIX 工具软件、应用程序和网络协议。它支持 32 位和 64 位硬件。Linux 继承了 Unix 以网络为核心的设计思想，是一个性能稳定的多用户网络操作系统。</p> <p><a href="https://www.bithachi.com/" target="_blank" rel="noopener noreferrer">Linux命令大全(手册)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-2-uninx是怎么来的"><a href="#_1-2-uninx是怎么来的" class="header-anchor">#</a> 1.2 Uninx是怎么来的？</h2> <p>UNIX操作系统(尤尼斯)，是一个强大的<strong>多用户、多任务操作系统，支持多种</strong><a href="https://baike.so.com/doc/2561011-2704710.html" target="_blank" rel="noopener noreferrer"><strong>处理器架构</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，按照操作系统的分类，属于<strong>分时操作系统</strong>，最早由KenThompson、Dennis Ritchie和Douglas McIlroy于1969年在<a href="https://baike.so.com/doc/2476166-2617057.html" target="_blank" rel="noopener noreferrer">AT&amp;T<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的贝尔实验室开发。目前它的商标权由国际开放标准组织所拥有，只有符合单一UNIX规范的UNIX系统才能使用UNIX这个名称，否则只能称为类UNIX(UNIX-like)。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901793581-8fcddbb0-797f-4669-acd0-0bbdead40675.png" alt="img"></p> <h2 id="_1-3-linux是怎么来的"><a href="#_1-3-linux是怎么来的" class="header-anchor">#</a> 1.3 Linux是怎么来的？</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791876-a3f0089a-d53e-40b7-bb4e-4ec958acb643.png" alt="img"></p> <p><strong>GNU计划：又称革奴计划</strong>，是由Richard Stallman在1983年9月27日公开发起的。<strong>它的目标是创建一套完全自由的操作系统。</strong></p> <p>Linux的历史是和GNU紧密联系在一起的。从1983年开始的GNU计划致力于开发一个自由并且完整的类Unix操作系统，包括软件开发工具和各种应用程序。到1991年Linux内核发布的时候**，GNU已经几乎完成了除了系统内核之外的各种必备软件的开发。在Linus Torvalds和其他开发人员的努力下，GNU组件可以运行于Linux内核之上**。</p> <h2 id="_1-4-linux与unix关系图"><a href="#_1-4-linux与unix关系图" class="header-anchor">#</a> 1.4 Linux与Unix关系图</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901792481-181ae277-364a-4e6a-9a68-d1ed3006f413.png" alt="img"></p> <p><strong>GNU/Linux：Linux只是一个操作系统内核而已，而GNU提供了大量的自由软件来丰富在其之上各种应用程序。</strong></p> <p>因此，严格来讲，Linux这个词本身只表示Linux内核，但在实际上人们已经习惯了用Linux来形容整个基于Linux内核，并且使用GNU 工程各种工具和数据库的操作系统。基于这些组件的Linux软件被称为Linux发行版。一般来讲，一个Linux发行套件包含大量的软件，比如软件开发工具，数据库，Web服务器（例如Apache)，X Window，桌面环境（比如GNOME和KDE），办公套件（比如OpenOffice.org），等等。</p> <h2 id="_1-5-linux-的发行版"><a href="#_1-5-linux-的发行版" class="header-anchor">#</a> 1.5 Linux 的发行版</h2> <p>Linux 的发行版说简单点就是将 Linux 内核与应用软件做一个打包。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1613901791010-21c100a4-33df-4623-a279-f4d3cfc62671.jpeg" alt="img"></p> <p>目前市面上较知名的发行版有：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1613901791545-45301d00-aada-4ffe-987e-c298ebd89f89.jpeg" alt="img"></p> <h2 id="_1-6-linux-的应用领域"><a href="#_1-6-linux-的应用领域" class="header-anchor">#</a> 1.6 Linux 的应用领域</h2> <p>今天各种场合都有使用各种 Linux 发行版，从嵌入式设备到超级计算机，并且在服务器领域确定了地位，通常服务器使用 LAMP（Linux + Apache + MySQL + PHP）或 LNMP（Linux + Nginx+ MySQL + PHP）组合。</p> <p>目前 Linux 不仅在家庭与企业中使用，并且在政府中也很受欢迎。</p> <ul><li>巴西联邦政府由于支持 Linux 而世界闻名。</li> <li>有新闻报道俄罗斯军队自己制造的 Linux 发布版的，做为 G.H.ost 项目已经取得成果。</li> <li>印度的 Kerala 联邦计划在向全联邦的高中推广使用 Linux。</li> <li>中华人民共和国为取得技术独立，在龙芯处理器中排他性地使用 Linux。</li> <li>在西班牙的一些地区开发了自己的 Linux 发布版，并且在政府与教育领域广泛使用，如 Extremadura 地区的 gnuLinEx 和 Andalusia 地区的 Guadalinex。</li> <li>葡萄牙同样使用自己的 Linux 发布版 Caixa Mágica，用于 Magalh?es 笔记本电脑和 e-escola 政府软件。</li> <li>法国和德国同样开始逐步采用 Linux。</li></ul> <h2 id="_1-7-linux-vs-windows"><a href="#_1-7-linux-vs-windows" class="header-anchor">#</a> 1.7 Linux vs Windows</h2> <p>目前国内 Linux 更多的是应用于服务器上，而桌面操作系统更多使用的是 Windows。主要区别如下</p> <table><thead><tr><th>比较</th> <th>Windows</th> <th>Linux</th></tr></thead> <tbody><tr><td>界面</td> <td>界面统一，外壳程序固定所有 Windows 程序菜单几乎一致，快捷键也几乎相同</td> <td>图形界面风格依发布版不同而不同，可能互不兼容。GNU/Linux 的终端机是从 UNIX 传承下来，基本命令和操作方法也几乎一致。</td></tr> <tr><td>驱动程序</td> <td>驱动程序丰富，版本更新频繁。默认安装程序里面一般包含有该版本发布时流行的硬件驱动程序，之后所出的新硬件驱动依赖于硬件厂商提供。对于一些老硬件，如果没有了原配的驱动有时很难支持。另外，有时硬件厂商未提供所需版本的 Windows 下的驱动，也会比较头痛。</td> <td>由志愿者开发，由 Linux 核心开发小组发布，很多硬件厂商基于版权考虑并未提供驱动程序，尽管多数无需手动安装，但是涉及安装则相对复杂，使得新用户面对驱动程序问题（是否存在和安装方法）会一筹莫展。但是在开源开发模式下，许多老硬件尽管在Windows下很难支持的也容易找到驱动。HP、Intel、AMD 等硬件厂商逐步不同程度支持开源驱动，问题正在得到缓解。</td></tr> <tr><td>使用</td> <td>使用比较简单，容易入门。图形化界面对没有计算机背景知识的用户使用十分有利。</td> <td>图形界面使用简单，容易入门。文字界面，需要学习才能掌握。</td></tr> <tr><td>学习</td> <td>系统构造复杂、变化频繁，且知识、技能淘汰快，深入学习困难。</td> <td>系统构造简单、稳定，且知识、技能传承性好，深入学习相对容易。</td></tr> <tr><td>软件</td> <td>每一种特定功能可能都需要商业软件的支持，需要购买相应的授权。</td> <td>大部分软件都可以自由获取，同样功能的软件选择较少。</td></tr></tbody></table> <h2 id="_1-8-关于centos的未来"><a href="#_1-8-关于centos的未来" class="header-anchor">#</a> 1.8 关于Centos的未来</h2> <p>2020年12 月 8 日，因为红帽公司（Red Hat）拒绝继续为CentOS 投资，CentOS 开发团队在其<a href="https://blog.centos.org/2020/12/future-is-centos-stream/" target="_blank" rel="noopener noreferrer">官博宣布<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，CentOS 8 将在 2021 年底结束支持，CentOS 7 由于用户基数与用户贡献较多，因此会按照计划维护至生命周期结束即 2024 年 6 月 30 日，接下来一年会把重心放到 CentOS Stream 上。</p> <p>然而，CentOS 停止维护消息一出，便引发了广大开发者的强烈不满。</p> <p>对此，CentOS 创始人 Gregory Kurtzer 在 Github 上发起新项目 Rocky Linux（https://github.com/hpcng/rocky），目前 Star 数已过千。</p> <p>他还表示：“Rocky Linux 是一个社区企业操作系统，旨在与 Red Hat Enterprise Linux 100％ 兼容。现在 CentOS 已经改变方向了。”</p> <h1 id="_2-vmware15-5安装centos7-6"><a href="#_2-vmware15-5安装centos7-6" class="header-anchor">#</a> 2. VMware15.5安装Centos7.6</h1> <h2 id="_2-1-vm、主机、linux的关系"><a href="#_2-1-vm、主机、linux的关系" class="header-anchor">#</a> 2.1 VM、主机、Linux的关系</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791064-0117034b-4039-42a6-a3eb-45999bd45d55.png" alt="img"></p> <h2 id="_2-2-vm下载安装"><a href="#_2-2-vm下载安装" class="header-anchor">#</a> 2.2 VM下载安装</h2> <p><strong>下载链接和许可证：</strong></p> <p>激活密钥许可证VMware Workstation Pro 15</p> <p>激活许可证</p> <p>UY758-0RXEQ-M81WP-8ZM7Z-Y3HDA</p> <p>VF750-4MX5Q-488DQ-9WZE9-ZY2D6</p> <p>UU54R-FVD91-488PP-7NNGC-ZFAX6</p> <p>YC74H-FGF92-081VZ-R5QNG-P6RY4</p> <p>YC34H-6WWDK-085MQ-JYPNX-NZRA2</p> <p>下载地址VMware Workstation Pro 15.5.0 Build 14665864</p> <p>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.5.0-14665864.exe</p> <p>VMware Workstation Pro 15.1.0 Build 13591040</p> <p>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-15.1.0-13591040.exe</p> <p>VMware Workstation Pro 14.1.3 Build 9474260</p> <p>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-14.1.3-9474260.exe</p> <p>VMware Workstation Pro 12.5.9 Build 7535481</p> <p>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-12.5.9-7535481.exe</p> <p>VMware Workstation 10.0.7 Build 2844087</p> <p>https://download3.vmware.com/software/wkst/file/VMware-workstation-full-10.0.7-2844087.exe</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791001-fa9e76b6-5f79-4bad-9ffb-e82b2b5add2a.png" alt="img"></p> <h2 id="_2-3-centos7-6下载"><a href="#_2-3-centos7-6下载" class="header-anchor">#</a> 2.3 Centos7.6下载</h2> <p>下载地址：</p> <ul><li><p>https://vault.centos.org/7.6.1810/isos/x86_64/</p></li> <li><p>https://mirrors.aliyun.com/centos-vault/7.6.1810/isos/x86_64/</p></li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791016-97ea2aea-0c10-4bc2-bbba-4f3fcfbc090b.png" alt="img"></p> <p><strong>DVD版</strong>：这个是常用版本，就是普通安装版了，推荐大家安装。里面包含大量的常用软件，大部分情况下安装时无需再在线下载，体积为4G。</p> <p><strong>Everything版</strong>：顾名思义，包含了所有软件组件，当然体积也庞大，高达7G。</p> <p><strong>LiveCD版</strong>：就是一个光盘CentOS系统，可通过光盘启动电脑，启动出CentOS系统，也有图形界面，也有终端。也可以安装到计算机，但是有些内容可能还需要再次到网站下载（自动）。</p> <p><strong>Minimal版</strong>：精简版本，包含核心组件，体积才600多MB。</p> <p><strong>NetInstall版</strong>：顾名思义，网络安装版本，一般不用这个版本。</p> <h2 id="_2-4-vm安装centos7-6"><a href="#_2-4-vm安装centos7-6" class="header-anchor">#</a> 2.4 VM安装centos7.6</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901793231-d879dfe6-2795-416b-a119-97ef892edd26.png" alt="img"></p> <h2 id="_2-5-vm三种网络模式-桥接、nat-、仅主机"><a href="#_2-5-vm三种网络模式-桥接、nat-、仅主机" class="header-anchor">#</a> 2.5 VM三种网络模式：“桥接、NAT 、仅主机”</h2> <p>vmware为我们提供了三种网络工作模式，它们分别是：<strong>Bridged（桥接模式）、NAT（网络地址转换模式）、Host-Only（仅主机模式）。</strong></p> <p>打开vmware虚拟机，我们可以在选项栏的“编辑”下的“虚拟网络编辑器”中看到VMnet0（桥接模式）、VMnet1（仅主机模式）、VMnet8（NAT模式），那么这些都是有什么作用呢？</p> <p>其实，我们现在看到的<strong>VMnet0</strong>表示的是用于<strong>桥接模式</strong>下的虚拟交换机；</p> <p><strong>VMnet1</strong>表示的是用于<strong>仅主机模式</strong>下的虚拟交换机；</p> <p><strong>VMnet8</strong>表示的是用于<strong>NAT模式</strong>下的虚拟交换机。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791299-1a901bdc-1fdb-4f13-b513-6b0681e7b50d.png" alt="img"></p> <p>同时，在主机上对应的有<strong>VMware Network Adapter VMnet1和VMware Network Adapter VMnet8两块虚拟网卡</strong>，它们分别作用于<strong>仅主机模式与NAT模式</strong>下。在“网络连接”中我们可以看到这两块虚拟网卡，如果将这两块卸载了，可以在vmware的“编辑”下的“虚拟网络编辑器”中点击“还原默认设置”，可重新将虚拟网卡还原。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791259-651cde34-da39-420d-8eda-77cb253f387d.png" alt="img"></p> <h3 id="_2-5-1-bridged-桥接模式"><a href="#_2-5-1-bridged-桥接模式" class="header-anchor">#</a> 2.5.1 Bridged（桥接模式）</h3> <p>​		桥接模式像是一种嫁接模式，把主机主机网卡和虚拟机网卡嫁接到一起，这个连接的工具就是虚拟网桥。虚拟机上的虚拟网卡连接到虚拟交换机Vmnet0上，Vmnet0又通过虚拟网桥与主机网卡相连。这种方式的虚拟机类似于和主机在同一网段中的物理机一样，可以访问局域网中的任何机器，主机能够上网，虚拟机也可以上网。但是有个问题是此模式下如果物理机的ip发生变化，虚拟机的ip也会去相应的改变。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791720-9774029f-6701-4ff1-a232-9b36c28b0645.png" alt="img"></p> <h3 id="_2-5-2-nat-地址转换模式"><a href="#_2-5-2-nat-地址转换模式" class="header-anchor">#</a> 2.5.2 NAT（地址转换模式）</h3> <p>​		NAT（Network Address Translation，网络地址转换），是用来共享主机IP的方式，同样的Vmnet8作为虚拟机的交换机，它是通过虚拟的NAT设备和主机网卡互联，来实现网络访问的。另外Vmnet8也连接了虚拟DHCP服务器，可以动态的对虚拟机进行ip的分配。Vmnet8虚拟交换机和主机的通信并不是通过虚拟NAT设备，而是通过以太网4（Vmware Network Adapter Vmnet8）和主机进行通信。**此模式下主机如果可以访问网络，那么虚拟机也是可以的，默认情况下和主机同一网段的其它物理机是无法访问虚拟机的，但虚拟机可以访问其它物理机。**如果想要其它物理机访问虚拟机，可以通过使用主机转发物理机的端口方式来实现互相通信。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791486-cabb0639-02e2-4a53-b8c4-c02e4e5734dc.png" alt="img"></p> <h3 id="_2-5-3-host-only-仅主机模式"><a href="#_2-5-3-host-only-仅主机模式" class="header-anchor">#</a> 2.5.3 Host-Only(仅主机模式)</h3> <p>​		Host-Only其实就是NAT模式去除了NAT虚拟设备，然后使用Vmware Network Adapter VMnet1虚拟网卡连接主机，通过虚拟网卡和Vmnet1虚拟交换机互联，实现虚拟机和主机的互相通信。此模式将虚拟机和外网隔离，使得虚拟机成为一个独立的系统，使得虚拟机无法联网，但是所有的虚拟机之间可以互相通信。此模式下的IP信息，是由host-only虚拟网络的DHCP服务器来分配的，如果想要上网可以将能上网的主机网卡共享给Vmware Network Adapter Vmnet1，这样可以实现虚拟机联网。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901790960-f10bab77-be31-44ba-bb37-809161ec860d.png" alt="img"></p> <h3 id="_2-5-4-三种网络扩展及配置"><a href="#_2-5-4-三种网络扩展及配置" class="header-anchor">#</a> 2.5.4 三种网络扩展及配置</h3> <ul><li>https://zhuanlan.zhihu.com/p/56658358</li> <li>https://blog.csdn.net/zhang_xinxiu/article/details/84404848</li></ul> <h2 id="_2-6-vm虚拟机克隆"><a href="#_2-6-vm虚拟机克隆" class="header-anchor">#</a> 2.6 VM虚拟机克隆</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791348-11a1531b-b7f7-49e4-9d98-7d35e2837a60.png" alt="img"></p> <h2 id="_2-7-vm虚拟机快照"><a href="#_2-7-vm虚拟机快照" class="header-anchor">#</a> 2.7 VM虚拟机快照</h2> <p>​		磁盘“快照”是<a href="https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E6%9C%BA/104440" target="_blank" rel="noopener noreferrer">虚拟机<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>磁盘文件（VMDK）在某个点及时的副本。<a href="https://baike.baidu.com/item/%E7%B3%BB%E7%BB%9F%E5%B4%A9%E6%BA%83/71286" target="_blank" rel="noopener noreferrer">系统崩溃<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或系统异常，你可以通过使用恢复到快照来保持<a href="https://baike.baidu.com/item/%E7%A3%81%E7%9B%98%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/1725154" target="_blank" rel="noopener noreferrer">磁盘文件系统<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和系统存储。当升级应用和服务器及给它们打补丁的时候，快照是救世主。VMware快照是VMware Workstation里的一个特色功能。</p> <p>​		如果你创建了多于一个的<a href="https://baike.baidu.com/item/%E8%99%9A%E6%8B%9F%E6%9C%BA" target="_blank" rel="noopener noreferrer">虚拟机<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>快照，那么，你将有多个<a href="https://baike.baidu.com/item/%E8%BF%98%E5%8E%9F%E7%82%B9" target="_blank" rel="noopener noreferrer">还原点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以用于恢复。当你创建了一个快照，那快照在可写的那个点上就变成了只读的。使用in-file delta技术就能创建新文件记录所有的关于原始磁盘文件的变更（delta）。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791845-c7b4160d-5fbd-40d3-940b-c70e7d667c68.png" alt="img"></p> <h2 id="_2-8-vm虚拟机前移和删除"><a href="#_2-8-vm虚拟机前移和删除" class="header-anchor">#</a> 2.8 VM虚拟机前移和删除</h2> <p>虚拟系统安装好了,它的本质就是文件(放在文件夹的)。因此虚拟系统的迁移很方便，你可以把安装好的虚拟系统这个文件夹整体<strong>拷贝或剪切</strong>到另外位置使用。 删除也很简单,用vmware进行移除 ,再点击菜单-&gt;从磁盘删除即可,或者直接手动删除虚拟系统对应的文件夹即可。</p> <h2 id="_2-9-安装vmtools并设置共享文件夹"><a href="#_2-9-安装vmtools并设置共享文件夹" class="header-anchor">#</a> 2.9 安装vmtools并设置共享文件夹</h2> <ul><li>vmtools安装后，可以让我们在windows下更好的管理vm虚拟机</li> <li>可以设置windows和centos的共享文件夹</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791535-c44e4b0e-67df-47d3-b39d-23c51e5df471.png" alt="img"></p> <p><strong>设置共享文件夹：</strong></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901792086-69191bcc-66d7-4888-8f72-87d430762f67.png" alt="img"></p> <h1 id="_3-linux-系统目录结构"><a href="#_3-linux-系统目录结构" class="header-anchor">#</a> 3. Linux 系统目录结构</h1> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin   dev  home  lib64       media  opt   root  sbin  sys  usr
boot  etc  lib   lost+found  mnt    proc  run   srv   tmp  var
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1613901791086-c6abbda5-3408-43ae-9166-19eb9a47d675.jpeg" alt="img"></p> <p>以下是对这些目录的解释：</p> <ul><li><strong>/bin</strong>：
bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。</li> <li><strong>/boot：</strong>
这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</li> <li><strong>/dev ：</strong>
dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。</li> <li><strong>/etc：</strong>
etc 是 Etcetera(等等) 的缩写,这个目录用来存放所有的系统管理所需要的配置文件和子目录,比如mysql数据库的my.conf。</li> <li><strong>/home</strong>：
用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。</li> <li><strong>/lib</strong>：
lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。</li> <li><strong>/lost+found</strong>：
这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</li> <li><strong>/media</strong>：
linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。</li> <li><strong>/mnt</strong>：
系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。</li> <li><strong>/opt</strong>：
opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</li> <li><strong>/proc</strong>：
proc 是 Processes(进程) 的缩写，/proc 是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。
这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token number">1</span> <span class="token operator">&gt;</span> /proc/sys/net/ipv4/icmp_echo_ignore_all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>/root</strong>：
该目录为系统管理员，也称作超级权限者的用户主目录。</li> <li><strong>/sbin</strong>：
s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。</li> <li><strong>/selinux</strong>：
这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。</li> <li><strong>/srv</strong>：
该目录存放一些服务启动之后需要提取的数据。</li> <li><strong>/sys</strong>：
这是 Linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs 。
sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。
该文件系统是内核设备树的一个直观反映。
当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</li> <li><strong>/tmp</strong>：
tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。</li> <li><strong>/usr</strong>：
usr 是 <strong>unix shared resources(共享资源)</strong> 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，<strong>类似于 windows 下的 program files 目录。</strong></li> <li><strong>/usr/bin：</strong>
系统用户使用的应用程序。</li> <li><strong>/usr/sbin：</strong>
超级用户使用的比较高级的管理程序和系统守护程序。</li> <li><strong>/usr/src：</strong>
内核源代码默认的放置目录。</li> <li><strong>/var</strong>：
var 是 variable(变量) 的缩写，这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</li> <li><strong>/run</strong>：
是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>在 Linux 系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>/etc</strong>： 上边也提到了，这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。</p> <p><strong>/bin, /sbin, /usr/bin, /usr/sbin</strong>: 这是系统预设的执行文件的放置目录，比如 ls 就是在 /bin/ls 目录下的。</p> <p>值得提出的是，/bin, /usr/bin 是给系统用户使用的指令（除root外的通用户），而/sbin, /usr/sbin 则是给 root 使用的指令。</p> <p><strong>/var</strong>： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在 /var/log 目录下，另外 mail 的预设放置也是在这里。</p> <h1 id="_4-使用xshell远程登录linux"><a href="#_4-使用xshell远程登录linux" class="header-anchor">#</a> 4. 使用Xshell远程登录Linux</h1> <p>下载网址：https://www.netsarang.com/zh/free-for-home-school/</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791481-5af14561-c318-412d-ae76-13395e28b337.png" alt="img"></p> <h1 id="_5-使用filezilla远程传输文件linux"><a href="#_5-使用filezilla远程传输文件linux" class="header-anchor">#</a> 5. 使用FileZilla远程传输文件Linux</h1> <p>之前使用过xftp传输文件，但是后来这个工具老是闪退，所以就换成了FileZilla。</p> <p>下载网站：https://www.filezilla.cn/download/client</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791723-1a823a1a-458d-4cba-a0ef-d13d111bc5ae.png" alt="img"></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901792012-45ebd09f-2ba5-45bf-9f87-82ae8ab51a4b.png" alt="img"></p> <h1 id="_6-vim编辑器"><a href="#_6-vim编辑器" class="header-anchor">#</a> 6. Vim编辑器</h1> <p>所有的 类 Unix 系统都会内建 vi 文书编辑器，其他的文书编辑器则不一定会存在。</p> <p>但是目前我们使用比较多的是 vim 编辑器，vim是从 vi 发展出来的一个文本编辑器。可以把vim看做vi的升级版。</p> <p>vim 具有代码补完、编译及错误跳转等方便编程的功能，可以主动的以字体颜色辨别语法的正确性，方便程序设计。</p> <h2 id="_6-1-三种模式"><a href="#_6-1-三种模式" class="header-anchor">#</a> 6.1 三种模式</h2> <p>基本上 vi/vim 共分为三种模式，分别是<strong>命令模式（Command mode）</strong>，<strong>输入模式（Insert mode）<strong>和</strong>底线命令模式（Last line mode）</strong>。 这三种模式的作用分别是：</p> <h3 id="i-一般-命令模式"><a href="#i-一般-命令模式" class="header-anchor">#</a> Ⅰ.(一般)命令模式</h3> <p><strong>用户刚刚启动 vi/vim，便进入了命令模式。</strong></p> <p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p> <p>以下是常用的几个命令：</p> <ul><li><strong>i</strong> 切换到<strong>输入模式</strong>，以输入字符。</li> <li><strong>x</strong> 删除当前光标所在处的字符。</li> <li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li></ul> <p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p> <p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791702-36632651-e3f5-4b59-8ed7-fda9f265ad4e.png" alt="img"></p> <h3 id="ii-编辑-输入-模式"><a href="#ii-编辑-输入-模式" class="header-anchor">#</a> Ⅱ.(编辑/输入)模式</h3> <p><strong>在命令模式下按下（i,a,o）就进入了输入模式。</strong></p> <table><thead><tr><th>进入输入或取代的编辑模式</th> <th></th></tr></thead> <tbody><tr><td>i, I</td> <td>进入输入模式(Insert mode)： i 为『从目前光标所在处输入』， I 为『在目前所在行的第一个非空格符处开始输入』。 (常用)</td></tr> <tr><td>a, A</td> <td>进入输入模式(Insert mode)： a 为『从目前光标所在的下一个字符处开始输入』， A 为『从光标所在行的最后一个字符处开始输入』。(常用)</td></tr> <tr><td>o, O</td> <td>进入输入模式(Insert mode)： 这是英文字母 o 的大小写。o 为在目前光标所在的下一行处输入新的一行； O 为在目前光标所在的上一行处输入新的一行！(常用)</td></tr> <tr><td>r, R</td> <td>进入取代模式(Replace mode)： r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用)</td></tr> <tr><td>上面这些按键中，在 vi 画面的左下角处会出现『--INSERT--』或『--REPLACE--』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！</td> <td></td></tr> <tr><td>[Esc]</td> <td>退出编辑模式，回到一般模式中(常用)</td></tr></tbody></table> <p><strong>在输入模式中，可以使用以下按键：</strong></p> <ul><li><strong>字符按键以及Shift组合</strong>，输入字符</li> <li><strong>ENTER</strong>，回车键，换行</li> <li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li> <li><strong>DEL</strong>，删除键，删除光标后一个字符</li> <li><strong>方向键</strong>，在文本中移动光标</li> <li><strong>HOME</strong>/<strong>END</strong>，移动光标到行首/行尾</li> <li><strong>Page Up</strong>/<strong>Page Down</strong>，上/下翻页</li> <li><strong>Insert</strong>，切换光标为输入/替换模式，光标将变成竖线/下划线</li> <li><strong>ESC</strong>，退出输入模式，切换到命令模式</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791571-edefbf56-7c4b-4203-aff6-159f26ca34f6.png" alt="img"></p> <h3 id="iii-底线命令模式-命令行模式"><a href="#iii-底线命令模式-命令行模式" class="header-anchor">#</a> Ⅲ.底线命令模式(命令行模式)</h3> <p><strong>在命令模式下按下:（shift+英文冒号）就进入了底线命令模式。</strong></p> <p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p> <p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p> <ul><li>q 退出程序</li> <li>q！不保存并强制退出</li> <li>w 保存文件</li> <li>wq 保存文件并退出程序</li></ul> <p>按ESC键可随时退出底线命令模式。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791849-f0cb2024-4757-40a1-a234-34157499687f.png" alt="img"></p> <h3 id="iv-三种模式的转换"><a href="#iv-三种模式的转换" class="header-anchor">#</a> Ⅳ.三种模式的转换</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901790981-4bde556d-c557-4136-93db-11df5d17caf0.png" alt="img"></p> <h2 id="_6-2-快捷键"><a href="#_6-2-快捷键" class="header-anchor">#</a> 6.2 快捷键</h2> <h3 id="i-一般-命令模式-光标移动、删除、复制粘贴、撤销"><a href="#i-一般-命令模式-光标移动、删除、复制粘贴、撤销" class="header-anchor">#</a> Ⅰ.(一般)命令模式：光标移动、删除、复制粘贴、撤销</h3> <table><thead><tr><th>光标移动的方法</th> <th></th></tr></thead> <tbody><tr><td>h 或 向左箭头键(←)</td> <td>光标向左移动一个字符</td></tr> <tr><td>j 或 向下箭头键(↓)</td> <td>光标向下移动一个字符</td></tr> <tr><td>k 或 向上箭头键(↑)</td> <td>光标向上移动一个字符</td></tr> <tr><td>l 或 向右箭头键(→)</td> <td>光标向右移动一个字符</td></tr> <tr><td>如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 &quot;30j&quot; 或 &quot;30↓&quot; 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！</td> <td></td></tr> <tr><td>[Ctrl] + [f]</td> <td>屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)</td></tr> <tr><td>[Ctrl] + [b]</td> <td>屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)</td></tr> <tr><td>[Ctrl] + [d]</td> <td>屏幕『向下』移动半页</td></tr> <tr><td>[Ctrl] + [u]</td> <td>屏幕『向上』移动半页</td></tr> <tr><td>+</td> <td>光标移动到非空格符的下一行</td></tr> <tr><td>-</td> <td>光标移动到非空格符的上一行</td></tr> <tr><td>n</td> <td>那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20 则光标会向后面移动 20 个字符距离。</td></tr> <tr><td>0 或功能键[Home]</td> <td>这是数字『 0 』：移动到这一行的最前面字符处 (常用)</td></tr> <tr><td>$ 或功能键[End]</td> <td>移动到这一行的最后面字符处(常用)</td></tr> <tr><td>H</td> <td>光标移动到这个屏幕的最上方那一行的第一个字符</td></tr> <tr><td>M</td> <td>光标移动到这个屏幕的中央那一行的第一个字符</td></tr> <tr><td>L</td> <td>光标移动到这个屏幕的最下方那一行的第一个字符</td></tr> <tr><td>G</td> <td>移动到这个档案的最后一行(常用)</td></tr> <tr><td>nG</td> <td>n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu)</td></tr> <tr><td>gg</td> <td>移动到这个档案的第一行，相当于 1G 啊！ (常用)</td></tr> <tr><td>n</td> <td>n 为数字。光标向下移动 n 行(常用)</td></tr></tbody></table> <table><thead><tr><th>删除、复制与粘贴</th> <th></th></tr></thead> <tbody><tr><td>x, X</td> <td>在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用)</td></tr> <tr><td>nx</td> <td>n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。</td></tr> <tr><td>dd</td> <td>删除游标所在的那一整行(常用)</td></tr> <tr><td>ndd</td> <td>n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除 20 行 (常用)</td></tr> <tr><td>d1G</td> <td>删除光标所在到第一行的所有数据</td></tr> <tr><td>dG</td> <td>删除光标所在到最后一行的所有数据</td></tr> <tr><td>d$</td> <td>删除游标所在处，到该行的最后一个字符</td></tr> <tr><td>d0</td> <td>那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符</td></tr> <tr><td>yy</td> <td>复制游标所在的那一行(常用)</td></tr> <tr><td>nyy</td> <td>n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用)</td></tr> <tr><td>y1G</td> <td>复制游标所在行到第一行的所有数据</td></tr> <tr><td>yG</td> <td>复制游标所在行到最后一行的所有数据</td></tr> <tr><td>y0</td> <td>复制光标所在的那个字符到该行行首的所有数据</td></tr> <tr><td>y$</td> <td>复制光标所在的那个字符到该行行尾的所有数据</td></tr> <tr><td>p, P</td> <td>p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)</td></tr> <tr><td>J</td> <td>将光标所在行与下一行的数据结合成同一行</td></tr> <tr><td>c</td> <td>重复删除多个数据，例如向下删除 10 行，[ 10cj ]</td></tr> <tr><td><strong>u</strong></td> <td><strong>复原前一个动作。可以理解为撤销上一步操作！(常用)</strong></td></tr> <tr><td><strong>[Ctrl]+r</strong></td> <td><strong>重做上一个动作。可以理解为重新编辑上一步操作，撤销之后又返回！(常用)</strong></td></tr> <tr><td>这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！</td> <td></td></tr> <tr><td>.</td> <td>不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)</td></tr></tbody></table> <h3 id="ii-底线命令模式-命令行模式-搜索替换、指令行的储存、离开等指令、显示行号操作"><a href="#ii-底线命令模式-命令行模式-搜索替换、指令行的储存、离开等指令、显示行号操作" class="header-anchor">#</a> Ⅱ.(底线命令模式)命令行模式：搜索替换、指令行的储存、离开等指令、显示行号操作</h3> <table><thead><tr><th>搜索替换</th> <th></th></tr></thead> <tbody><tr><td><strong>:/word</strong></td> <td>向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)</td></tr> <tr><td><strong>:?word</strong></td> <td>向光标之上寻找一个字符串名称为 word 的字符串。</td></tr> <tr><td>n</td> <td>这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！</td></tr> <tr><td>N</td> <td>这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。</td></tr> <tr><td>使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！</td> <td></td></tr> <tr><td><strong>:n1,n2s/word1/word2/g</strong></td> <td>n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用)</td></tr> <tr><td><strong>:1,$s/word1/word2/g</strong> 或 <strong>:%s/word1/word2/g</strong></td> <td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</td></tr> <tr><td><strong>:1,$s/word1/word2/gc</strong> 或 <strong>:%s/word1/word2/gc</strong></td> <td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</td></tr></tbody></table> <table><thead><tr><th>指令行的储存、离开等指令</th> <th></th></tr></thead> <tbody><tr><td>:w</td> <td>将编辑的数据写入硬盘档案中(常用)</td></tr> <tr><td>:w!</td> <td>若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！</td></tr> <tr><td>:q</td> <td>离开 vi (常用)</td></tr> <tr><td>:q!</td> <td>若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。</td></tr> <tr><td>注意一下啊，那个惊叹号 (!) 在 vi 当中，常常具有『强制』的意思～</td> <td></td></tr> <tr><td>:wq</td> <td>储存后离开，若为 :wq! 则为强制储存后离开 (常用)</td></tr> <tr><td>ZZ</td> <td>这是大写的 Z 喔！如果修改过，保存当前文件，然后退出！效果等同于(保存并退出)</td></tr> <tr><td>ZQ</td> <td>不保存，强制退出。效果等同于 <strong>:q!</strong>。</td></tr> <tr><td>:w [filename]</td> <td>将编辑的数据储存成另一个档案（类似另存新档）</td></tr> <tr><td>:r [filename]</td> <td>在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面</td></tr> <tr><td>:n1,n2 w [filename]</td> <td>将 n1 到 n2 的内容储存成 filename 这个档案。</td></tr> <tr><td>:! command</td> <td>暂时离开 vi 到指令行模式下执行 command 的显示结果！例如 『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！</td></tr></tbody></table> <table><thead><tr><th>vim 行号操作</th> <th></th></tr></thead> <tbody><tr><td>:set nu</td> <td>显示行号，设定之后，会在每一行的前缀显示该行的行号</td></tr> <tr><td>:set nonu</td> <td>与 set nu 相反，为取消行号！</td></tr></tbody></table> <p>特别注意，在 vi/vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。</p> <p>举例来说，要删除 50 行，则是用 『50dd』 对吧！ 数字加在动作之前，如我要向下移动 20 行呢？那就是『20j』或者是『20↓』即可。</p> <h2 id="_6-3-vim键盘图"><a href="#_6-3-vim键盘图" class="header-anchor">#</a> 6.3 Vim键盘图</h2> <p><img src="https://cdn.nlark.com/yuque/0/2021/gif/10385897/1613901791007-0ce47117-b249-4c23-93f5-88c9214c68d6.gif" alt="img"></p> <h1 id="_7-关机和重启"><a href="#_7-关机和重启" class="header-anchor">#</a> 7. 关机和重启</h1> <p>关机与重启的命令需要系统用户权限root</p> <table><thead><tr><th>命令</th> <th>解释</th></tr></thead> <tbody><tr><td>shutdown -h now</td> <td>立该进行关机</td></tr> <tr><td>shudown -h 1</td> <td>1分钟后会关机</td></tr> <tr><td>shutdown -r now</td> <td>现在重新启动计算机</td></tr> <tr><td>halt</td> <td>立该进行关机</td></tr> <tr><td>reboot</td> <td>现在重新启动计算机</td></tr> <tr><td>sync</td> <td>把内存的数据同步到磁盘</td></tr></tbody></table> <p>1)不管是重启 系统还是关闭系统，首先要运行sync命令，把内存中的数据写到磁盘中!</p> <p>2)目 前的shutdown/reboot/halt 等命令均已经在关机前进行了sync ，小心驶得万年船!</p> <h1 id="_8-用户登录与注销"><a href="#_8-用户登录与注销" class="header-anchor">#</a> 8.用户登录与注销</h1> <ul><li>远程登录时尽量少用root帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用**”su - 用户名’**命令来切换成系统管理员身份.</li> <li>在提示符下输入<strong>logout</strong> 即可<strong>注销</strong>用户，logout 注销指令在图形运行级别无效，在命令行界面级别下有效.</li></ul> <h1 id="_9-用户管理"><a href="#_9-用户管理" class="header-anchor">#</a> 9. 用户管理</h1> <p>​		Linux系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。</p> <p>用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护。</p> <p>每个用户账号都拥有一个唯一的用户名和各自的口令。</p> <p>用户在登录时键入正确的用户名和口令后，就能够进入系统和自己的主目录。</p> <p>实现用户账号的管理，要完成的工作主要有如下几个方面：</p> <ul><li>用户账号的添加、删除与修改。</li> <li>用户口令的管理。</li> <li>用户组的管理。</li></ul> <h2 id="_9-1-添加用户"><a href="#_9-1-添加用户" class="header-anchor">#</a> 9.1 添加用户</h2> <p><strong>添加新的用户账号使用useradd命令，其语法如下：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">useradd</span> 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>参数说明：</p> <ul><li><p>选项:</p></li> <li><ul><li>-c comment 指定一段注释性描述。</li> <li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。</li> <li>-g 用户组 指定用户所属的用户组。</li> <li>-G 用户组，用户组 指定用户所属的附加组。</li> <li>-s Shell文件 指定用户的登录Shell。</li> <li>-u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。</li></ul></li> <li><p>用户名:
指定新账号的登录名。</p></li></ul> <p><strong>实例1:</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># useradd –d  /home/sam -m sam</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录 /home/sam（/home为默认的用户主目录所在的父目录）。</p> <p><strong>实例2:</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># useradd -s /bin/sh -g group –G adm,root gem</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令新建了一个用户gem，该用户的登录Shell是 <code>/bin/sh</code>，它属于group用户组，同时又属于adm和root用户组，其中group用户组是其主组。</p> <p>这里可能新建组：<code>#groupadd group及groupadd adm</code></p> <p>增加用户账号就是在**/etc/passwd<strong>文件中为新用户增加一条记录，同时更新其他系统文件如</strong>/etc/shadow**, <strong>/etc/group</strong>等。</p> <p>Linux提供了集成的系统管理工具<strong>userconf</strong>，它可以用来对用户账号进行统一管理。</p> <h2 id="_9-2-批量添加用户"><a href="#_9-2-批量添加用户" class="header-anchor">#</a> 9.2 批量添加用户</h2> <p>添加和删除用户对每位Linux系统管理员都是轻而易举的事，比较棘手的是如果要添加几十个、上百个甚至上千个用户时，我们不太可能还使用useradd一个一个地添加，必然要找一种简便的创建大量用户的方法。Linux系统提供了创建大量用户的工具，可以让您立即创建大量用户，方法如下：</p> <p><strong>（1）先编辑一个文本用户文件。</strong></p> <p>每一列按照<code>/etc/passwd</code>密码文件的格式书写，要注意每个用户的用户名、UID、宿主目录都不可以相同，其中密码栏可以留做空白或输入x号。一个范例文件user.txt内容如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>user001::600:100:user:/home/user001:/bin/bash
user002::601:100:user:/home/user002:/bin/bash
user003::602:100:user:/home/user003:/bin/bash
user004::603:100:user:/home/user004:/bin/bash
user005::604:100:user:/home/user005:/bin/bash
user006::605:100:user:/home/user006:/bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>（2）以root身份执行命令</strong> <code>**/usr/sbin/newusers**</code><strong>，从刚创建的用户文件</strong><code>**user.txt**</code><strong>中导入数据，创建用户：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># newusers &lt; user.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后可以执行命令 <code>vipw</code> 或 <code>vi /etc/passwd</code> 检查 <code>/etc/passwd</code> 文件是否已经出现这些用户的数据，并且用户的宿主目录是否已经创建。</p> <p><strong>（3）执行命令/usr/sbin/pwunconv。</strong></p> <p>将 <code>/etc/shadow</code> 产生的 <code>shadow</code> 密码解码，然后回写到 <code>/etc/passwd</code> 中，并将<code>/etc/shadow</code>的<code>shadow</code>密码栏删掉。这是为了方便下一步的密码转换工作，即先取消 <code>shadow password</code> 功能。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># pwunconv</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>（4）编辑每个用户的密码对照文件。</strong></p> <p>格式为：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>用户名:密码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>实例文件 <code>passwd.txt</code> 内容如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>user001:123456
user002:123456
user003:123456
user004:123456
user005:123456
user006:123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>（5）以 root 身份执行命令</strong> <code>**/usr/sbin/chpasswd**</code><strong>。</strong></p> <p>创建用户密码，<code>chpasswd</code> 会将经过 <code>/usr/bin/passwd</code> 命令编码过的密码写入 <code>/etc/passwd</code> 的密码栏。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># chpasswd &lt; passwd.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>（6）确定密码经编码写入/etc/passwd的密码栏后。</strong></p> <p>执行命令 <code>/usr/sbin/pwconv</code> 将密码编码为 <code>shadow password</code>，并将结果写入 <code>/etc/shadow</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># pwconv</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样就完成了大量用户的创建了，之后您可以到/home下检查这些用户宿主目录的权限设置是否都正确，并登录验证用户密码是否正确。</p> <h2 id="_9-3-删除用户"><a href="#_9-3-删除用户" class="header-anchor">#</a> 9.3 删除用户</h2> <p>如果一个用户的账号不再使用，可以从系统中删除。删除用户账号就是要将**/etc/passwd等系统文件**中的该用户记录删除，必要时还删除用户的主目录。</p> <p>删除一个已有的用户账号使用<code>userdel</code>命令，其格式如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">userdel</span> 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项是 <strong>-r</strong>，它的作用是把用户的主目录一起删除。</p> <p>例如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># userdel -r sam</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令删除用户sam在系统文件中（主要是**/etc/passwd, /etc/shadow, /etc/group**等）的记录，<strong>同时删除用户的主目录。</strong></p> <h2 id="_9-4-修改用户"><a href="#_9-4-修改用户" class="header-anchor">#</a> 9.4 修改用户</h2> <p>修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录Shell等。</p> <p>修改已有用户的信息使用<code>usermod</code>命令，其格式如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">usermod</span> 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值。</p> <ul><li>-c comment 指定一段注释性描述。</li> <li>-d 目录 指定用户主目录，如果此目录不存在，则同时使用-m选项，可以创建主目录。</li> <li>-g 用户组 指定用户所属的用户组。</li> <li>-G 用户组，用户组 指定用户所属的附加组。</li> <li>-s Shell文件 指定用户的登录Shell。</li> <li>-u 用户号 指定用户的用户号，如果同时有-o选项，则可以重复使用其他用户的标识号。</li></ul> <p>另外，有些系统可以使用选项：-l 新用户名</p> <p>这个选项指定一个新的账号，即将原来的用户名改为新的用户名。</p> <p>例如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># usermod -s /bin/ksh -d /home/z –g developer sam</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将用户sam的登录Shell修改为ksh，主目录改为/home/z，用户组改为developer。</p> <h2 id="_9-5-用户口令的管理"><a href="#_9-5-用户口令的管理" class="header-anchor">#</a> 9.5 用户口令的管理</h2> <p>用户管理的一项重要内容是用户口令的管理。<strong>用户账号刚创建时没有口令，但是被系统锁定，无法使用，必须为其指定口令后才可以使用，即使是指定空口令。</strong></p> <p>指定和修改用户口令的Shell命令是<code>passwd</code>。**超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。**命令的格式为：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>passwd 选项 用户名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可使用的选项：</p> <ul><li>-l 锁定口令，即禁用账号。</li> <li>-u 口令解锁。</li> <li>-d 使账号无口令。</li> <li>-f 强迫用户下次登录时修改口令。</li></ul> <p><strong>如果不写用户名，则默认修改当前用户的口令。</strong></p> <p>例如，假设当前用户是sam，则下面的命令修改该用户自己的口令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">passwd</span> 
Old password:****** 
New password:******* 
Re-enter new password:*******
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果是超级用户，可以用下列形式指定任何用户的口令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># passwd sam </span>
New password:******* 
Re-enter new password:*******
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</strong></p> <p>为了系统安全起见，用户应该选择比较复杂的口令，例如最好使用8位长的口令，口令中包含有大写、小写字母和数字，并且应该与姓名、生日等不相同。</p> <p>为用户指定空口令时，执行下列形式的命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># passwd -d sam</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>此命令将用户 sam 的口令删除，这样用户 sam 下一次登录时，系统就不再允许该用户登录了。</strong></p> <p><strong>passwd 命令还可以用 -l(lock) 选项锁定某一用户，使其不能登录，例如：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># passwd -l sam</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_9-6-显示用户id和组id"><a href="#_9-6-显示用户id和组id" class="header-anchor">#</a> 9.6 显示用户ID和组ID</h2> <p>id命令可以显示真实有效的用户ID(UID)和组ID(GID)。</p> <p>UID 是对一个用户的单一身份标识。</p> <p>组ID（GID）则对应多个UID。</p> <p>id命令已经默认预装在大多数Linux系统中。要使用它，只需要在你的控制台输入id。</p> <p>当我们想知道某个用户的UID和GID时id命令是非常有用的。一些程序可能需要UID/GID来运行。id使我们更加容易地找出用户的UID以GID而不必在/etc/group文件中搜寻。我们可以在控制台输入man id进入id的手册页来获取更多的详情。</p> <p><strong>语法格式</strong>：id [参数] [用户名]</p> <p><strong>常用参数</strong>：</p> <table><thead><tr><th>-g</th> <th>显示用户所属群组的ID</th></tr></thead> <tbody><tr><td>-G</td> <td>显示用户所属附加群组的ID</td></tr> <tr><td>-n</td> <td>显示用户，所属群组或附加群组的名称</td></tr> <tr><td>-r</td> <td>显示实际ID</td></tr> <tr><td>-u</td> <td>显示用户ID</td></tr> <tr><td>--help</td> <td>显示帮助</td></tr> <tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong>：</p> <p>显示当前用户的所有信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>显示用户所属群组的ID：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># id -g</span>
<span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>显示用户所属附加群组的ID：</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token namespace">[root@bithachi ~]</span><span class="token comment"># id -G</span>
0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>显示指定用户信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># id bithachi</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>bithachi<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>bithachi<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">(</span>bithachi<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_9-7-切换用户"><a href="#_9-7-切换用户" class="header-anchor">#</a> 9.7 切换用户</h2> <p>su命令用于切换当前用户身份到指定用户或者以指定用户的身份执行命令或程序。</p> <p>普通用户切换到root用户，可以使用<code>su -- 或su root</code>,但是必须输入root密码才能完成切换。</p> <p>root用户切换到普通用户，可以使用<code>su username</code>,不需要输入任何密码即可完成切换。</p> <p><strong>语法格式:</strong> su [选项] [用户名]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-c或--command</th> <th>执行完指定的指令后，即恢复原来的身份</th></tr></thead> <tbody><tr><td>-f或--fast</td> <td>适用于csh与tsch，使shell不用去读取启动文件</td></tr> <tr><td>-l或--login</td> <td>改变身份时，也同时变更工作目录，以及HOME,SHELL,USER,logname,此外，也会变更PATH变量</td></tr> <tr><td>-m,-p或--preserve-environment</td> <td>变更身份时，不要变更环境变量</td></tr> <tr><td>-s或--shell</td> <td>指定要执行的shell</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr> <tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>切换到bithachi用户，但环境变量仍然是root用户的：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># su bithachi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换到bithachi用户，并改变为bithachi用户环境变量：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># su - bithachi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>变更帐号为 root 并传入 -f 参数给新执行的 shell：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># su root -f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_9-8-查询当前用户"><a href="#_9-8-查询当前用户" class="header-anchor">#</a> 9.8 查询当前用户</h2> <p>whoami命令是打印与当前有效用户ID关联的用户名；</p> <p>这个工具可以用来获取本地系统上当前用户(访问令牌)的用户名和组信息，以及相应的安全标识符(SID)、声明、本地系统上当前用户的权限、登录标识符(登录 ID)。</p> <p>whoami命令显示自身的用户名称，本指令相当于执行<code>”id -un”</code>指令。</p> <p><strong>语法格式</strong>：whoami [参数]</p> <p><strong>常用参数</strong>：</p> <table><thead><tr><th>--help</th> <th>在线帮助</th></tr></thead> <tbody><tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查询当前登录的用户名：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>[root@centos7601 ~]# whoami 
root
[root@centos7601 ~]# id -un
root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="_10-用户组管理"><a href="#_10-用户组管理" class="header-anchor">#</a> 10. 用户组管理</h1> <p><strong>每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。</strong></p> <p><strong>不同Linux 系统对用户组的规定有所不同，如Linux下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。</strong></p> <p>用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对**/etc/group**文件的更新。</p> <h2 id="_10-1-添加用户组"><a href="#_10-1-添加用户组" class="header-anchor">#</a> 10.1 添加用户组</h2> <p><strong>增加一个新的用户组使用groupadd命令。其格式如下：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">groupadd</span> 选项 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>可以使用的选项有：</p> <ul><li>-g GID 指定新用户组的组标识号（GID）。</li> <li>-o 一般与-g选项同时使用，表示新用户组的GID可以与系统已有用户组的GID相同。</li></ul> <p><strong>实例1：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># groupadd group1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令向系统中增加了一个新组group1，新组的组标识号是在当前已有的最大组标识号的基础上加1。</p> <p><strong>实例2：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># groupadd -g 101 group2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令向系统中增加了一个新组group2，同时指定新组的组标识号是101。</p> <h2 id="_10-2-删除用户组"><a href="#_10-2-删除用户组" class="header-anchor">#</a> 10.2 删除用户组</h2> <p><strong>要删除一个已有的用户组，使用groupdel命令，其格式如下：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">groupdel</span> 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>例如：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># groupdel group1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令从系统中删除组group1。</p> <h2 id="_10-3-修改用户组"><a href="#_10-3-修改用户组" class="header-anchor">#</a> 10.3 修改用户组</h2> <p><strong>修改用户组的属性使用groupmod命令。其语法如下：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">groupmod</span> 选项 用户组
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用的选项有：</p> <ul><li>-g GID 为用户组指定新的组标识号。</li> <li>-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。</li> <li>-n新用户组 将用户组的名字改为新名字</li></ul> <p><strong>实例1：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># groupmod -g 102 group2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将组group2的组标识号修改为102。</p> <p><strong>实例2：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># groupmod –g 10000 -n group3 group2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此命令将组group2的标识号改为10000，组名修改为group3。</p> <h2 id="_10-4-当前用户切换用户组"><a href="#_10-4-当前用户切换用户组" class="header-anchor">#</a> 10.4 当前用户切换用户组</h2> <p><strong>如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。</strong></p> <p>用户可以在登录后，使用命令newgrp切换到其他用户组，这个命令的参数就是目的用户组。例如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ newgrp root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这条命令将当前用户切换到root用户组，前提条件是root用户组确实是该用户的主组或附加组。</p> <p>类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成。</p> <h1 id="_11-用户与用户组相关的系统文件"><a href="#_11-用户与用户组相关的系统文件" class="header-anchor">#</a> 11. 用户与用户组相关的系统文件</h1> <p>完成用户管理的工作有许多种方法，但是每一种方法实际上都是对有关的系统文件进行修改。</p> <p>与用户和用户组相关的信息都存放在一些系统文件中，这些文件包括<code>/etc/passwd, /etc/shadow, /etc/group</code>等。</p> <p>下面分别介绍这些文件的内容。</p> <h2 id="_11-1-用户信息-etc-passwd文件"><a href="#_11-1-用户信息-etc-passwd文件" class="header-anchor">#</a> 11.1 用户信息/etc/passwd文件</h2> <p><strong>1、/etc/passwd文件是用户管理工作涉及的最重要的一个文件。</strong></p> <p>Linux系统中的每个用户都在/etc/passwd文件中有一个对应的记录行，它记录了这个用户的一些基本属性。</p> <p>这个文件对所有用户都是可读的。它的内容类似下面的例子：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>＃ <span class="token function">cat</span> /etc/passwd

root:x:0:0:Superuser:/:
daemon:x:1:1:System daemons:/etc:
bin:x:2:2:Owner of system commands:/bin:
sys:x:3:3:Owner of system files:/usr/sys:
adm:x:4:4:System accounting:/usr/adm:
uucp:x:5:5:UUCP administrator:/usr/lib/uucp:
auth:x:7:21:Authentication administrator:/tcb/files/auth:
cron:x:9:16:Cron daemon:/usr/spool/cron:
listen:x:37:4:Network daemon:/usr/net/nls:
lp:x:71:18:Printer administrator:/usr/spool/lp:
sam:x:200:50:Sam san:/home/sam:/bin/sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>从上面的例子我们可以看到，<strong>/etc/passwd中一行记录对应着一个用户，每行记录又被冒号(:)分隔为7个字段</strong>，其格式和具体含义如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>用户名:口令:用户标识号<span class="token environment constant">UID</span>:主组标识号GID:注释性描述:主目录:登录Shell
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>&quot;用户名&quot;是代表用户账号的字符串。</strong></li></ul> <p>通常长度不超过8个字符，并且由大小写字母和/或数字组成。登录名中不能有冒号(😃，因为冒号在这里是分隔符。</p> <p>为了兼容起见，登录名中最好不要包含点字符(.)，并且不使用连字符(-)和加号(+)打头。</p> <ul><li><strong>“口令”一些系统中，存放着加密后的用户口令字。</strong></li></ul> <p>虽然这个字段存放的只是用户口令的加密串，不是明文，但是由于**/etc/passwd<strong>文件对所有用户都可读，所以这仍是一个安全隐患。因此，现在许多Linux 系统（如SVR4）都使用了shadow技术，把真正的加密后的用户口令字存放到</strong>/etc/shadow<strong>文件中，而在</strong>/etc/passwd**文件的口令字段中只存放一个特殊的字符，例如“x”或者“*”。</p> <ul><li><strong>“用户标识号”是一个整数，系统内部用它来标识用户。</strong></li></ul> <p>一般情况下它与用户名是一一对应的。如果几个用户名对应的用户标识号是一样的，系统内部将把它们视为同一个用户，但是它们可以有不同的口令、不同的主目录以及不同的登录Shell等。</p> <p>通常用户标识号的取值范围是<strong>0～65 535</strong>。**0是超级用户root的标识号，1～99由系统保留，作为管理账号，普通用户的标识号从100开始。**在Linux系统中，这个界限是500。</p> <ul><li><strong>“组标识号”字段记录的是用户所属的用户组。</strong></li></ul> <p>它对应着**/etc/group**文件中的一条记录。</p> <ul><li><strong>“注释性描述”字段记录着用户的一些个人情况。</strong></li></ul> <p>例如用户的真实姓名、电话、地址等，这个字段并没有什么实际的用途。在不同的Linux 系统中，这个字段的格式并没有统一。在许多Linux系统中，这个字段存放的是一段任意的注释性描述文字，用做finger命令的输出。</p> <ul><li><strong>“主目录”，也就是用户的起始工作目录。</strong></li></ul> <p>它是用户在登录到系统之后所处的目录。在大多数系统中，各用户的主目录都被组织在同一个特定的目录下，而用户主目录的名称就是该用户的登录名。<strong>各用户对自己的主目录有读、写、执行（搜索）权限，其他用户对此目录的访问权限则根据具体情况设置。</strong></p> <ul><li><strong>用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。</strong></li></ul> <p>**Shell是用户与Linux系统之间的接口。**Linux的Shell有许多种，每种都有不同的特点。常用的有sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)等。</p> <p>系统管理员可以根据系统情况和用户习惯为用户指定某个Shell。如果不指定Shell，那么<strong>系统使用sh为默认的登录Shell</strong>，<strong>即这个字段的值为/bin/sh。</strong></p> <p>用户的登录Shell也可以指定为某个特定的程序（此程序不是一个命令解释器）。</p> <p>利用这一特点，我们可以限制用户只能运行指定的应用程序，在该应用程序运行结束后，用户就自动退出了系统。有些Linux 系统要求只有那些在系统中登记了的程序才能出现在这个字段中。</p> <ul><li><strong>系统中有一类用户称为伪用户（pseudo users）。</strong></li></ul> <p>这些用户在**/etc/passwd**文件中也占有一条记录，但是不能登录，因为它们的登录Shell为空。<strong>它们的存在主要是方便系统管理，满足相应的系统进程对文件属主的要求。</strong></p> <p>常见的伪用户如下所示：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>伪 用 户 含 义 
bin 拥有可执行的用户命令文件 
sys 拥有系统文件 
adm 拥有帐户文件 
uucp UUCP使用 
lp lp或lpd子系统使用 
nobody NFS使用
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>除了上面列出的伪用户外，还有许多标准的伪用户，例如：audit, cron, mail, usenet等，它们也都各自为相关的进程和文件所需要。</strong></p> <hr> <h2 id="_11-2-加密口令-etc-shadow文件"><a href="#_11-2-加密口令-etc-shadow文件" class="header-anchor">#</a> 11.2 加密口令/etc/shadow文件</h2> <p>由于**/etc/passwd<strong>文件是所有用户都可读的，如果用户的密码太简单或规律比较明显的话，一台普通的计算机就能够很容易地将它破解，因此对安全性要求较高的Linux系统都把</strong>加密后的口令<strong>字分离出来，单独存放在一个文件中，这个文件是</strong>/etc/shadow**文件。 只有超级用户才拥有该文件读权限，这就保证了用户密码的安全性。</p> <p><strong>/etc/shadow中的记录行与/etc/passwd中的一一对应，它由pwconv命令根据/etc/passwd中的数据自动产生</strong></p> <p>它的文件格式与**/etc/passwd**类似，由若干个字段组成，字段之间用&quot;:&quot;隔开。这些字段是：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>&quot;登录名&quot;是与/etc/passwd文件中的登录名相一致的用户账号</li> <li>&quot;口令&quot;字段存放的是加密后的用户口令字，长度为13个字符。如果为空，则对应用户没有口令，登录时不需要口令；如果含有不属于集合 { ./0-9A-Za-z }中的字符，则对应的用户不能登录。</li> <li>&quot;最后一次修改时间&quot;表示的是从某个时刻起，到用户最后一次修改口令时的天数。时间起点对不同的系统可能不一样。例如在SCO Linux 中，这个时间起点是1970年1月1日。</li> <li>&quot;最小时间间隔&quot;指的是两次修改口令之间所需的最小天数。</li> <li>&quot;最大时间间隔&quot;指的是口令保持有效的最大天数。</li> <li>&quot;警告时间&quot;字段表示的是从系统开始警告用户到用户密码正式失效之间的天数。</li> <li>&quot;不活动时间&quot;表示的是用户没有登录活动但账号仍能保持有效的最大天数。</li> <li>&quot;失效时间&quot;字段给出的是一个绝对的天数，如果使用了这个字段，那么就给出相应账号的生存期。期满后，该账号就不再是一个合法的账号，也就不能再用来登录了。</li></ol> <p>下面是/etc/shadow的一个例子：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>＃ <span class="token function">cat</span> /etc/shadow

root:Dnakfw28zf38w:8764:0:168:7:::
daemon:*::0:0::::
bin:*::0:0::::
sys:*::0:0::::
adm:*::0:0::::
uucp:*::0:0::::
nuucp:*::0:0::::
auth:*::0:0::::
cron:*::0:0::::
listen:*::0:0::::
lp:*::0:0::::
sam:EkdiSECLWPdSa:9740:0:0::::
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_11-3-用户组-etc-group文件"><a href="#_11-3-用户组-etc-group文件" class="header-anchor">#</a> 11.3 用户组/etc/group文件</h2> <p>将用户分组是Linux 系统中对用户进行管理及控制访问权限的一种手段。</p> <p>每个用户都属于某个用户组；<strong>一个组中可以有多个用户，一个用户也可以属于不同的组。</strong></p> <p>当一个用户同时是多个组中的成员时，在**/etc/passwd<strong>文件中记录的是用户所属的</strong>主组**，也就是登录时所属的默认组，而其他组称为附加组。</p> <p><strong>用户要访问属于附加组的文件时，必须首先使用newgrp命令使自己成为所要访问的组中的成员。</strong></p> <p>用户组的所有信息都存放在**/etc/group<strong>文件中。此文件的格式也类似于</strong>/etc/passwd**文件，由冒号(:)隔开若干个字段，这些字段有：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>组名:口令:组标识号:组内用户列表
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol><li>&quot;组名&quot;是用户组的名称，由字母或数字构成。与**/etc/passwd**中的登录名一样，组名不应重复。</li> <li>&quot;口令&quot;字段存放的是用户组加密后的口令字。一般Linux 系统的用户组都没有口令，即这个字段一般为空，或者是*。</li> <li>&quot;组标识号&quot;与用户标识号类似，也是一个整数，被系统内部用来标识组。</li> <li>&quot;组内用户列表&quot;是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</li></ol> <p><strong>/etc/group</strong>文件的一个例子如下：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>root::0:root
bin::2:root,bin
sys::3:root,uucp
adm::4:root,adm
daemon::5:root,daemon
lp::7:root,lp
users::20:root,sam
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="_12-linux的七个运行级别"><a href="#_12-linux的七个运行级别" class="header-anchor">#</a> 12. Linux的七个运行级别</h1> <p>Linux系统有7个运行级别，<strong>运行级别就是操作系统当前正在运行的功能级别</strong>。这个级别从0到6 ，具有不同的功能。</p> <p><strong>级别具体说明：</strong></p> <p>0： 系统停机（关机）模式，系统默认运行级别不能设置为0，否则不能正常启动，一开机就自动关机。</p> <p>1：单用户模式，root权限，用于系统维护，禁止远程登陆，就像Windows下的安全模式登录。</p> <p>2：多用户模式，没有NFS网络支持。</p> <p>3：完整的多用户文本模式，有NFS，登陆后进入控制台命令行模式。<strong>（常用）</strong></p> <p>4：系统未使用，保留一般不用，在一些特殊情况下可以用它来做一些事情。例如在笔记本电脑的电池用尽时，可以切换到这个模式来做一些设置。</p> <p>5：图形化模式，登陆后进入图形GUI模式或GNOME、KDE图形化界面，如X Window系统。<strong>（常用）</strong></p> <p>6：重启模式，默认运行级别不能设为6，否则不能正常启动，就会一直开机重启开机重启。</p> <p>我们可以使用init命令切换不同的界别，<strong>init</strong>命令是Linux下的进程初始化工具，init进程是所有Linux进程的父进程，它的进程号为1。init命令是Linux操作系统中不可缺少的程序之一，init进程是Linux内核引导运行的，是系统中的第一个进程。</p> <p>**语法格式：**init [0-6]</p> <p><strong>参考实例</strong></p> <p>关闭服务器：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># init 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换单用户模式：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># init 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换多用户模式：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># init 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换完全多用户模式：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># init 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重启服务器：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># init 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们也可以通过命令<code>systemctl get-default</code>查看当前运行级别，也可以通过<code>systemctl set-default TARGET.target</code>设置运行界别，默认只支持两种运行级别的设置。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/inittab</span>
<span class="token comment">###########  原文  ###########</span>
<span class="token comment"># inittab is no longer used when using systemd.</span>
<span class="token comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span>
<span class="token comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span>
<span class="token comment"># systemd uses 'targets' instead of runlevels. By default, there are two main targets:</span>
<span class="token comment"># multi-user.target: analogous to runlevel 3</span>
<span class="token comment"># graphical.target: analogous to runlevel 5</span>
<span class="token comment"># To view current default target, run:</span>
<span class="token comment"># systemctl get-default</span>
<span class="token comment"># To set a default target, run:</span>
<span class="token comment"># systemctl set-default TARGET.target</span>

<span class="token comment">##########  翻译  ##########</span>
<span class="token comment">#使用systemd时不再使用inittab。</span>
<span class="token comment">#在这里添加配置对您的系统没有影响。</span>
<span class="token comment">#Ctrl-Alt Delete由/usr/lib/systemd/system/Ctrl-Alt处理-删除目标</span>
<span class="token comment">#systemd使用“targets”而不是runlevels。默认情况下，有两个主要目标：</span>
<span class="token comment">#多用户.目标：类似于运行级别3</span>
<span class="token comment">#图形.目标：类似于运行级别5</span>
<span class="token comment">#要查看当前默认目标，请运行：</span>
<span class="token comment">#systemctl获取默认值</span>
<span class="token comment">#要设置默认目标，请运行：</span>
<span class="token comment">#systemctl设置默认值目标。目标</span>

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># systemctl get-default</span>
graphical.target
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h1 id="_13-找回root密码"><a href="#_13-找回root密码" class="header-anchor">#</a> 13. 找回root密码</h1> <ol><li><strong>首先，启动系统，进入开机界面，在界面中按“e”进入编辑界面。如图</strong></li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1614246834527-08c297d9-78c0-4728-8cc8-45217f2fd22c.jpeg" alt="img"></p> <ol><li><strong>进入编辑界面，使用键盘上的上下键把光标往下移动，找到以““Linux16”开头内容所在的行数”，在行的最后面输入：init=/bin/sh。如图</strong></li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1614246834536-739b4356-de4e-4921-8fdb-1a1c9fd6ddea.jpeg" alt="img"></p> <ol><li><strong>接着，输入完成后，直接按快捷键：Ctrl+x 进入单用户模式。</strong></li> <li><strong>接着，在光标闪烁的位置中输入：mount -o remount,rw /（注意：各个单词间有空格），完成后按键盘的回车键（Enter）。如图</strong></li> <li>**在新的一行最后面输入：passwd， 完成后按键盘的回车键（Enter）。输入密码，**然后再次确认密码即可(密码长度最好8位以上,但不是必须的), 密码修改成功后，会显示passwd.....的样式，说明密码修改成功</li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1614246834527-5c22fb11-1f63-42cb-9292-8e0be2d28a4f.jpeg" alt="img"></p> <ol><li><strong>接着，在鼠标闪烁的位置中（最后一行中）输入：touch /.autorelabel（注意：touch与 /后面有一个空格），完成后按键盘的回车键（Enter）</strong></li> <li><strong>继续在光标闪烁的位置中，输入：exec /sbin/init（注意：exec与 /后面有一个空格），完成后按键盘的回车键（Enter）,等待系统自动修改密码(这个过程时间可能有点长，耐心等待)，完成后，系统会自动重启, 新的密码生效了</strong></li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1614246836396-e83576ed-039f-4c31-b2c9-b322d86403f1.jpeg" alt="img"></p> <h1 id="_14-帮助命令"><a href="#_14-帮助命令" class="header-anchor">#</a> 14. 帮助命令</h1> <h2 id="_14-1-内建命令与外部命令"><a href="#_14-1-内建命令与外部命令" class="header-anchor">#</a> 14.1 内建命令与外部命令</h2> <p><strong>有一些查看帮助的工具在内建命令与外建命令上是有区别对待的。</strong></p> <p>内建命令实际上是 shell 程序的一部分，其中包含的是一些比较简单的 Linux 系统命令，这些命令是写在bash源码的builtins里面的，由 shell 程序识别并在 shell 程序内部完成运行，通常在 Linux 系统加载运行时 shell 就被加载并驻留在系统内存中。而且解析内部命令 shell 不需要创建子进程，因此其执行速度比外部命令快。比如：history、cd、exit 等等。</p> <p>外部命令是 Linux 系统中的实用程序部分，因为实用程序的功能通常都比较强大，所以其包含的程序量也会很大，在系统加载时并不随系统一起被加载到内存中，而是在需要时才将其调入内存。虽然其不包含在 shell 中，但是其命令执行过程是由 shell 程序控制的。外部命令是在 Bash 之外额外安装的，通常放在/bin，/usr/bin，/sbin，/usr/sbin等等。比如：ls、vi等。</p> <p>我们可以使用　<strong>type</strong> 命令来区分命令是内建的还是外部的。例如这两个得出的结果是不同的</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># type cd</span>
<span class="token builtin class-name">cd</span> 是 shell 内嵌
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># type vim</span>
<span class="token function">vim</span> 是 /usr/bin/vim
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># type pwd</span>
<span class="token builtin class-name">pwd</span> 是 shell 内嵌
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># type ls</span>
<span class="token function">ls</span> 是 `ls <span class="token parameter variable">--color</span><span class="token operator">=</span>auto' 的别名
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_14-2-help命令"><a href="#_14-2-help命令" class="header-anchor">#</a> 14.2 help命令</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># help xxx 只能用于内部命令，不能用于外部命令</span>
<span class="token variable">$help</span> <span class="token builtin class-name">cd</span> 
dhsafkdsjfakjsdgjkasdbkjdsb
fasdfdsfdsagsdgsdgsdgasdg
asdgdsagdsagdsgdagsdgdsg<span class="token punctuation">(</span>一堆帮助文档<span class="token punctuation">)</span>
<span class="token variable">$help</span> <span class="token function">ls</span> 
没有与“ls”匹配的XXXX

<span class="token comment"># xxx --help 用于外部命令</span>
<span class="token variable">$ls</span> <span class="token parameter variable">--help</span>
dhsafkdsjfakjsdgjkasdbkjdsb
fasdfdsfdsagsdgsdgsdgasdg
asdgdsagdsagdsgdagsdgdsg<span class="token punctuation">(</span>一堆帮助文档<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_14-3-man命令"><a href="#_14-3-man命令" class="header-anchor">#</a> 14.3 man命令</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token variable">$man</span> <span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>man得到的内容比用 help 更多更详细，而且　man　没有内建与外部命令的区分，因为 man 工具是显示系统手册页中的内容，也就是一本电子版的字典，这些内容大多数都是对命令的解释信息，还有一些相关的描述。通过查看系统文档中的 man 也可以得到程序的更多相关信息和 Linux 的更多特性。</strong></p> <p>在尝试上面这个命令时我们会发现最左上角显示“ LS （1）”，在这里，“ LS ”表示手册名称，而“（1）”表示该手册位于第一章节。这个章节又是什么？在 man 手册中一共有这么几个章节</p> <p>章节数 说明</p> <p>1 Standard commands （标准命令）</p> <p>2 System calls （系统调用）</p> <p>3 Library functions （库函数）</p> <p>4 Special devices （设备说明）</p> <p>5 File formats （文件格式）</p> <p>6 Games and toys （游戏和娱乐）</p> <p>7 Miscellaneous （杂项）</p> <p>8 Administrative Commands （管理员命令）</p> <p>9 其他（Linux特定的）， 用来存放内核例行程序的文档。</p> <p>打开手册之后我们可以通过 pgup 与 pgdn 或者上下键来上下翻看，可以按 q 退出当前页面</p> <h2 id="_14-4-info命令"><a href="#_14-4-info命令" class="header-anchor">#</a> 14.4 info命令</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token variable">$info</span> <span class="token function">ls</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>**得到的信息比 man 还要多，info 来自自由软件基金会的 GNU 项目，是 GNU 的超文本帮助系统，能够更完整的显示出 GNU 信息。**所以得到的信息当然更多</p> <p>man 和 info 就像两个集合，它们有一个交集部分，但与 man 相比，info 工具可显示更完整的　GNU　工具信息。若 man 页包含的某个工具的概要信息在 info 中也有介绍，那么 man 页中会有“请参考 info 页更详细内容”的字样。</p> <h2 id="_14-5-推荐在线查询网站"><a href="#_14-5-推荐在线查询网站" class="header-anchor">#</a> 14.5 推荐在线查询网站</h2> <ul><li>https://www.bithachi.com/</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791012-d7ee59c8-7ada-4083-b675-4f9df53a46bf.png" alt="img"></p> <h1 id="_15-文件和目录操作"><a href="#_15-文件和目录操作" class="header-anchor">#</a> 15. 文件和目录操作</h1> <p>我们知道Linux的目录结构为树状结构，最顶级的目录为根目录 /。</p> <p>其他目录通过挂载可以将它们添加到树中，通过解除挂载可以移除它们。</p> <p>我们先了解一下什么是绝对路径与相对路径：</p> <ul><li><strong>绝对路径：</strong>
路径的写法，由根目录 <strong>/</strong> 写起，例如： /usr/share/doc 这个目录。</li> <li><strong>相对路径：</strong>
路径的写法，不是由 <strong>/</strong> 写起，例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： <strong>cd ../man</strong> 这就是相对路径的写法。</li></ul> <h2 id="_15-1-pwd命令-显示当前路径"><a href="#_15-1-pwd命令-显示当前路径" class="header-anchor">#</a> 15.1 pwd命令 – 显示当前路径</h2> <p>pwd命令是“print working directory”中每个单词的首字母缩写，其功能正如所示单词一样，为打印工作目录，即显示当前工作目录的绝对路径。</p> <p>在实际工作中，我们经常会在不同目录之间进行切换，为了防止“迷路”，我们可以使用pwd命令快速查看当前我们所在的目录路径。</p> <p>查看当前工作目录路径：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>[root@bithachi ~]# pwd
/home/bithachi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_15-2-ls命令-显示指定工作目录下的内容及属性信息"><a href="#_15-2-ls命令-显示指定工作目录下的内容及属性信息" class="header-anchor">#</a> 15.2 ls命令 – 显示指定工作目录下的内容及属性信息</h2> <p>ls 命令是Linux下最常用的指令之一。ls命令为英文单词 list 的缩写，正如英文单词 list 的意思，其功能是列出指定目录下的内容及其相关属性信息。</p> <p>默认状态下，ls命令会列出当前目录的内容。而带上参数后，我们可以用ls做更多的事情。</p> <p><strong>语法格式:</strong> ls [选项] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示所有文件及目录 (包括以“.”开头的隐藏文件)</th></tr></thead> <tbody><tr><td>-l</td> <td>使用长格式列出文件及目录信息</td></tr> <tr><td>-r</td> <td>将文件以相反次序显示(默认依英文字母次序)</td></tr> <tr><td>-t</td> <td>根据最后的修改时间排序</td></tr> <tr><td>-A</td> <td>同 -a ，但不列出 “.” (当前目录) 及 “..” (父目录)</td></tr> <tr><td>-S</td> <td>根据文件大小排序</td></tr> <tr><td>-R</td> <td>递归列出所有子目录</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>列出所有文件(包括隐藏文件)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出文件的详细信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出根目录(/)下的所有目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls /</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出当前工作目录下所有名称是 “s” 开头的文件 :</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -ltr s*</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出 /bin 目录下的所有目录及文件的详细信息 :</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -lR /bin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出当前工作目录下所有文件及目录并以文件的大小进行排序 :</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -AS</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-3-cd命令-切换目录"><a href="#_15-3-cd命令-切换目录" class="header-anchor">#</a> 15.3 cd命令 – 切换目录</h2> <p>cd命令是”change directory”中单词的首字母缩写，其英文释义是改变目录，所以该命令的功能是从当前目录切换到指定目录。</p> <p>其中目录的路径可分为绝对路径和相对路径。若目录名称省略，则切换至使用者的用户目录(也就是刚登录时所在的目录)。</p> <p>另外，“~”也表示为用户目录的意思，“.”则是表示目前所在的目录，“..”则表示当前目录位置的上一级目录。</p> <p>**语法格式：**cd [参数] [目录名]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-P</th> <th>如果切换的目标目录是一个符号链接，则直接切换到符号链接指向的目标目录</th></tr></thead> <tbody><tr><td>-L</td> <td>如果切换的目标目录是一个符号链接，则直接切换到符号链接名所在的目录</td></tr> <tr><td>-</td> <td>仅使用”-“选项时，当前目录将被切换到环境变量”OLDPWD”对应值的目录</td></tr> <tr><td>~</td> <td>切换至当前用户目录</td></tr> <tr><td>..</td> <td>切换至当前目录位置的上一级目录</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>将当前工作目录切换到dir目录，并使用pwd命令查看当前目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cd dir</span>
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用“cd ~ ”和“cd .. ”命令进行目录的切换操作，并使用pwd命令查看当前目录：</p> <p>注意：使用“cd ~ ”命令可以直接切换到当前用户目录，而“cd .. ”是切换到上一级目录。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># cd ~</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>使用“cd ../..”命令返回上两级目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi dir_2<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir/dir_1/dir_2
<span class="token punctuation">[</span>root@bithachi dir_2<span class="token punctuation">]</span><span class="token comment"># cd ../..</span>
<span class="token punctuation">[</span>root@bithachi dir<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用“cd”命令返回当前用户目录。“cd - ” 命令返回上一次所在目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi dir_2<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir/dir_1/dir_2
<span class="token punctuation">[</span>root@bithachi dir_2<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/root/dir/dir_1/dir_2
<span class="token punctuation">[</span>root@bithachi dir_2<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root/dir/dir_1/dir_2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_15-4-mkdir命令-创建目录"><a href="#_15-4-mkdir命令-创建目录" class="header-anchor">#</a> 15.4 mkdir命令 – 创建目录</h2> <p>mkdir命令是“make directories”的缩写，用来创建目录。</p> <p>注意：默认状态下，如果要创建的目录已经存在，则提示已存在，而不会继续创建目录。 所以在创建目录时，应保证新建的目录与它所在目录下的文件没有重名。 mkdir命令还可以同时创建多个目录。</p> <p><strong>语法格式 :</strong> mkdir [参数] [目录]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-p</th> <th>递归创建多级目录</th></tr></thead> <tbody><tr><td>-m</td> <td>建立目录的同时设置目录的权限</td></tr> <tr><td>-z</td> <td>设置安全上下文</td></tr> <tr><td>-v</td> <td>显示目录的创建过程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>在工作目录下，建立一个名为 dir 的子目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkdir dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在目录/usr/bithachi下建立子目录dir，并且设置文件属主有读、写和执行权限，其他人无权访问</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkdir -m 700 /usr/bithachi/dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同时创建子目录dir1，dir2，dir3：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkdir dir1 dir2 dir3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>递归创建目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p bithachi/dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-5-rmdir命令-删除空目录"><a href="#_15-5-rmdir命令-删除空目录" class="header-anchor">#</a> 15.5 rmdir命令 – 删除空目录</h2> <p>mdir命令作用是删除空的目录，英文全称：“remove directory”。</p> <p>注意：rmdir命令只能删除空目录。当要删除非空目录时，就要使用带有“-R”选项的rm命令。</p> <p>rmdir命令的“-p”参数可以递归删除指定的多级目录，但是要求每个目录也必须是空目录。</p> <p><strong>语法格式 :</strong> rmdir [参数] [目录名称]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-p</th> <th>用递归的方式删除指定的目录路径中的所有父级目录，非空则报错</th></tr></thead> <tbody><tr><td>-- -- ignore-fail-on-non-empty</td> <td>忽略由于删除非空目录时导致命令出错而产生的错误信息</td></tr> <tr><td>-v</td> <td>显示命令的详细执行过程</td></tr> <tr><td>-- -- help</td> <td>显示命令的帮助信息</td></tr> <tr><td>-- -- version</td> <td>显示命令的版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>删除空目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rmdir dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>递归删除指定的目录树：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rmdir -p dir/dir_1/dir_2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示指令详细执行过程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rmdir -v dir</span>
rmdir: 正在删除目录 <span class="token string">'dir'</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rmdir -p -v dir/dir_1/dir_2</span>
rmdir: 正在删除目录 <span class="token string">'dir/dir_1/dir_2
rmdir: 正在删除目录 '</span>dir/dir_1<span class="token string">'
rmdir: 正在删除目录 '</span>dir_2'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>显示命令的版本信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rmdir --version</span>
<span class="token function">rmdir</span> <span class="token punctuation">(</span>GNU coreutils<span class="token punctuation">)</span> <span class="token number">8.30</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2018</span> Free Software Foundation, Inc.
许可证 GPLv3+：GNU 通用公共许可证第 <span class="token number">3</span> 版或更新版本https://gnu.org/licenses/gpl.html。
本软件是自由软件：您可以自由修改和重新发布它。
在法律范围内没有其他保证。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_15-6-touch命令-创建文件"><a href="#_15-6-touch命令-创建文件" class="header-anchor">#</a> 15.6 touch命令 – 创建文件</h2> <p>touch命令有两个功能：一是创建新的空文件，二是改变已有文件的时间戳属性。</p> <p>touch命令会根据当前的系统时间更新指定文件的访问时间和修改时间。如果文件不存在，将会创建新的空文件，除非指定了”-c”或”-h”选项。</p> <p>注意：在修改文件的时间属性的时候，用户必须是文件的属主，或拥有写文件的访问权限。</p> <p>**语法格式：**touch [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>改变档案的读取时间记录</th></tr></thead> <tbody><tr><td>-m</td> <td>改变档案的修改时间记录</td></tr> <tr><td>-r</td> <td>使用参考档的时间记录，与 --file 的效果一样</td></tr> <tr><td>-c</td> <td>不创建新文件</td></tr> <tr><td>-d</td> <td>设定时间与日期，可以使用各种不同的格式</td></tr> <tr><td>-t</td> <td>设定档案的时间记录，格式与 date 命令相同</td></tr> <tr><td>--no-create</td> <td>不创建新文件</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr> <tr><td>--version</td> <td>列出版本讯息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>创建空文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># touch file.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>批量创建文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># touch file{1..5}.txt </span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
file1.txt file2.txt file3.txt file4.txt file5.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>修改文件的access(访问)时间：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># stat file.txt</span>
   File: file.txt
   Size: <span class="token number">0</span>               Blocks: <span class="token number">0</span>          IO Block: <span class="token number">512</span>    regular empty <span class="token function">file</span>
 Device: 2h/2d   Inode: <span class="token number">87538717757135273</span>  Links: <span class="token number">1</span>
 Access: <span class="token punctuation">(</span>0666/-rw-rw-rw-<span class="token punctuation">)</span>  Uid: <span class="token punctuation">(</span> <span class="token number">1000</span>/  root<span class="token punctuation">)</span>   Gid: <span class="token punctuation">(</span> <span class="token number">1000</span>/  root<span class="token punctuation">)</span>
 Access: <span class="token number">2019</span>-04-07 00:25:34.729216500 +0800
 Modify: <span class="token number">2019</span>-04-07 00:25:34.729216500 +0800
 Change: <span class="token number">2019</span>-04-07 00:25:34.729216500 +0800
  Birth: -

<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># touch -a file.txt</span>
 
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># stat file.txt</span>
   File: file.txt
   Size: <span class="token number">0</span>               Blocks: <span class="token number">0</span>          IO Block: <span class="token number">512</span>    regular empty <span class="token function">file</span>
 Device: 2h/2d   Inode: <span class="token number">87538717757135273</span>  Links: <span class="token number">1</span>
 Access: <span class="token punctuation">(</span>0666/-rw-rw-rw-<span class="token punctuation">)</span>  Uid: <span class="token punctuation">(</span> <span class="token number">1000</span>/  root<span class="token punctuation">)</span>   Gid: <span class="token punctuation">(</span> <span class="token number">1000</span>/  root<span class="token punctuation">)</span>
 Access: <span class="token number">2019</span>-04-07 00:26:13.004116000 +0800
 Modify: <span class="token number">2019</span>-04-07 00:25:34.729216500 +0800
 Change: <span class="token number">2019</span>-04-07 00:26:13.004116000 +0800
  Birth: -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_15-7-cp命令-复制文件或目录"><a href="#_15-7-cp命令-复制文件或目录" class="header-anchor">#</a> 15.7 cp命令 – 复制文件或目录</h2> <p>cp命令可以理解为英文单词copy的缩写，其功能为复制文件或目录。</p> <p>cp命令可以将多个文件复制到一个具体的文件名或一个已经存在的目录下，也可以同时复制多个文件到一个指定的目录中。</p> <p>**语法格式：**cp [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-f</th> <th>若目标文件已存在，则会直接覆盖原文件</th></tr></thead> <tbody><tr><td>-i</td> <td>若目标文件已存在，则会询问是否覆盖</td></tr> <tr><td>-p</td> <td>保留源文件或目录的所有属性</td></tr> <tr><td>-r</td> <td>递归复制文件和目录</td></tr> <tr><td>-d</td> <td>当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录</td></tr> <tr><td>-l</td> <td>对源文件建立硬连接，而非复制文件</td></tr> <tr><td>-s</td> <td>对源文件建立符号连接，而非复制文件</td></tr> <tr><td>-b</td> <td>覆盖已存在的文件目标前将目标文件备份</td></tr> <tr><td>-v</td> <td>详细显示cp命令执行的操作过程</td></tr> <tr><td>-a</td> <td>等价于“dpr”选项</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>复制目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cp -R dir1 dir2/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将文件test1改名为test2：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cp -f test1 test2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>复制多个文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cp -r file1 file2 file3 dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>交互式地将目录 /usr/bithachi 中的所有.c文件复制到目录 dir 中：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cp -r /usr/bithachi/*.c dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-8-rm命令-移除文件或目录"><a href="#_15-8-rm命令-移除文件或目录" class="header-anchor">#</a> 15.8 rm命令 – 移除文件或目录</h2> <p>rm是常用的命令，该命令的功能为删除一个目录中的一个或多个文件或目录，它也可以将某个目录及其下的所有文件及子目录均删除。对于链接文件，只是删除了链接，原有文件均保持不变。 rm也是一个危险的命令，使用的时候要特别当心，尤其对于新手，否则整个系统就会毁在这个命令（比如在/（根目录）下执行rm * -rf）。所以，我们在执行rm之前最好先确认一下在哪个目录，到底要删除什么东西，操作时保持高度清醒的头脑。</p> <p>**语法格式：**rm [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-f</th> <th>忽略不存在的文件，不会出现警告信息</th></tr></thead> <tbody><tr><td>-i</td> <td>删除前会询问用户是否操作</td></tr> <tr><td>-r/R</td> <td>递归删除</td></tr> <tr><td>-v</td> <td>显示指令的详细执行过程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>删除前逐一询问确认：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rm -i test.txt.bz2 </span>
rm: remove regular <span class="token function">file</span> `test.txt.bz2'?
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>直接删除，不会有任何提示：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rm -f test.txt.bz2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>递归删除目录及目录下所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkdir /data/log</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /data/log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>删除当前目录下所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rm -rf *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清空系统中所有的文件（谨慎）：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># rm -rf /*</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-9-mv命令-移动或改名文件"><a href="#_15-9-mv命令-移动或改名文件" class="header-anchor">#</a> 15.9 mv命令 – 移动或改名文件</h2> <p>mv命令是“move”单词的缩写，其功能大致和英文含义一样，可以移动文件或对其改名。</p> <p>这是一个使用频率超高的文件管理命令，我们需要特别留意它与复制的区别：mv与cp的结果不同。mv命令好像文件“搬家”，文件名称发生改变，但个数并未增加。而cp命令是对文件进行复制操作，文件个数是有增加的。</p> <p>**语法格式：**mv [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-i</th> <th>若存在同名文件，则向用户询问是否覆盖</th></tr></thead> <tbody><tr><td>-f</td> <td>覆盖已有文件时，不进行任何提示</td></tr> <tr><td>-b</td> <td>当文件存在时，覆盖前为其创建一个备份</td></tr> <tr><td>-u</td> <td>当源文件比目标文件新，或者目标文件不存在时，才执行移动此操作</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>将文件file_1重命名为file_2：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mv file_1 file_2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将文件file移动到目录dir中 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mv file /dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将目录dir1移动目录dir2中（前提是目录dir2已存在，若不存在则改名)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mv /dir1 /dir2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将目录dir1下的文件移动到当前目录下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mv /dir1/* .</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-10-cat命令-在终端设备上显示文件内容"><a href="#_15-10-cat命令-在终端设备上显示文件内容" class="header-anchor">#</a> 15.10 cat命令 – 在终端设备上显示文件内容</h2> <p>Linux系统中有很多个用于查看文件内容的命令，每个命令又都有自己的特点，比如这个cat命令就是用于查看内容较少的纯文本文件的。cat这个命令也很好记，因为cat在英语中是“猫”的意思，小猫咪是不是给您一种娇小、可爱的感觉呢？</p> <p>注意：当文件内容较大时，文本内容会在屏幕上快速闪动（滚屏），用户往往看不清所显示的具体内容。因此对于较长文件内容可以按Ctrl+S键，停止滚屏；以及Ctrl+Q键可以恢复滚屏；而按Ctrl+C（中断）键则可以终止该命令的执行。或者对于大文件，干脆用more命令吧！</p> <p>**语法格式：**cat [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-n</th> <th>显示行数（空行也编号）</th></tr></thead> <tbody><tr><td>-s</td> <td>显示行数（多个空行算一个编号）</td></tr> <tr><td>-b</td> <td>显示行数（空行不编号）</td></tr> <tr><td>-E</td> <td>每行结束处显示$符号</td></tr> <tr><td>-T</td> <td>将TAB字符显示为 ^I符号</td></tr> <tr><td>-v</td> <td>使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外</td></tr> <tr><td>-e</td> <td>等价于”-vE”组合</td></tr> <tr><td>-t</td> <td>等价于”-vT”组合</td></tr> <tr><td>-A</td> <td>等价于 -vET组合</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr> <tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看文件的内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat filename.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看文件的内容，并显示行数编号：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat -n filename.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看文件的内容，并添加行数编号后输出到另外一个文件中：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat -n bithachi.log &gt; linuxprobe.log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清空/root/filename.txt文件的内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat /dev/null &gt; /root/filename.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>持续写入文件内容，碰到EOF符后结束并保存：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat &gt; filename.txt &lt;&lt;EOF</span>
<span class="token operator">&gt;</span> Hello, World 
<span class="token operator">&gt;</span> Linux<span class="token operator">!</span>
<span class="token operator">&gt;</span> EOF
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>将软盘设备制作成镜像文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cat /dev/fd0 &gt; fdisk.iso</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-11-more命令-显示文本文件内容"><a href="#_15-11-more命令-显示文本文件内容" class="header-anchor">#</a> 15.11 more命令 – 显示文本文件内容</h2> <p>more命令用于将内容较长的文本文件内容（不能在一屏显示完）进行分屏显示，并且支持在显示时定位关键字。而对于内容较少的文本文件内容则推荐使用cat命令查看。</p> <p>**语法格式：**more [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-num</th> <th>指定每屏显示的行数</th></tr></thead> <tbody><tr><td>-l</td> <td>more在通常情况下把 <strong>^L</strong> 当作特殊字符, 遇到这个字符就会暂停,-l选项可以阻止这种特性</td></tr> <tr><td>-f</td> <td>计算实际的行数，而非自动换行的行数</td></tr> <tr><td>-p</td> <td>先清除屏幕再显示文本文件的剩余内容</td></tr> <tr><td>-c</td> <td>与-p相似，不滚屏，先显示内容再清除旧内容</td></tr> <tr><td>-s</td> <td>多个空行压缩成一行显示</td></tr> <tr><td>-u</td> <td>禁止下划线</td></tr> <tr><td>+/pattern</td> <td>在每个文档显示前搜寻该字(pattern)，然后从该字串之后开始显示</td></tr> <tr><td>+num</td> <td>从第 num 行开始显示</td></tr></tbody></table> <p>命令内部操作：</p> <ul><li>Space键：显示文本的下一屏内容</li> <li>Enter键：向下n行，需要定义，默认为1行</li> <li>斜线符\：接着输入一个模式，可以在文本中寻找下一个相匹配的模式</li> <li>H键：显示帮助屏</li> <li>B键：显示上一屏内容</li> <li>Q键：退出more命令</li> <li>Ctrl+F、空格键：向下滚动一屏</li> <li>Ctrl+B：返回上一屏</li> <li>=： 输出当前的行号</li> <li>：f：输出文件名和当前的行号</li> <li>V：调用vi编辑器</li> <li>!：调用Shell，并执行命令</li></ul> <p><strong>参考实例</strong></p> <p>显示文件file的内容，显示之前先清屏，附已显示的百分比：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># more -dc file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示文件file的内容，每10行显示一次，而且在显示之前先清屏：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># more -c -10 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示文件file的内容，每5行显示一次，而且在显示之后再清屏：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># more -p -5 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>逐页显示 file 文档内容，如有连续两行以上空白行则以一行空白行显示 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># more -s file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从第 20 行开始显示 file 之文档内容 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># more +20 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-12-less命令-分页显示工具"><a href="#_15-12-less命令-分页显示工具" class="header-anchor">#</a> 15.12 less命令 – 分页显示工具</h2> <p>浏览文字档案的内容，用less命令显示文件时，PageUp键向上翻页，PageDown键向下翻页，要退出less程序，应按Q键。</p> <p>less的作用与more十分相似，不同点为less命令允许用户向前或向后浏览文件，而more命令只能向前浏览 。</p> <p>**语法格式：**less [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-b</th> <th>置缓冲区的大小</th></tr></thead> <tbody><tr><td>-e</td> <td>当文件显示结束后，自动离开</td></tr> <tr><td>-f</td> <td>强迫打开特殊文件，例如外围设备代号、目录和二进制文件</td></tr> <tr><td>-g</td> <td>只标志最后搜索的关键词</td></tr> <tr><td>-i</td> <td>忽略搜索时的大小写</td></tr> <tr><td>-m</td> <td>显示类似more命令的百分比</td></tr> <tr><td>-N</td> <td>显示每行的行号</td></tr> <tr><td>-o</td> <td>将less 输出的内容在指定文件中保存起来</td></tr> <tr><td>-Q</td> <td>不使用警告音</td></tr> <tr><td>-s</td> <td>显示连续空行为一行</td></tr> <tr><td>-S</td> <td>在单行显示较长的内容，而不换行显示</td></tr> <tr><td>-x</td> <td>将TAB字符显示为指定个数的空格字符</td></tr></tbody></table> <p>命令内部操作：</p> <ul><li>b 向后翻一页</li> <li>d 向后翻半页</li> <li>h 显示帮助界面</li> <li>Q 退出less 命令</li> <li>u 向前滚动半页</li> <li>y 向前滚动一行</li> <li>空格键 滚动一页</li> <li>回车键 滚动一行</li></ul> <p><strong>参考实例</strong></p> <p>查看文件 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># less test.php</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ps查看进程信息并通过less分页显示：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ps -ef |less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看命令历史使用记录并通过less分页显示：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history | less </span>
<span class="token number">22</span>  <span class="token function">scp</span> <span class="token parameter variable">-r</span> tomcat6.0.32 root@192.168.120.203:/opt/soft <span class="token number">23</span>  <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span> 
<span class="token number">24</span>  <span class="token function">scp</span> <span class="token parameter variable">-r</span> web root@192.168.120.203:/opt/ 
<span class="token number">25</span>  <span class="token builtin class-name">cd</span> soft  
……省略……
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>浏览多个文件 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># less log2018.log log2019.log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当正在浏览一个文件时，也可以使用 :e命令 打开另一个文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># less file1</span>
:e file2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_15-13-echo命令-输出字符串或提取shell变量的值"><a href="#_15-13-echo命令-输出字符串或提取shell变量的值" class="header-anchor">#</a> 15.13 echo命令 – 输出字符串或提取Shell变量的值</h2> <p>echo命令用于在终端设备上输出字符串或变量提取后的值，这是在Linux系统中最常用的几个命令之一，但操作却非常简单。</p> <p>人们一般使用在变量前加上<img src="https://g.yuque.com/gr/latex?%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%96%B9%E5%BC%8F%E6%8F%90%E5%8F%96%E5%87%BA%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%9A" alt="img">PATH，然后再用echo命令予以输出。或者直接使用echo命令输出一段字符串到屏幕上，起到给用户提示的作用。</p> <p>**语法格式：**echo [参数] [字符串]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-n</th> <th>不输出结尾的换行符</th></tr></thead> <tbody><tr><td>-e “\a”</td> <td>发出警告音</td></tr> <tr><td>-e “\b”</td> <td>删除前面的一个字符</td></tr> <tr><td>-e “\c”</td> <td>结尾不加换行符</td></tr> <tr><td>-e “\f”</td> <td>换行，光标扔停留在原来的坐标位置</td></tr> <tr><td>-e “\n”</td> <td>换行，光标移至行首</td></tr> <tr><td>-e “\r”</td> <td>光标移至行首，但不换行</td></tr> <tr><td>-E</td> <td>禁止反斜杠转移，与-e参数功能相反</td></tr> <tr><td>—version</td> <td>查看版本信息</td></tr> <tr><td>--help</td> <td>查看帮助信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>输出一段字符串：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment">#  echo &quot;bithachi.cn&quot; </span>
bithachi.cn
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出变量提取后的值：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对内容进行转义，不让$符号的提取变量值功能生效：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo \$PATH</span>
<span class="token environment constant">$PATH</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>结合输出重定向符，将字符串信息导入文件中：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo &quot;It is a test&quot; &gt; bithachi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用反引号符执行命令，并输出其结果到终端，以下为输出当前时间：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo `date`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出带有换行符的内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo -e &quot;a\nb\nc&quot;</span>
a
b
c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>输出信息中删除某个字符，注意看数字3消失了：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo -e &quot;123\b456&quot; </span>
<span class="token number">12456</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_15-14-head命令-显示文件开头内容"><a href="#_15-14-head命令-显示文件开头内容" class="header-anchor">#</a> 15.14 head命令 – 显示文件开头内容</h2> <p>head命令以行为单位，取文件的内容,后面不接参数时默认打印前10行。</p> <p>**语法格式：**head [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-n</th> <th>后面接数字，代表显示几行的意思</th></tr></thead> <tbody><tr><td>-c</td> <td>指定显示头部内容的字符数</td></tr> <tr><td>-v</td> <td>总是显示文件名的头信息</td></tr> <tr><td>-q</td> <td>不显示文件名的头信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示前3行文件内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># head -n 3 install.log</span>
Installing libgcc-4.4.7-23.el6.x86_64
warning: libgcc-4.4.7-23.el6.x86_64: Header V3 RSA/SHA1 Signature, key ID c105b9de: NOKEY
Installing setup-2.8.14-23.el6.noarch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>显示文件名信息，并显示文件前两行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># head -v -n 2 test.txt </span>
<span class="token operator">==</span><span class="token operator">&gt;</span> test.txt <span class="token operator">&lt;=</span><span class="token operator">=</span>
hello world
hello bithachi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>显示文件前5个字符：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># head -c 5 test.txt </span>
hello
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_15-15-tail命令-查看文件尾部内容"><a href="#_15-15-tail命令-查看文件尾部内容" class="header-anchor">#</a> 15.15 tail命令 – 查看文件尾部内容</h2> <p>tail用于显示文件尾部的内容，默认在屏幕上显示指定文件的末尾10行。如果给定的文件不止一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。</p> <p>**语法格式：**tail [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>--retry</th> <th>即是在tail命令启动时，文件不可访问或者文件稍后变得不可访问，都始终尝试打开文件。使用此选项时需要与选项“——follow=name”连用</th></tr></thead> <tbody><tr><td>-c或——bytes=</td> <td>输出文件尾部的N（N为整数）个字节内容</td></tr> <tr><td>-f&lt;name/descriptor&gt;</td> <td>--follow：显示文件最新追加的内容</td></tr> <tr><td>-F</td> <td>与选项“-follow=name”和“--retry”连用时功能相同</td></tr> <tr><td>-n或——line=</td> <td>输出文件的尾部N（N位数字）行内容</td></tr> <tr><td>--pid=&lt;进程号&gt;</td> <td>与“-f”选项连用，当指定的进程号的进程终止后，自动退出tail命令</td></tr> <tr><td>--help</td> <td>显示指令的帮助信息</td></tr> <tr><td>--version</td> <td>显示指令的版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示文件file的最后10行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span> <span class="token comment"># tail file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示文件file的内容，从第20行至文件末尾：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span> <span class="token comment"># tail +20 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示文件file的最后10个字符：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span> <span class="token comment"># tail -c 10 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一直变化的文件总是显示后10行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span> <span class="token comment"># tail -f 10 file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示帮助信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span> <span class="token comment"># tail --help</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-16-ln命令-为文件创建链接"><a href="#_15-16-ln命令-为文件创建链接" class="header-anchor">#</a> 15.16 ln命令 – 为文件创建链接</h2> <p>ln命令是linux系统中一个非常重要命令，英文全称是“link”，即链接的意思，它的功能是为某一个文件在另外一个位置建立一个同步的链接。 一种是hard link，又称为硬链接；另一种是symbolic link，又称为符号链接。</p> <p>通俗一点理解，可以把硬链接当成源文件的副本，他和源文件一样的大小，但是事实上却不占任何空间。符号链接可以理解为类似windows一样的快捷方式。</p> <p>符号链接 ：</p> <ul><li>符号链接以路径的形式存在，类似于Windows操作系统中的快捷方式。</li> <li>符号链接可以跨文件系统 ，硬链接不可以。</li> <li>符号链接可以对一个不存在的文件名进行链接，硬链接不可以。</li> <li>符号链接可以对目录进行链接，硬链接不可以。</li></ul> <p>硬链接：</p> <ul><li>硬链接以文件副本的形式存在，但不占用实际空间。</li> <li>硬链接不允许给目录创建硬链接。</li> <li>硬链接只有在同一个文件系统中才能创建。</li></ul> <p><strong>语法格式：</strong> ln [参数] [源文件或目录] [目标文件或目录]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-b</th> <th>为每个已存在的目标文件创建备份文件</th></tr></thead> <tbody><tr><td>-d</td> <td>此选项允许“root”用户建立目录的硬链接</td></tr> <tr><td>-f</td> <td>强制创建链接，即使目标文件已经存在</td></tr> <tr><td>-n</td> <td>把指向目录的符号链接视为一个普通文件</td></tr> <tr><td>-i</td> <td>交互模式，若目标文件已经存在，则提示用户确认进行覆盖</td></tr> <tr><td>-s</td> <td>对源文件建立符号链接，而非硬链接</td></tr> <tr><td>-v</td> <td>详细信息模式，输出指令的详细执行过程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>为源文件file.txt创建硬链接file_1：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~ <span class="token punctuation">]</span><span class="token comment"># ln /root/dir/file.txt ./file_1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用ln命令的“-s”参数来创建目录的符号链接，并使用ls命令来查看链接文件的详细信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ln -s dir file</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
总用量 <span class="token number">4</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">1138</span> <span class="token number">3</span>月  <span class="token number">11</span> <span class="token number">14</span>:48 anaconda-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">36</span> <span class="token number">4</span>月   <span class="token number">3</span> 08:47 <span class="token builtin class-name">test</span>
lrwxrwxrwx. <span class="token number">1</span> root root    <span class="token number">4</span> <span class="token number">4</span>月   <span class="token number">3</span> 08:54 <span class="token function">file</span> -<span class="token operator">&gt;</span> <span class="token function">dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用ln命令的“-v”参数来输出命令的详细执行过程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ln -v /root/dir/file.txt ./file_1</span>
 <span class="token string">'./file_1'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'/root/dir/file.txt'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用ln命令的“-b”命令来创建目标文件的备份文件，并使用ls命令来查看：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ln -b /root/dir/file.txt ./file_1</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
 anaconda-ks.cfg  file_1  file_1~  <span class="token function">dir</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_15-17-history命令-显示与操纵历史命令"><a href="#_15-17-history命令-显示与操纵历史命令" class="header-anchor">#</a> 15.17 history命令 – 显示与操纵历史命令</h2> <p>history命令用于显示用户以前执行过的历史命令，并且能对历史命令进行追加和删除等操作。</p> <p>如果你经常使用Linux命令，那么使用history命令可以有效地提升你的效率。</p> <p><strong>语法格式:</strong> history [参数] [目录]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>将当前shell会话的历史命令追加到命令历史文件中,命令历史文件是保存历史命令的配置文件</th></tr></thead> <tbody><tr><td>-c</td> <td>清空当前历史命令列表</td></tr> <tr><td>-d</td> <td>删除历史命令列表中指定序号的命令</td></tr> <tr><td>-n</td> <td>从命令历史文件中读取本次Shell会话开始时没有读取的历史命令</td></tr> <tr><td>-r</td> <td>读取命令历史文件到当前的Shell历史命令内存缓冲区</td></tr> <tr><td>-s</td> <td>将指定的命令作为单独的条目加入命令历史内存缓冲区。在执行添加之前先删除命令历史内存缓冲区中最后一条命令</td></tr> <tr><td>-w</td> <td>把当前的shell历史命令内存缓冲区的内容写入命令历史文件</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示最近的10条命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history 10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将本次登录的命令写入历史文件中：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history -w</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将命令历史文件中的内容读入到目前shell的history记忆中 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history -r</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将当前Shell会话的历史命令追加到命令历史文件中：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history -a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清空当前历史命令列表：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># history -c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_15-18-输出重定向、-追加命令"><a href="#_15-18-输出重定向、-追加命令" class="header-anchor">#</a> 15.18 &gt;输出重定向、&gt;&gt;追加命令</h2> <p><strong>基本语法：</strong></p> <ol><li>ls -l &gt; a.txt (功能描述:列表的内容写入文件a.txt中(覆盖写) )</li></ol> <p>2)Is -al &gt;&gt; aa.txt(功能描述: 列表的内容<strong>追加</strong>到文件aa.txt的末尾)</p> <p>3)cat 文件1 &gt; 文件2 (功能描述:将文件1的内容覆盖到文件2)</p> <ol><li>echo &quot;内容&quot; &gt;&gt; b.txt (将内容<strong>追加</strong>到文件b.txt)</li></ol> <p><strong>应用实例：</strong></p> <p>案例1：将/home目录下的文件列表写入到/home/info.txt 中，覆盖写入</p> <p>Is -l  /home &gt; /home/info.txt [如果 info.txt没有，则会创建]</p> <p>案例2:将当前日历信息追加到/home/mycal 文件中</p> <p>指令为:</p> <p>cal &gt;&gt; /home/mycal</p> <h2 id="_15-19-tree命令-以树状图列出目录内容"><a href="#_15-19-tree命令-以树状图列出目录内容" class="header-anchor">#</a> 15.19 tree命令 – 以树状图列出目录内容</h2> <p>tree命令的全称即是“tree”，该命令作用是用于以树状图形式列出目录的内容。</p> <p>执行tree命令，它会以树状图的方式列出指定目录下的所有文件，包括目录里的文件，显示出指定目录的文件目录结构。</p> <p>**语法格式：**tree [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示所有文件和目录</th></tr></thead> <tbody><tr><td>-A</td> <td>使用ASNI绘图字符显示树状图而非以ASCII字符组合</td></tr> <tr><td>-C</td> <td>在文件和目录清单加上色彩，便于区分这种类型</td></tr> <tr><td>-d</td> <td>显示目录名称而非内容</td></tr> <tr><td>-D</td> <td>列出文件或目录的更改时间</td></tr> <tr><td>-f</td> <td>在每个文件或目录之前，显示完整的相对路径名称</td></tr> <tr><td>-F</td> <td>在执行文件，目录，Socket，符号连接，管道名称名称，各自加上“*”，“/”，“=”，“@”，“|”号</td></tr> <tr><td>-g</td> <td>列出文件或目录的所属群组名称，没有对应的名称时，则显示群组识别码</td></tr> <tr><td>-i</td> <td>不以阶梯状列出文件或目录名称</td></tr> <tr><td>-I&lt;范本样式&gt;</td> <td>不现实符合范本样式的文件或目录名称</td></tr> <tr><td>-l</td> <td>如遇到性质为符号连接的目录，直接列出该连接所指向的原始目录</td></tr> <tr><td>-n</td> <td>不在文件和目录清单上加上色彩</td></tr> <tr><td>-N</td> <td>直接列出文件和目录名称，包括控制字符</td></tr> <tr><td>-p</td> <td>列出权限标示</td></tr> <tr><td>-P&lt;范本样式&gt;</td> <td>只显示符合范本像是的文件或目录名称</td></tr> <tr><td>-q</td> <td>用“?”号取代控制字符，列出文件和目录名称</td></tr> <tr><td>-s</td> <td>列出文件或目录大小</td></tr> <tr><td>-t</td> <td>用文件和目录的更改时间排序</td></tr> <tr><td>-u</td> <td>列出文件或目录的拥有者名称，没有对应的名称时，则显示用户识别码</td></tr> <tr><td>-x</td> <td>将范围局限在现行的文件系统中，若指定目录下的某些子目录，其存放于另一个文件系统上，则将该子目录予以排除在寻找范围外</td></tr> <tr><td>-L</td> <td>层级显示</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>只显示n层目录（n为数字）：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -L 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>用文件和目录的更改时间排序：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -t</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以相反次序排序：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -r</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在每个文件或目录之前，显示完整的相对路径：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -f</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>只显示目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -d</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示所有文件和目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># tree -a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="_16-日期时间"><a href="#_16-日期时间" class="header-anchor">#</a> 16. 日期时间</h1> <h2 id="_16-1-date命令-显示或设置日期与时间"><a href="#_16-1-date命令-显示或设置日期与时间" class="header-anchor">#</a> 16.1 date命令 – 显示或设置日期与时间</h2> <p>date命令可以用来显示或设定系统的日期与时间，在显示方面，使用者可以设定想显示的格式，格式设定为一个加号后接数个标记 。</p> <p><strong>若是不以加号作为开头，则表示要设定时间</strong>，而时间格式MMDDhhmm[[CC]YY][.ss]，其中 MM 为月份，DD 为日，hh 为小时，mm 为分钟，CC 为年份前两位数字，YY 为年份后两位数字，ss 为秒数。</p> <p>**语法格式：**date [选项] [+输出形式]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-d datestr</th> <th>显示 datestr 中所设定的时间 (非系统时间)</th></tr></thead> <tbody><tr><td>-s datestr</td> <td>将系统时间设为 datestr 中所设定的时间</td></tr> <tr><td>-u</td> <td>显示目前的格林威治时间</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr> <tr><td>--version</td> <td>显示版本编号</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示当前时间：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># date</span>
三 <span class="token number">5</span>月 <span class="token number">12</span> <span class="token number">14</span>:08:12 CST <span class="token number">2010</span>
<span class="token comment"># date '+%c' </span>
<span class="token number">2010</span>年05月12日 星期三 <span class="token number">14</span>时09分02秒
<span class="token comment"># date '+%D' //显示完整的时间</span>
05/12/10
<span class="token comment"># date '+%x' //显示数字日期，年份两位数表示</span>
<span class="token number">2010</span>年05月12日
<span class="token comment"># date '+%T' //显示日期，年份用四位数表示</span>
<span class="token number">14</span>:09:31
<span class="token comment"># date '+%X' //显示24小时的格式</span>
<span class="token number">14</span>时09分39秒
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>按自己的格式输出：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># date '+usr_time: $1:%M %P -hey' </span>
usr_time: <span class="token variable">$1</span>:16 下午 <span class="token parameter variable">-hey</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>显示时间后跳行，再显示目前日期：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># date '+%T%n%D' </span>
<span class="token number">22</span>:04:22
02/20/21
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>实显示月份与日数：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># date '+%B %d' </span>
二月 <span class="token number">20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>显示日期与设定时间(12:34:56)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># date --date '12:34:56'</span>
<span class="token number">2021</span>年 02月 <span class="token number">20</span>日 星期六 <span class="token number">12</span>:34:56 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>设置日期：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># date -s &quot;2020-1-1 11:11:11&quot;</span>
<span class="token number">2020</span>年 01月 01日 星期三 <span class="token number">11</span>:11:11 CST
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2020</span>年 01月 01日 星期三 <span class="token number">11</span>:11:13 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_16-2-cal命令-显示日历"><a href="#_16-2-cal命令-显示日历" class="header-anchor">#</a> 16.2 cal命令 – 显示日历</h2> <p>cal命令的名字来自英语单词“Calendar”。改命令用来显示当前日历，或者指定日期的公历（公历是现在国际通用的历法，又称格列历，通称阳历。）如只有一个参数，则表示年份(1-9999)，如有两个参数，则表示月份和年份 。</p> <p>**语法格式：**cal [参数] [月份] [年份]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-l</th> <th>单月分输出日历</th></tr></thead> <tbody><tr><td>-3</td> <td>显示最近三个月的日历</td></tr> <tr><td>-s</td> <td>将星期天作为月的第一天</td></tr> <tr><td>-m</td> <td>将星期一作为月的第一天</td></tr> <tr><td>-j</td> <td>显示在当年中的第几天（儒略日）</td></tr> <tr><td>-y</td> <td>显示当年的日历</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示当前月份的日历：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cal</span>
       四月 <span class="token number">2019</span>     
 日 一 二 三 四 五 六
     <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>
  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>
 <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>
 <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>
 <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>显示近期三个月的日历(当前月，上一个月和下一个月)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cal -3</span>
       三月 <span class="token number">2019</span>             四月 <span class="token number">2019</span>             五月 <span class="token number">2019</span>     
 日 一 二 三 四 五 六  日 一 二 三 四 五 六  日 一 二 三 四 五 六
                 <span class="token number">1</span>  <span class="token number">2</span>      <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>            <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>
  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span>   <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>   <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span>
 <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span>  <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>  <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span>
 <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span>  <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>  <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span>
 <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>  <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>              <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>   
 <span class="token number">31</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>显示指定年月的日历，如显示2020年2月的日历：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># cal 2 2020</span>
       二月 <span class="token number">2020</span>     
 日 一 二 三 四 五 六
                    <span class="token number">1</span>
  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>
  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span>
 <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span>
 <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="_17-搜索查找文件或目录"><a href="#_17-搜索查找文件或目录" class="header-anchor">#</a> 17. 搜索查找文件或目录</h1> <h2 id="_17-1-find命令-查找和搜索文件"><a href="#_17-1-find命令-查找和搜索文件" class="header-anchor">#</a> 17.1 find命令 – 查找和搜索文件</h2> <p>find命令可以根据给定的路径和表达式查找的文件或目录。</p> <p>find参数选项很多，并且支持正则，功能强大。和管道结合使用可以实现复杂的功能，是系统管理者和普通用户必须掌握的命令。</p> <p>find如不加任何参数，表示查找当前路径下的所有文件和目录，如果服务器负载比较高尽量不要在高峰期使用find命令，find命令模糊搜索还是比较消耗系统资源的。</p> <p><strong>语法格式</strong>：find [参数] [路径] [查找和搜索范围]</p> <p><strong>常用参数</strong>：</p> <table><thead><tr><th>-name</th> <th>按名称查找</th></tr></thead> <tbody><tr><td>-size</td> <td>按大小查找</td></tr> <tr><td>-user</td> <td>按属性查找</td></tr> <tr><td>-type</td> <td>按类型查找</td></tr> <tr><td>-iname</td> <td>忽略大小写</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>使用-name参数查看/etc目录下面所有的.conf结尾的配置文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find /etc -name &quot;*.conf&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用-size参数查看/etc目录下面大于1M的文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find /etc -size +1M</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查找当前用户主目录下的所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find $HOME -print</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出当前目录及子目录下所有文件和文件夹：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find .</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在/home目录下查找以.txt结尾的文件名：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find /home -name &quot;*.txt&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在/var/log目录下忽略大小写查找以.log结尾的文件名：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find /var/log -iname &quot;*.log&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>搜索超过七天内被访问过的所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find . -type f -atime +7</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>搜索访问时间超过10分钟的所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find . -type f -amin +10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>找出/home下不是以.txt结尾的文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># find /home ! -name &quot;*.txt&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_17-2-locate命令-快速查找文件或目录"><a href="#_17-2-locate命令-快速查找文件或目录" class="header-anchor">#</a> 17.2 locate命令 – 快速查找文件或目录</h2> <p><strong>locate命令其实是find -name的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库/var/lib/locatedb</strong>，值得注意的是：版本不同，会有所不同。有的版本位置是 /var/lib/mlocate/mlocatedb ，还有的是/var/lib/slocate/slocate.db ，这个数据库中含有本地所有文件信息。</p> <p>Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</p> <p>**语法格式：**locate [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-d&lt;目录&gt;或--database=&lt;目录&gt;</th> <th>指定数据库所在的目录</th></tr></thead> <tbody><tr><td>--help</td> <td>显示帮助</td></tr> <tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>搜索/etc目录下所有以sh开头的文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># locate /etc/sh</span>
 /etc/shadow
 /etc/shadow-
 /etc/shells
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>搜索/etc目录下以k开头的文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># locate /etc/k</span>
 /etc/kdump.conf
 /etc/kernel
 /etc/krb5.conf
 /etc/krb5.conf.d
 /etc/ksmtuned.conf
 /etc/kernel/postinst.d
 /etc/kernel/postinst.d/51-dracut-rescue-postinst.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>查找和pwd相关的所有文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># locate pwd</span>
 /boot/extlinux/pwd.c32
 /etc/.pwd.lock
 /usr/bin/pwd
 /usr/bin/pwdx
 /usr/include/pwd.h
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_17-3-grep命令-强大的文本搜索工具"><a href="#_17-3-grep命令-强大的文本搜索工具" class="header-anchor">#</a> 17.3 grep命令 – 强大的文本搜索工具</h2> <p>grep是“global search regular expression and print out the line”的简称，意思是<strong>全面搜索正则表达式，并将其打印出来</strong>。这个命令可以结合正则表达式使用，它也是linux使用最为广泛的命令。</p> <p>grep命令的选项用于对搜索过程的补充，而其命令的模式十分灵活，可以是变量、字符串、正则表达式。需要注意的是：一当模式中包含了空格，务必要用双引号将其引起来。</p> <p>linux系统支持三种形式的grep命令，大儿子就是grep，标准，模仿的代表。二儿子兴趣爱好多-egrep，简称扩展grep命令，其实和grep -E等价，支持基本和扩展的正则表达式。小儿子跑的最快-fgrep，简称快速grep命令，其实和grep -F等价，不支持正则表达式，按照字符串表面意思进行匹配。</p> <p><strong>语法格式：</strong> grep [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-i</th> <th>搜索时，忽略大小写</th></tr></thead> <tbody><tr><td>-c</td> <td>只输出匹配行的数量</td></tr> <tr><td>-l</td> <td>只列出符合匹配的文件名，不列出具体的匹配行</td></tr> <tr><td>-n</td> <td>列出所有的匹配行，显示行号</td></tr> <tr><td>-h</td> <td>查询多文件时不显示文件名</td></tr> <tr><td>-s</td> <td>不显示不存在、没有匹配文本的错误信息</td></tr> <tr><td>-v</td> <td>显示不包含匹配文本的所有行</td></tr> <tr><td>-w</td> <td>匹配整词</td></tr> <tr><td>-x</td> <td>匹配整行</td></tr> <tr><td>-r</td> <td>递归搜索</td></tr> <tr><td>-q</td> <td>禁止输出任何结果，已退出状态表示搜索是否成功</td></tr> <tr><td>-b</td> <td>打印匹配行距文件头部的偏移量，以字节为单位</td></tr> <tr><td>-o</td> <td>与-b结合使用，打印匹配的词据文件头部的偏移量，以字节为单位</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>支持多文件查询并支持使用通配符：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep zwx file_* /etc/hosts</span>
file_1:zwx
file_1:zwx
file_1:zwxddkjflkdjfdlkfjlsdkj
file_2:zwx
file_4:dkfjlzwxejfkje
file_4:zwx djfkdjf
file_4:zwxedkfgj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>输出匹配字符串行的数量：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span>$ <span class="token function">grep</span> <span class="token parameter variable">-c</span> zwx file_*
 file_1:2
 file_2:1
 file_3:0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>列出所有的匹配行，并显示行号：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -n zwx file_*</span>
 file_1:1:zwx
 file_1:4:zwx
 file_1:10:zwxddkjflkdjfdlkfjlsdkj
 file_2:2:zwx
 file_4:3:dkfjlzwxejfkje
 file_4:4:zwx djfkdjf
 file_4:5:zwxedkfgj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>显示不包含模式的所有行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -vc zwx file_*</span>
 file_1:7                                
 file_2:4
 file_3:5
 file_4:2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>不再显示文件名：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -h zwx file_*</span>
 zwx
 zwx
 zwxddkjflkdjfdlkfjlsdkj
 zwx
 dkfjlzwxejfkje
 zwx djfkdjf
 zwxedkfgj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>只列出符合匹配的文件名，不列出具体匹配的行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -l zwx file_*</span>
 file_1
 file_2
 file_4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>不显示不存在或无匹配的文本信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep  -s zwx file1 file_1</span>
 file_1:zwx       
 file_1:zwx
 file_1:zwxddkjflkdjfdlkfjlsdkj
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep zwx file1 file_1</span>
 grep: file1: No such <span class="token function">file</span> or directory  
 file_1:zwx
 file_1:zwx
 file_1:zwxddkjflkdjfdlkfjlsdkj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>递归搜索，不仅搜索当前目录，还搜索子目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -r zwx file_2 *</span>
 file_2:zwx
 anaconda-ks.cfg:user <span class="token parameter variable">--name</span><span class="token operator">=</span>zwx <span class="token parameter variable">--gecos</span><span class="token operator">=</span><span class="token string">&quot;zwx&quot;</span>
 file_1:zwx
 file_1:zwx
 file_1:zwxddkjflkdjfdlkfjlsdkj
 file_2:zwx
 file_4:dkfjlzwxejfkje
 file_4:zwx djfkdjf
 file_4:zwxedkfgj
 initial-setup-ks.cfg:user <span class="token parameter variable">--name</span><span class="token operator">=</span>zwx <span class="token parameter variable">--gecos</span><span class="token operator">=</span><span class="token string">&quot;zwx&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>匹配整词，以字面意思去解释他，相当于精确匹配：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep zw* file_1</span>
 zwx                       
 zwx
 zdkfjeld
 zw
 ze
 zwxddkjflkdjfdlkfjlsdkj
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -w zw* file_1</span>
 zw
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>匹配整行，文件中的整行与模式匹配时，才打印出来：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -x zwx file_*</span>
 file_1:zwx
 file_1:zwx
 file_2:zwx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>不输出任何结果，已退出状态表示结果：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -q zwx file_1</span>
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
 <span class="token number">0</span>               
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -q zwx file_5</span>
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
 <span class="token number">1</span>               
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -q zwx file5</span>
 grep: file5: No such <span class="token function">file</span> or directory
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
 <span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>查找一个文件中的空行和非空行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -c ^$ file_1</span>
 <span class="token number">4</span>              
 <span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep -c ^[^$] file_1</span>
 <span class="token number">15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>匹配任意或重复字符用“.”或“*”符号来实现：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep ^z.x file_1</span>
 zwx
 zwx
 zwxddkjflkdjfdlkfjlsdkj
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># grep ^z* file_6</span>
 zwx
 dfkjd
                      
 zzdfjkd
 zz dfdww
 haha
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_17-4-grep与管道符"><a href="#_17-4-grep与管道符" class="header-anchor">#</a> 17.4 grep与管道符 |</h2> <p><strong>利用Linux所提供的管道符“|”将两个命令隔开，管道符左边命令的输出就会作为管道符右边命令的输入。连续使用管道意味着第一个命令的输出会作为第二个命令的输入，第二个命令的输出又会作为第三个命令的输入，依此类推。</strong></p> <p><strong>案例1:请在hello.txt 文件中，查找&quot;yes&quot; 所在行， 并且显示行号</strong>。</p> <p><strong>写法1：</strong> <code>cat /home/hello.txt| grep &quot;yes&quot;</code></p> <p><strong>写法2：</strong> <code>grep -n &quot;yes&quot; /home/hello.txt</code></p> <h1 id="_18-压缩与解压"><a href="#_18-压缩与解压" class="header-anchor">#</a> 18. 压缩与解压</h1> <h2 id="_18-1-gzip命令-压缩和解压文件"><a href="#_18-1-gzip命令-压缩和解压文件" class="header-anchor">#</a> 18.1 gzip命令 – 压缩和解压文件</h2> <p><strong>gzip命令的英文是“GNUzip”，是常用来压缩文件的工具，gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多处“.gz”扩展名。</strong></p> <p><strong>gzip是在Linux系统中经常使用的一个对文件进行压缩和解压缩的命令</strong>，既方便又好用。gzip不仅可以用来压缩大的、较少使用的文件以节省磁盘空间，还可以和tar命令一起构成Linux操作系统中比较流行的压缩文件格式。据统计，gzip命令对文本文件有60%～70%的压缩率。减少文件大小有两个明显的好处，一是可以减少存储空间，二是通过网络传输文件时，可以减少传输的时间。</p> <p>**语法格式：**gzip [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>使用ASCII文字模式</th></tr></thead> <tbody><tr><td>-d</td> <td>解开压缩文件</td></tr> <tr><td>-f</td> <td>强行压缩文件</td></tr> <tr><td>-l</td> <td>列出压缩文件的相关信息</td></tr> <tr><td>-c</td> <td>把压缩后的文件输出到标准输出设备，不去更动原始文件</td></tr> <tr><td>-r</td> <td>递归处理，将指定目录下的所有文件及子目录一并处理</td></tr> <tr><td>-q</td> <td>不显示警告信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>把当前目录下的每个文件压缩成.gz文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gzip *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把上例中每个压缩的文件解压，并列出详细的信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gzip -dv *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>递归地解压目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gzip -dr rancher.gz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_18-2-gunzip命令-解压文件"><a href="#_18-2-gunzip命令-解压文件" class="header-anchor">#</a> 18.2 gunzip命令 – 解压文件</h2> <p>gunzip命令用于解压文件，它是个使用广泛的解压缩程序，它用于解开被gzip压缩过的文件，这些压缩文件预设最后的扩展名为”.gz”。事实上gunzip就是gzip的硬连接，因此不论是压缩或解压缩，都可通过gzip命令单独完成。</p> <p>**语法格式：**gunzip [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a或--ascii</th> <th>使用ASCII文字模式</th></tr></thead> <tbody><tr><td>-c或--stdout或--to-stdout</td> <td>把解压后的文件输出到标准输出设备</td></tr> <tr><td>-f或-force</td> <td>强行解开压缩文件，不理会文件名称或硬连接是否存在以及该文件是否为符号连接</td></tr> <tr><td>-h或--help</td> <td>在线帮助。</td></tr> <tr><td>-l或--list</td> <td>列出压缩文件的相关信息</td></tr> <tr><td>-L或--license</td> <td>显示版本与版权信息</td></tr> <tr><td>-n或--no-name</td> <td>解压缩时，若压缩文件内含有远来的文件名称及时间戳记，则将其忽略不予处理</td></tr> <tr><td>-N或--name</td> <td>解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其回存到解开的文件上</td></tr> <tr><td>-q或--quiet</td> <td>不显示警告信息</td></tr> <tr><td>-r或--recursive</td> <td>递归处理，将指定目录下的所有文件及子目录一并处理</td></tr> <tr><td>-S&lt;压缩字尾字符串&gt;或--suffix&lt;压缩字尾字符串&gt;</td> <td>更改压缩字尾字符串</td></tr> <tr><td>-t或--test</td> <td>测试压缩文件是否正确无误</td></tr> <tr><td>-v或--verbose</td> <td>显示指令执行过程</td></tr> <tr><td>-V或--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>解压文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gunzip ab.gz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>解压，显示详细执行过程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gunzip -v 1.gz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>指定后缀名解压：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># gunzip -v -S &quot;mygz&quot; 1.mygz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_18-3-zip命令-压缩文件"><a href="#_18-3-zip命令-压缩文件" class="header-anchor">#</a> 18.3 zip命令 – 压缩文件</h2> <p>zip程序将一个或多个压缩文件与有关文件的信息(名称、路径、日期、上次修改的时间、保护和检查信息以验证文件完整性)一起放入一个压缩存档中。<strong>可以使用一个命令将整个目录结构打包到zip存档中。</strong></p> <p>对于文本文件来说，压缩比为2：1和3：1是常见的。zip只有一种压缩方法(通缩)，并且可以在不压缩的情况下存储文件。(如果添加了bzip 2支持，zip也可以使用bzip 2压缩，但这些条目需要一个合理的现代解压缩来解压缩。当选择bzip 2压缩时，它将通货紧缩替换为默认方法。)zip会自动为每个要压缩的文件选择更好的两个文件(通缩或存储，如果选择bzip2，则选择bzip2或Store)。</p> <p>**语法格式：**zip [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-q</th> <th>不显示指令执行过程</th></tr></thead> <tbody><tr><td>-r</td> <td>递归处理，将指定目录下的所有文件和子目录一并处理</td></tr> <tr><td>-z</td> <td>替压缩文件加上注释</td></tr> <tr><td>-v</td> <td>显示指令执行过程或显示版本信息</td></tr> <tr><td>-n&lt;字尾字符串&gt;</td> <td>不压缩具有特定字尾字符串的文件</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>将 /home/html/ 这个目录下所有文件和文件夹打包为当前目录下的 html.zip：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># zip -q -r html.zip /home/html</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>压缩文件 cp.zip 中删除文件 a.c：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># zip -dv cp.zip a.c</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把/home目录下面的mydata目录压缩为mydata.zip：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># zip -r mydata.zip mydata</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把/home目录下面的abc文件夹和123.txt压缩成为abc123.zip：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># zip -r abc123.zip abc 123.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将 logs目录打包成 log.zip：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># zip -r log.zip ./logs</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_18-4-unzip命令-解压缩zip文件"><a href="#_18-4-unzip命令-解压缩zip文件" class="header-anchor">#</a> 18.4 unzip命令 – 解压缩zip文件</h2> <p>unzip命令是用于.zip格式文件的解压缩工具 ，unzip命令将列出、测试或从zip格式存档中提取文件，这些文件通常位于MS-DOS系统上。</p> <p>默认行为（就是没有选项）是从指定的ZIP存档中提取所有的文件到当前目录（及其下面的子目录）。一个配套程序zip（1L）创建ZIP存档；这两个程序都与PKWARE的PKZIP和PKUNZIP为MS-DOS创建的存档文件兼容，但许多情况下，程序选项或默认行为是不同的。</p> <p>**语法格式：**unzip [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-l</th> <th>显示压缩文件内所包含的文件</th></tr></thead> <tbody><tr><td>-v</td> <td>执行时显示详细的信息</td></tr> <tr><td>-c</td> <td>将解压缩的结果显示到屏幕上，并对字符做适当的转换</td></tr> <tr><td>-n</td> <td>解压缩时不要覆盖原有的文件</td></tr> <tr><td>-j</td> <td>不处理压缩文件中原有的目录路径</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>把/home目录下面的mydata.zip解压到mydatabak目录里面：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># unzip mydata.zip -d mydatabak</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把/home目录下面的wwwroot.zip直接解压到/home目录里面：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># unzip wwwroot.zip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>把/home目录下面的abc12.zip、abc23.zip、abc34.zip同时解压到/home目录里面：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># unzip abc\*.zip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>解压并查看/home目录下面的wwwroot.zip里面的内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># unzip -v wwwroot.zip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>验证/home目录下面的wwwroot.zip是否完整：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># unzip -t wwwroot.zip</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_18-5-tar命令-打包和备份的归档工具"><a href="#_18-5-tar命令-打包和备份的归档工具" class="header-anchor">#</a> 18.5 tar命令 – 打包和备份的归档工具</h2> <p>tar命令可以为linux的文件和目录创建档案。</p> <p>利用tar，可以为某一特定文件创建档案（备份文件），也可以在档案中改变文件，或者向档案中加入新的文件。</p> <p>tar最初被用来在磁带上创建档案，现在，用户可以在任何设备上创建档案。</p> <p>利用tar命令，可以<strong>把一大堆的文件和目录全部打包成一个文件</strong>，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。</p> <p>**语法格式：**tar [参数] [文件或目录]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-A</th> <th>新增文件到以存在的备份文件</th></tr></thead> <tbody><tr><td>-B</td> <td>设置区块大小</td></tr> <tr><td>-c</td> <td>建立新的备份文件</td></tr> <tr><td>-C &lt;目录&gt;</td> <td>切换工作目录，先进入指定目录再执行压缩/解压缩操作，可用于仅压缩特定目录里的内容或解压缩到特定目录</td></tr> <tr><td>-d</td> <td>记录文件的差别</td></tr> <tr><td>-x</td> <td>从归档文件中提取文件</td></tr> <tr><td>-t</td> <td>列出备份文件的内容</td></tr> <tr><td>-z</td> <td>通过gzip指令压缩/解压缩文件，文件名最好为*.tar.gz</td></tr> <tr><td>-Z</td> <td>通过compress指令处理备份文件</td></tr> <tr><td>-f&lt;备份文件&gt;</td> <td>指定备份文件</td></tr> <tr><td>-v</td> <td>显示指令执行过程</td></tr> <tr><td>-r</td> <td>添加文件到已经压缩的文件</td></tr> <tr><td>-u</td> <td>添加改变了和现有的文件到已经存在的压缩文件</td></tr> <tr><td>-j</td> <td>通过bzip2指令压缩/解压缩文件，文件名最好为*.tar.bz2</td></tr> <tr><td>-v</td> <td>显示操作过程</td></tr> <tr><td>-l</td> <td>文件系统边界设置</td></tr> <tr><td>-k</td> <td>保留原有文件不覆盖</td></tr> <tr><td>-m</td> <td>保留文件不被覆盖</td></tr> <tr><td>-w</td> <td>确认压缩文件的正确性</td></tr> <tr><td>-p</td> <td>保留原来的文件权限与属性</td></tr> <tr><td>-P</td> <td>使用文件名的绝对路径，不移除文件名称前的“/”号</td></tr> <tr><td>-N &lt;日期格式&gt;</td> <td>只将较指定日期更新的文件保存到备份文件里</td></tr> <tr><td>-- -exclude=&lt;范本样式&gt;</td> <td>排除符合范本样式的文件</td></tr> <tr><td>-- -remove-files</td> <td>归档/压缩之后删除源文件</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>将所有.jpg的文件打成一个名为all.tar的包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># tar -cf all.tar *.jpg</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打包文件之后删除源文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># tar -cvf bithachi.tar bithachi --remove-files</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打包文件以后，并以 gzip 压缩：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># tar -zcvf log.tar.gz bithachi.log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出压缩文件内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># tar -tzvf test.tar.gz </span>
-rw-r--r-- root/root     <span class="token number">0</span> <span class="token number">2010</span>-05-24 <span class="token number">16</span>:51:59 a.c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>解压文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># tar -xzvf test.tar.gz</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="_19-文件目录的权限管理"><a href="#_19-文件目录的权限管理" class="header-anchor">#</a> 19. 文件目录的权限管理</h1> <h2 id="_19-1-文件目录的基本属性"><a href="#_19-1-文件目录的基本属性" class="header-anchor">#</a> 19.1 文件目录的基本属性</h2> <p>Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。</p> <p>为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。</p> <p>在 Linux 中我们通常使用以下两个命令来修改文件或目录的所属用户与权限：</p> <ul><li><strong>chown (change ownerp) ： 修改所属用户与组。</strong></li> <li><strong>chmod (change mode) ： 修改用户的权限。</strong></li></ul> <p>下图中通过 chown 来授权用户，通过 chmod 为用户设置可以开门的权限。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791257-fb76089e-2294-4efe-851a-b2d1ae20c142.png" alt="img"></p> <p>在 Linux 中我们可以使用 <strong>ll</strong> 或者 <strong>ls –l</strong> 命令来显示一个文件的属性以及文件所属的用户和组，如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@www /<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
total <span class="token number">64</span>
dr-xr-xr-x   <span class="token number">2</span> root root <span class="token number">4096</span> Dec <span class="token number">14</span>  <span class="token number">2012</span> bin
dr-xr-xr-x   <span class="token number">4</span> root root <span class="token number">4096</span> Apr <span class="token number">19</span>  <span class="token number">2012</span> boot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>实例中，<strong>bin</strong> 文件的第一个属性用 <strong>d</strong> 表示。<strong>d</strong> 在 Linux 中代表该文件是一个目录文件。</p> <p>在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。</p> <ul><li>当为 <strong>d</strong> 则是目录</li> <li>当为 <strong>-</strong> 则是文件；</li> <li>若是 <strong>l</strong> 则表示为链接文档(link file)；</li> <li>若是 <strong>b</strong> 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；</li> <li>若是 <strong>c</strong> 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。</li></ul> <p>接下来的字符中，以三个为一组，且均为 <strong>rwx</strong> 的三个参数的组合。</p> <p>其中， <strong>r</strong> 代表可读(read)、 <strong>w</strong> 代表可写(write)、 <strong>x</strong> 代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 <strong>-</strong> 而已。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/jpeg/10385897/1613901791013-d5755cb3-306f-40bf-a69d-b4909b353311.jpeg" alt="img"></p> <p>每个文件的属性由左边第一部分的 10 个字符来确定（如下图）。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791023-33fee662-9b9e-4de2-a993-d4eb468c8f5a.png" alt="img"></p> <ul><li>第 <strong>0</strong> 位确定文件类型</li> <li>第 <strong>1-3</strong> 位确定属主（该文件的所有者）拥有该文件的权限。</li> <li>第<strong>4-6</strong>位确定属组（该文件所有者的同组用户）拥有该文件的权限，</li> <li>第<strong>7-9</strong>位确定其他用户拥有该文件的权限。</li> <li>第 <strong>1、4、7</strong> 位表示读权限，如果用 <strong>r</strong> 字符表示，则有读权限，如果用 <strong>-</strong> 字符表示，则没有读权限；</li> <li>第 <strong>2、5、8</strong> 位表示写权限，如果用 <strong>w</strong> 字符表示，则有写权限，如果用 <strong>-</strong> 字符表示没有写权限；</li> <li>第 <strong>3、6、9</strong> 位表示可执行权限，如果用 <strong>x</strong> 字符表示，则有执行权限，如果用 <strong>-</strong> 字符表示，则没有执行权限。</li></ul> <p><strong>下面是一个案例解释：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@www /<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
total <span class="token number">64</span>
drwxr-xr-x <span class="token number">2</span> root  root  <span class="token number">4096</span> Feb <span class="token number">15</span> <span class="token number">14</span>:46 <span class="token function">cron</span>
drwxr-xr-x <span class="token number">3</span> mysql mysql <span class="token number">4096</span> Apr <span class="token number">21</span>  <span class="token number">2014</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在以上实例中，mysql 文件是一个目录文件，属主和属组都为 mysql，属主有可读、可写、可执行的权限；与属主同组的其他用户有可读和可执行的权限；其他用户也有可读和可执行的权限。</p> <p>对于 root 用户来说，一般情况下，文件的权限对其不起作用。</p> <h2 id="_19-2-chgrp命令-更改文件用户组"><a href="#_19-2-chgrp命令-更改文件用户组" class="header-anchor">#</a> 19.2 chgrp命令 – 更改文件用户组</h2> <p>chgrp是英语单词“change group”的缩写，命令的作用和其中文释义一样，为用于变更文件或目录的所属群组。</p> <p><strong>语法格式:</strong> chgrp [参数] [目录]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-c</th> <th>效果类似”-v”参数，但仅回报更改的部分</th></tr></thead> <tbody><tr><td>-f</td> <td>不显示错误信息</td></tr> <tr><td>-h</td> <td>对符号连接的文件作修改，而不更动其他任何相关文件</td></tr> <tr><td>-R</td> <td>递归处理，将指定目录下的所有文件及子目录一并处理</td></tr> <tr><td>-v</td> <td>显示指令执行过程</td></tr> <tr><td>--reference</td> <td>把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>改变文件的群组属性：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chgrp -v bithachi file</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>根据指定文件改变文件的群组属性：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chgrp --reference=file_1 file_2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将/usr/bithachi及其子目录下的所有文件的用户组改为cool：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chgrp -R cool /usr/bithachi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_19-3-chown命令-更改文件或目录用户和用户组"><a href="#_19-3-chown命令-更改文件或目录用户和用户组" class="header-anchor">#</a> 19.3 chown命令 – 更改文件或目录用户和用户组</h2> <p>Linux/Unix 属于多用户多任务操作系统，所有的文件皆有拥有者。</p> <p>利用 chown 命令可以将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID，组可以是组名或者组ID，文件是以空格分开的要改变权限的文件列表，支持通配符。</p> <p>一般来说，这个指令仅限系统管理者(root)所使用，普通用户没有权限改变文件所属者及所属组。</p> <p>**语法格式：**chown [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-R</th> <th>对目前目录下的所有文件与子目录进行相同的拥有者变更</th></tr></thead> <tbody><tr><td>-c</td> <td>若该文件拥有者确实已经更改，才显示其更改动作</td></tr> <tr><td>-f</td> <td>若该文件拥有者无法被更改也不要显示错误讯息</td></tr> <tr><td>-h</td> <td>只对于连结(link)进行变更，而非该 link 真正指向的文件</td></tr> <tr><td>-v</td> <td>显示拥有者变更的详细资料</td></tr> <tr><td>--help</td> <td>显示辅助说明</td></tr> <tr><td>--version</td> <td>显示版本</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>将test.txt文件用户组与用户都改为bin：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ll test.txt</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">56</span> Jul <span class="token number">22</span> <span class="token number">20</span>:17 test.txt
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chown bin:bin test.txt   </span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ll test.txt</span>
-rw-r--r-- <span class="token number">1</span> bin bin <span class="token number">56</span> Jul <span class="token number">22</span> <span class="token number">20</span>:17 test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>显示改动动作：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># ll test.txt </span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">45</span> Jul <span class="token number">22</span> <span class="token number">21</span>:11 test.txt
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chown -c bin:bin test.txt </span>
changed ownership of `test.txt' to bin:bin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>将当前目录下所有文件的拥有者都改为 bithachi，用户组改为 bithachigroup:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chown -R bithachi:bithachigroup *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_19-4-chmod命令-改变文件或目录权限"><a href="#_19-4-chmod命令-改变文件或目录权限" class="header-anchor">#</a> 19.4 chmod命令 – 改变文件或目录权限</h2> <p>chmod命令的英文原意是“change the permissions mode of a file”，我们简称为“change mode”，意为用来<strong>改变文件或目录权限</strong>的命令，但是<strong>只有文件的属主和超级用户root才能执行这个命令。</strong></p> <p>有两种模式，一种是采用权限字母和操作符表达式；另一种是采用数字。</p> <p><strong>语法格式：</strong> chmod [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-c</th> <th>若该文件权限确实已经更改，才显示其更改动作</th></tr></thead> <tbody><tr><td>-f</td> <td>若该文件权限无法被更改也不显示错误讯息</td></tr> <tr><td>-v</td> <td>显示权限变更的详细资料</td></tr> <tr><td>-R</td> <td>对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更)</td></tr></tbody></table> <h3 id="_19-4-1-通过-符号改变文件权限"><a href="#_19-4-1-通过-符号改变文件权限" class="header-anchor">#</a> 19.4.1 通过+-=符号改变文件权限</h3> <ul><li>user：用户</li> <li>group：组</li> <li>others：其他</li></ul> <p>我们可以使用 <strong>u, g, o</strong> 来代表三种身份的权限。</p> <p><strong>a</strong> 则代表 <strong>all</strong>，即全部的身份。</p> <p>读、写、执行的权限可以写成 <strong>r, w, x</strong>，也就是可以使用下表的方式来看：</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613901791025-08a9847a-b1b7-42bd-81b8-c8f3c20b5287.png" alt="img"></p> <p>如果我们需要将文件权限设置为 <strong>-rwxr-xr--</strong> ，可以使用 <strong>chmod u=rwx,g=rx,o=r 文件名</strong> 来设定:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#  touch test1    // 创建 test1 文件</span>
<span class="token comment"># ls -al test1    // 查看 test1 默认权限</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">0</span> Nov <span class="token number">15</span> <span class="token number">10</span>:32 test1
<span class="token comment"># chmod u=rwx,g=rx,o=r  test1    // 修改 test1 权限</span>
<span class="token comment"># ls -al test1</span>
-rwxr-xr-- <span class="token number">1</span> root root <span class="token number">0</span> Nov <span class="token number">15</span> <span class="token number">10</span>:32 test1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>而如果是要将权限去掉而不改变其他已存在的权限呢？例如要拿掉全部人的可执行权限，则：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#  chmod  a-x test1</span>
<span class="token comment"># ls -al test1</span>
-rw-r--r-- <span class="token number">1</span> root root <span class="token number">0</span> Nov <span class="token number">15</span> <span class="token number">10</span>:32 test1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将当前目录下的所有文件与子目录皆设为任何人可读取 :</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chmod -R a+r *</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将 file.txt 设定为只有该文件拥有者可以执行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># chmod u+x file.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_19-4-2-通过数字421修改文件权限"><a href="#_19-4-2-通过数字421修改文件权限" class="header-anchor">#</a> 19.4.2 通过数字421修改文件权限</h3> <p><strong>我们可以使用数字来代表各个权限，各权限的分数对照表如下：</strong></p> <table><thead><tr><th>字母</th> <th>数字</th></tr></thead> <tbody><tr><td>r</td> <td>4</td></tr> <tr><td>w</td> <td>2</td></tr> <tr><td>x</td> <td>1</td></tr></tbody></table> <p><strong>每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为：- rwx rwx --- 分数则是：</strong></p> <ul><li>owner = rwx = 4+2+1 = 7</li> <li>group = rwx = 4+2+1 = 7</li> <li>others= --- = 0+0+0 = 0</li></ul> <p>举例来说，如果要将 .bashrc 这个文件所有的权限都设定启用，那么命令如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ls -al .bashrc</span>
-rw-r--r--  <span class="token number">1</span> root root <span class="token number">395</span> Jul  <span class="token number">4</span> <span class="token number">11</span>:45 .bashrc
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod 777 .bashrc</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ls -al .bashrc</span>
<span class="token parameter variable">-rwxrwxrwx</span>  <span class="token number">1</span> root root <span class="token number">395</span> Jul  <span class="token number">4</span> <span class="token number">11</span>:45 .bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>那如果要将权限变成 <strong>-rwxr-xr--</strong> 呢？那么权限的分数就成为 [4+2+1][4+0+1][4+0+0]=754。</p> <h1 id="_20-定时任务调度"><a href="#_20-定时任务调度" class="header-anchor">#</a> 20. 定时任务调度</h1> <h2 id="_20-1-crontab命令-定时执行任务"><a href="#_20-1-crontab命令-定时执行任务" class="header-anchor">#</a> 20.1 crontab命令 – 定时执行任务</h2> <p>​		crontab是英文“cron table”的简写。该命令被用来提交和管理用户的需要周期性执行的任务，与windows下的计划任务类似，当安装完成操作系统后，默认会安装此服务工具，并且会自动启动crond进程，crond进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务。</p> <p><strong>Linux下的任务调度分为两类：系统任务调度和用户任务调度。</strong></p> <ul><li>系统任务调度：系统周期性所要执行的工作，比如写缓存数据到硬盘、日志清理等。/etc/crontab文件是系统任务调度的配置文件。</li> <li>用户任务调度：用户定期要执行的工作，比如用户数据备份、定时邮件提醒等。用户可以使用 <strong>crontab</strong> 工具来定制自己的计划任务。所有用户定义的crontab 文件都被保存在 /var/spool/cron目录中。其文件名与用户名一致。</li></ul> <p>**语法格式：**crontab [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-e</th> <th>编辑该用户的定时任务设置</th></tr></thead> <tbody><tr><td>-l</td> <td>列出该用户的定时任务设置</td></tr> <tr><td>-r</td> <td>删除该用户的定时任务设置</td></tr> <tr><td>-u</td> <td>指定要设定定时任务的用户名称</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>创<strong>建、编辑计划任务：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># crontab -e</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>查看当前计划任务：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># crontab -l</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除某条计划任务：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># crontab -r</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>定时执行curl请求，每一分钟执行一次：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>*/1 * * * * /bin/sh /home/a/a.sh
<span class="token comment"># a.sh文件内容如下</span>
    <span class="token comment">#!/bin/bash</span>
    <span class="token assign-left variable">step</span><span class="token operator">=</span><span class="token number">10</span> <span class="token comment"># 每十秒发出curl请求</span>
    <span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">60</span><span class="token punctuation">;</span>i<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token operator">+</span>step<span class="token punctuation">))</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">do</span>
        <span class="token function">curl</span> xxxxx
        <span class="token function">sleep</span> <span class="token variable">$step</span>
    <span class="token keyword">done</span><span class="token punctuation">;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>查看定时任务调度日志：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">tail</span> <span class="token parameter variable">-f</span> /var/log/cron
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在正式部署计划任务前，我们了解一下使用crond服务设置任务的参数格式（ 需要注意的是，如果有些字段没有设置，则需要使用星号（*）占位 ）：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>minute   hour   day   month   week   <span class="token builtin class-name">command</span>     
  分		  时 	  日 	  月 	   周 	   命令
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用crond设置任务的参数字段说明：</p> <table><thead><tr><th>minute</th> <th>表示分钟，是从0到59之间的任何整数</th></tr></thead> <tbody><tr><td>hour</td> <td>表示小时，是从0到23之间的任何整数</td></tr> <tr><td>day</td> <td>表示日期，是从1到31之间的任何整数</td></tr> <tr><td>month</td> <td>表示月份，是从1到12之间的任何整数</td></tr> <tr><td>week</td> <td>表示星期，是从0到7之间的任何整数，其中0或7代表星期日</td></tr> <tr><td>command</td> <td>要执行的命令，可以是系统命令，也可以是自己编写的脚本文件</td></tr></tbody></table> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1613999142300-7105a2c2-7616-4193-8ccb-d8b499517bd7.png" alt="img"></p> <p>crontab在线生成网站：https://www.matools.com/crontab</p> <p><strong>下面举一个例子熟悉一下：</strong></p> <p>**案例1：**每隔一分钟，就将当前的日期信息，追加到 /tmp/mydate 文件中。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># crontab -e</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># crontab -l</span>
*/1 * * * * date<span class="token operator">&gt;&gt;</span>/tmp/mydate
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cat /tmp/mydate </span>
<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">19</span>:55:01 CST
<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">19</span>:56:01 CST
<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">19</span>:57:01 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>**案例2：**每隔一分钟，将当前日期和日历都追加到 /home/mycal 文件中</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># vim /home/my.sh</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cat /home/my.sh</span>
date<span class="token operator">&gt;&gt;</span>/home/mycal
cal<span class="token operator">&gt;&gt;</span>/home/mycal
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chmod u+x /home/my.sh</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># crontab -e</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># crontab -l</span>
*/1 * * * * /home/my.sh
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cat /home/mycal</span>
<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">20</span>:05:01 CST
      二月 <span class="token number">2021</span>     
日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>
<span class="token number">28</span>

<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">20</span>:06:01 CST
      二月 <span class="token number">2021</span>     
日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>
<span class="token number">28</span>

<span class="token number">2021</span>年 02月 <span class="token number">22</span>日 星期一 <span class="token number">20</span>:07:01 CST
      二月 <span class="token number">2021</span>     
日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>
<span class="token number">28</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>**案例3：**每天凌晨2:00将mysql数据库testdb，备份到文件中。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># crontab -e</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># 0 2 * * * mysqldump -u root -p root testdb&gt;/home/db.bak</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_20-2-at命令-一次性定时计划任务"><a href="#_20-2-at命令-一次性定时计划任务" class="header-anchor">#</a> 20.2 at命令 – 一次性定时计划任务</h2> <p><strong>at简介：</strong></p> <ul><li>at命令是一次性定时计划任务，at 的守护进程 atd 会以后台模式检查作业队列来运行。</li> <li>默认情况下，atd 守护进程每60秒检查作业队列。有作业时，会检查作业运行时间。如果时间与当前时间匹配，则运行此作业。如果时间已过，则它会在第二天的同一时间执行。</li> <li>at命令是一次性定时计划任务，执行完一个任务后就不会再执行此任务了。</li> <li>在使用at命令的时候，一定要保证 atd 进程已启动，可以使用 <strong>ps -ef | grep atd</strong> 命令来查看 atd 是否在运行。</li></ul> <p><strong>at的时间定义：</strong></p> <ul><li>使用 hh:mm（小时:分钟）格式对当天的的时间指定。假如该时间已过去，那么就放在第二天执行。比如04:00</li> <li>使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午4点）等比较模糊的词语来指定时间。</li> <li>使用12小时计时制，即在时间后面加上AM（上午）或PM（下午）来说明是上午还是下午。比如12pm</li> <li>指定命令执行的具体日期，指定格式为 month day（月 日）或 mm/dd/yy（月/日/年）或dd.mm.yy（日.月.年）。指定的日期必须跟在指定时间的后面。比如04:00 2021-03-11</li> <li>对于安排不久就要执行的命令，可以使用相对计时法。。指定格式为：now + count time-units，now就是当前时间，time-units 是时间单位，这里能够是 minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count是时间的数量，究竟是几天，还是几小时等等。比如 now + 5 minutes</li> <li>直接使用 today（今天）、tomorrow（明天）来指定完成命令的时间。</li></ul> <p>**语法格式：**at [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>atq</th> <th>查看系统中的等待作业</th></tr></thead> <tbody><tr><td>-d</td> <td>删除系统中的等待作业(等效于atrm命令)</td></tr> <tr><td>-c</td> <td>打印任务的内容</td></tr> <tr><td>-q</td> <td>使用指定的列队</td></tr> <tr><td>-f</td> <td>将指定文件提交等待作业</td></tr> <tr><td>-t</td> <td>以时间的形式提交运行作业</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看系统中的等待作业：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># atq</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用”at -d”或者”atrm”(二者同效)指定id来删除系统中的等待作业，id为”atq”命令输出的第一行顺序数字：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># at -d 1</span>
<span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># atrm 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>假设存在 bithachi.sh 脚本，立即运行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># at -f bithachi.sh now</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在25分钟之后运行 bithachi.sh 脚本：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># at -f bithachi.sh now+25 min</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在10:11运行 bithachi.sh 脚本：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment">#  at -f bithachi.sh 10:11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在2019年7月27日运行 bithachi.sh 脚本：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment">#  at -f bithachi.sh 07/27/2019</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>2天后的下午5点执行 /bin/ls /home</p></li> <li><ul><li>执行 at 5pm + 2 days 命令回车</li> <li>输入 /bin/ls  /home</li> <li>两次键入 Ctrl + D 结束at命令的输入</li></ul></li> <li><p>atq 命令来查看系统中没有执行的定时任务</p></li> <li><ul><li>直接执行 atq 命令查看即可</li></ul></li> <li><p>明天17点钟，输出时间到指定文件 /root/date100.log</p></li> <li><ul><li>执行 at 5pm tomorrow 命令回车</li> <li>输入 date &gt; /root/date100.log</li> <li>两次键入 Ctrl + D 结束 at 命令的输入</li></ul></li> <li><p>2分钟后，输出时间到指定文件 /root/date200.log</p></li> <li><ul><li>执行 at now + 2 minutes 命令回车</li> <li>输入 date &gt; /root/date200.log</li> <li>两次键入 Ctrl + D 结束 at 命令的输入</li></ul></li> <li><p>删除已经设置的定时任务</p></li> <li><ul><li>先使用 atq 命令查看系统中没有执行的定时任务，获取要删除的任务编号</li> <li>执行 atrm 任务编号 命令</li></ul></li></ul> <h1 id="_21-linux-磁盘分区与挂载"><a href="#_21-linux-磁盘分区与挂载" class="header-anchor">#</a> 21. Linux 磁盘分区与挂载</h1> <h2 id="_21-1-linux磁盘分区概念"><a href="#_21-1-linux磁盘分区概念" class="header-anchor">#</a> 21.1 linux磁盘分区概念</h2> <ul><li><strong>在 Linux 中，每一个硬件设备都映射到一个系统的文件，对于硬盘、光驱等 IDE 或 SCSI 设备也不例外。</strong></li> <li>磁盘分区有三种，<a href="http://baike.baidu.com/view/493735.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://baike.baidu.com/item/%E6%89%A9%E5%B1%95%E5%88%86%E5%8C%BA" target="_blank" rel="noopener noreferrer">扩展分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="http://baike.baidu.com/view/143399.htm" target="_blank" rel="noopener noreferrer">逻辑分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li><strong>主分区</strong>可以马上被使用，但不能再分区。<strong>扩展分区</strong>必须分成逻<strong>辑分区</strong>后才能使用。</li> <li>一个<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>至少有1个，最多4个，<strong>扩展分区</strong>可以没有，最多1个。且<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>+<strong>扩展分区</strong>总共不能超过4个。<a href="http://baike.baidu.com/view/143399.htm" target="_blank" rel="noopener noreferrer">逻辑分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以有若干个。</li> <li>在linux下<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="http://baike.baidu.com/view/143399.htm" target="_blank" rel="noopener noreferrer">逻辑分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>都可以用来放系统，引导os开机，grub会兼容windows系统开机启动。</li> <li>分出<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>后，其余的部分可以分成扩展分区，一般是剩下的部分全部分成扩展分区，也可以不全分，那剩的部分就浪费了。</li> <li>的容量=<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的容量+扩展分区的容量。扩展分区的容量=各个<a href="http://baike.baidu.com/view/143399.htm" target="_blank" rel="noopener noreferrer">逻辑分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的容量之和。</li> <li>也可成为“<a href="http://baike.baidu.com/view/1328673.htm" target="_blank" rel="noopener noreferrer">引导分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>”，会被<a href="http://baike.baidu.com/view/880.htm" target="_blank" rel="noopener noreferrer">操作系统<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和主板认定为这个<a href="http://baike.baidu.com/view/4480.htm" target="_blank" rel="noopener noreferrer">硬盘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的第一个分区。</li> <li>MBR（<a href="http://baike.baidu.com/view/418401.htm" target="_blank" rel="noopener noreferrer">主引导记录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）的<a href="http://baike.baidu.com/view/1412956.htm" target="_blank" rel="noopener noreferrer">分区表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（<a href="http://baike.baidu.com/view/1304004.htm" target="_blank" rel="noopener noreferrer">主分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>表）只能存放4个分区，如果要分更多的分区的话就要一个扩展分区表（<a href="http://baike.baidu.com/view/2000902.htm" target="_blank" rel="noopener noreferrer">EBR<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>），扩展分区表放在一个系统ID为0x05的主分区上，这个主分区就是扩展分区，扩展分区可以分成若干个逻辑分区。</li></ul> <p>一个硬盘中有两个区域：一个是放置该硬盘的信息区，称之为主引导记录(MBR，Main Boot Record)。一个是实际文件数据放置的地方。</p> <p>其中，<strong>MBR</strong>是整个硬盘最重要的区域，一旦MBR物理实体损坏时，则该硬盘就差不多报废了，一般来说，MBR有512个<a href="https://baike.baidu.com/item/%E5%AD%97%E8%8A%82" target="_blank" rel="noopener noreferrer">字节<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，且可以分为两个部分。</p> <p>(1)第一部分有446个字节，用于存放引导代码，即是<a href="https://baike.baidu.com/item/bootloader/8733520" target="_blank" rel="noopener noreferrer">bootloader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。BootLoader是在<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192" target="_blank" rel="noopener noreferrer">操作系统<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>内核运行之前运行。可以初始化硬件设备、建立内存空间映射图，从而将系统的软硬件环境带到一个合适状态，以便为最终调用<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%86%85%E6%A0%B8/297824" target="_blank" rel="noopener noreferrer">操作系统内核<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>准备好正确的环境。</p> <p>(2)第二部分有<strong>64个字节</strong>，用于存放磁盘<a href="https://baike.baidu.com/item/%E5%88%86%E5%8C%BA%E8%A1%A8" target="_blank" rel="noopener noreferrer">分区表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。其中，<strong>每个分区的信息需要用16个字节来记录。因此，一个硬盘最多可以有4个分区</strong>，这4个分区称之为主分区和<a href="https://baike.baidu.com/item/%E6%89%A9%E5%B1%95%E5%88%86%E5%8C%BA" target="_blank" rel="noopener noreferrer">扩展分区<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(extended)。</p> <p><strong>注意：</strong></p> <p>①swap分区叫交换分区，其实是虚拟内存 （真实内存不够时拿SWAP中的空间使用）</p> <p>②根分区/ 和 swap分区是必须分的！根分区/ 是最高一层 保存所有数据，如果不分配空间，东西就没法存。</p> <p>③boot分区是启动分区，如果不分，启动数据会放到/根分区中，一旦根分区被放满，系统就无法启动了，所以把boot分区分出，就算 /分区写满，boot还有空间，就能启动！</p> <h2 id="_21-2-硬件设备和分区名"><a href="#_21-2-硬件设备和分区名" class="header-anchor">#</a> 21.2 硬件设备和分区名</h2> <p>​		<strong>Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘。</strong></p> <p><strong>IDEA盘：</strong></p> <ul><li>对于 IDE 硬盘，驱动器标识符为**“hdx~”**</li> <li>**“hd”**表明分区所在设备的类型，这里是指IDE硬盘</li> <li>**“x”**为盘号（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为辅助从属盘）</li> <li>**“~”**代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始就是逻辑分区</li> <li>比如 hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区，hdb2 表示为第二个 IDE 硬盘上的第二个主分区或扩展分区。</li></ul> <p><strong>SCSI 硬盘:</strong></p> <ul><li>对于 SCSI 硬盘，驱动器标识符为**“sdx~”**</li> <li>SCSI 硬盘是用“sd”来表示分区所在设备的类型，其余则和 IDE 硬盘的表示方法一样。</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614173482250-ae3176f3-f4d3-4fce-a16a-dd9f0d124ee1.png" alt="img"></p> <h2 id="_21-3-lsblk-查看所有设备挂载情况命令"><a href="#_21-3-lsblk-查看所有设备挂载情况命令" class="header-anchor">#</a> 21.3 lsblk - 查看所有设备挂载情况命令</h2> <p><strong>lsblk命令</strong> 用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是它不会列出RAM盘的信息。块设备有硬盘，闪存盘，cd-ROM等等。lsblk命令包含在util-linux-ng包中，现在该包改名为util-linux。这个包带了几个其它工具，如dmesg。要安装lsblk，请在此处下载util-linux包。Fedora用户可以通过命令<code>sudo yum install util-linux-ng</code>来安装该包。</p> <p><strong>参数选项：</strong></p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>-a, --all            显示所有设备。
-b, --bytes          以bytes方式显示设备大小。
-d, --nodeps         不显示 slaves 或 holders。
-D, --discard        print discard capabilities。
-e, --exclude &lt;list&gt; 排除设备 (default: RAM disks)。
-f, --fs             显示文件系统信息。
-h, --help           显示帮助信息。
-i, --ascii          use ascii characters only。
-m, --perms          显示权限信息。
-l, --list           使用列表格式显示。
-n, --noheadings     不显示标题。
-o, --output &lt;list&gt;  输出列。
-P, --pairs          使用key=&quot;value&quot;格式显示。
-r, --raw            使用原始格式显示。
-t, --topology       显示拓扑结构信息。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>案例：</strong></p> <p>lsblk命令默认情况下将以树状列出所有块设备。打开终端，并输入以下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>lsblk

NAME   MAJ:MIN <span class="token function">rm</span>   SIZE RO <span class="token builtin class-name">type</span> mountpoint
sda      <span class="token number">8</span>:0    <span class="token number">0</span> <span class="token number">232</span>.9G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  <span class="token number">46</span>.6G  <span class="token number">0</span> part /
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>     1K  <span class="token number">0</span> part 
├─sda5   <span class="token number">8</span>:5    <span class="token number">0</span>   190M  <span class="token number">0</span> part /boot
├─sda6   <span class="token number">8</span>:6    <span class="token number">0</span>   <span class="token number">3</span>.7G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
├─sda7   <span class="token number">8</span>:7    <span class="token number">0</span>  <span class="token number">93</span>.1G  <span class="token number">0</span> part /data
└─sda8   <span class="token number">8</span>:8    <span class="token number">0</span>  <span class="token number">89</span>.2G  <span class="token number">0</span> part /personal
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  1024M  <span class="token number">0</span> rom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>7个栏目名称如下：</strong></p> <ol><li><strong>NAME</strong> ：这是块设备名。</li> <li><strong>MAJ:MIN</strong> ：本栏显示主要和次要设备号。</li> <li><strong>RM</strong> ：本栏显示设备是否可移动设备。注意，在本例中设备sr0的RM值等于1，这说明他是可移动设备。</li> <li><strong>SIZE</strong> ：本栏列出设备的容量大小信息。例如298.1G表明该设备大小为298.1GB，而1K表明该设备大小为1KB。</li> <li><strong>RO</strong> ：该项表明设备是否为只读。在本案例中，所有设备的<strong>RO值为0，表明他们不是只读的。</strong></li> <li><strong>TYPE</strong> ：本栏显示块设备是否是磁盘或磁盘上的一个分区。在本例中，sda是磁盘，而sr0是只读存储（rom）。</li> <li><strong>MOUNTPOINT</strong> ：本栏指出设备挂载的挂载点。</li></ol> <p>默认选项不会列出所有空设备。要查看这些空设备，请使用以下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -a</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>lsblk命令也可以用于列出一个特定设备的拥有关系，同时也可以列出组和模式。可以通过以下命令来获取这些信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -m</span>
NAME    SIZE OWNER GROUP MODE
sda      20G root  disk  brw-rw----
├─sda1    1G root  disk  brw-rw----
├─sda2   17G root  disk  brw-rw----
└─sda3    2G root  disk  brw-rw----
sdb       1G root  disk  brw-rw----
sr0    1024M root  cdrom brw-rw----
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>该命令也可以只获取指定设备的信息。这可以通过在提供给lsblk命令的选项后指定设备名来实现。例如，你可能对了解以字节显示你的磁盘驱动器大小比较感兴趣，那么你可以通过运行以下命令来实现：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -b /dev/sda</span>
NAME   MAJ:MIN RM        SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span> <span class="token number">21474836480</span>  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  <span class="token number">1073741824</span>  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span> <span class="token number">18249416704</span>  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>  <span class="token number">2147483648</span>  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk --bytes</span>
NAME   MAJ:MIN RM        SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span> <span class="token number">21474836480</span>  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  <span class="token number">1073741824</span>  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span> <span class="token number">18249416704</span>  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>  <span class="token number">2147483648</span>  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>  <span class="token number">1073741824</span>  <span class="token number">0</span> disk 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">1073741312</span>  <span class="token number">0</span> rom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>你也可以组合几个选项来获取指定的输出。例如，你也许想要以列表格式列出设备，而不是默认的树状格式。你可能也对移除不同栏目名称的标题感兴趣。可以将两个不同的选项组合，以获得期望的输出，命令如下：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -nl</span>
sda    <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb    <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sr0   <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>要获取SCSI设备的列表，你只能使用-S选项。该选项是大写字母S，不能和-s选项混淆，该选项是用来以颠倒的顺序打印依赖的。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -S</span>
NAME HCTL       TYPE VENDOR   MODEL             REV TRAN
sda  <span class="token number">0</span>:0:0:0    disk VMware,  VMware Virtual S <span class="token number">1.0</span>  spi
sdb  <span class="token number">0</span>:0:1:0    disk VMware,  VMware Virtual S <span class="token number">1.0</span>  spi
sr0  <span class="token number">4</span>:0:0:0    rom  NECVMWar VMware SATA CD01 <span class="token number">1.00</span> sata
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>lsblk列出SCSI设备，而-s是逆序选项（将设备和分区的组织关系逆转过来显示），其将给出如下输出。输入命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -s</span>
NAME  MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda1    <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
└─sda   <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
sda2    <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda   <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
sda3    <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda   <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
sdb     <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sr0    <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>查看各分区的文件系统：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
sr0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_21-4-磁盘分区并挂载案例"><a href="#_21-4-磁盘分区并挂载案例" class="header-anchor">#</a> 21.4 磁盘分区并挂载案例</h2> <h3 id="_1-添加一块虚拟硬盘"><a href="#_1-添加一块虚拟硬盘" class="header-anchor">#</a> （1）添加一块虚拟硬盘</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614173482717-fbebfb25-dd4e-4efa-9703-79e070779a50.png" alt="img"></p> <h3 id="_2-将硬盘进行分区-fdisk"><a href="#_2-将硬盘进行分区-fdisk" class="header-anchor">#</a> （2）将硬盘进行分区 - fdisk</h3> <p>下面是将我们的sdb硬盘进行分区，分为3个主分区(sdb1+sdb2+sdb3)，1个扩展分区sdb4(3个逻辑分区：sdb5+sdb6+sdb7)。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>
欢迎使用 <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.23</span>.2<span class="token punctuation">)</span>。

更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。


命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：m
命令操作
   a   toggle a bootable flag <span class="token comment"># 切换可引导标志</span>
   b   edit bsd disklabel <span class="token comment"># 编辑bsd磁盘标签</span>
   c   toggle the dos compatibility flag <span class="token comment"># # 切换dos兼容性标志</span>
   d   delete a partition <span class="token comment"># 删除分区</span>
   g   create a new empty GPT partition table <span class="token comment"># 创建一个新的空GPT分区表</span>
   G   create an IRIX <span class="token punctuation">(</span>SGI<span class="token punctuation">)</span> partition table <span class="token comment"># 创建IRIX（SGI）分区表</span>
   l   list known partition types <span class="token comment"># 列出已知分区类型</span>
   m   print this menu <span class="token comment"># 打印此菜单</span>
   n   <span class="token function">add</span> a new partition <span class="token comment"># 添加新分区</span>
   o   create a new empty DOS partition table <span class="token comment"># 创建一个新的空DOS分区表</span>
   p   print the partition table <span class="token comment"># 打印分区表</span>
   q   quit without saving changes <span class="token comment"># 退出而不保存更改</span>
   s   create a new empty Sun disklabel <span class="token comment"># 创建新的空Sun disklabel</span>
   t   change a partition's system <span class="token function">id</span> <span class="token comment"># 更改分区的系统id</span>
   u   change display/entry <span class="token function">units</span> <span class="token comment"># 更改显示/输入单位</span>
   <span class="token function">v</span>   verify the partition table <span class="token comment"># 验证分区表</span>
   w   <span class="token function">write</span> table to disk and <span class="token builtin class-name">exit</span> <span class="token comment"># 将表写入磁盘并退出</span>
   x   extra functionality <span class="token punctuation">(</span>experts only<span class="token punctuation">)</span> <span class="token comment"># 额外功能（仅限专家)</span>

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：1
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-2097151，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">2048</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：+100M
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">100</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">1</span> primary, <span class="token number">0</span> extended, <span class="token number">3</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">2</span>-4，默认 <span class="token number">2</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">206848</span>-2097151，默认为 <span class="token number">206848</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">206848</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">206848</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：+100M
分区 <span class="token number">2</span> 已设置为 Linux 类型，大小设为 <span class="token number">100</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">2</span> primary, <span class="token number">0</span> extended, <span class="token number">2</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">3,4</span>，默认 <span class="token number">3</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">411648</span>-2097151，默认为 <span class="token number">411648</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">411648</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">411648</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：+100M
分区 <span class="token number">3</span> 已设置为 Linux 类型，大小设为 <span class="token number">100</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>      <span class="token number">206847</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb2          <span class="token number">206848</span>      <span class="token number">411647</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb3          <span class="token number">411648</span>      <span class="token number">616447</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">3</span> primary, <span class="token number">0</span> extended, <span class="token number">1</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default e<span class="token punctuation">)</span>: e
已选择分区 <span class="token number">4</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">616448</span>-2097151，默认为 <span class="token number">616448</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">616448</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">616448</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">2097151</span>
分区 <span class="token number">4</span> 已设置为 Extended 类型，大小设为 <span class="token number">723</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>      <span class="token number">206847</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb2          <span class="token number">206848</span>      <span class="token number">411647</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb3          <span class="token number">411648</span>      <span class="token number">616447</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb4          <span class="token number">616448</span>     <span class="token number">2097151</span>      <span class="token number">740352</span>    <span class="token number">5</span>  Extended

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
All primary partitions are <span class="token keyword">in</span> use
添加逻辑分区 <span class="token number">5</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">618496</span>-2097151，默认为 <span class="token number">618496</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">618496</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">618496</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：+100M
分区 <span class="token number">5</span> 已设置为 Linux 类型，大小设为 <span class="token number">100</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>      <span class="token number">206847</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb2          <span class="token number">206848</span>      <span class="token number">411647</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb3          <span class="token number">411648</span>      <span class="token number">616447</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb4          <span class="token number">616448</span>     <span class="token number">2097151</span>      <span class="token number">740352</span>    <span class="token number">5</span>  Extended
/dev/sdb5          <span class="token number">618496</span>      <span class="token number">823295</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
All primary partitions are <span class="token keyword">in</span> use
添加逻辑分区 <span class="token number">6</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">825344</span>-2097151，默认为 <span class="token number">825344</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">825344</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">825344</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：+100M
分区 <span class="token number">6</span> 已设置为 Linux 类型，大小设为 <span class="token number">100</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
All primary partitions are <span class="token keyword">in</span> use
添加逻辑分区 <span class="token number">7</span>
起始 扇区 <span class="token punctuation">(</span><span class="token number">1032192</span>-2097151，默认为 <span class="token number">1032192</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">1032192</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">1032192</span>-2097151，默认为 <span class="token number">2097151</span><span class="token punctuation">)</span>：  
将使用默认值 <span class="token number">2097151</span>
分区 <span class="token number">7</span> 已设置为 Linux 类型，大小设为 <span class="token number">520</span> MiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>      <span class="token number">206847</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb2          <span class="token number">206848</span>      <span class="token number">411647</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb3          <span class="token number">411648</span>      <span class="token number">616447</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb4          <span class="token number">616448</span>     <span class="token number">2097151</span>      <span class="token number">740352</span>    <span class="token number">5</span>  Extended
/dev/sdb5          <span class="token number">618496</span>      <span class="token number">823295</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb6          <span class="token number">825344</span>     <span class="token number">1030143</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb7         <span class="token number">1032192</span>     <span class="token number">2097151</span>      <span class="token number">532480</span>   <span class="token number">83</span>  Linux

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：w
The partition table has been altered<span class="token operator">!</span>

Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table.
正在同步磁盘。
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
├─sdb1   <span class="token number">8</span>:17   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb2   <span class="token number">8</span>:18   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb3   <span class="token number">8</span>:19   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb4   <span class="token number">8</span>:20   <span class="token number">0</span>    1K  <span class="token number">0</span> part 
├─sdb5   <span class="token number">8</span>:21   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb6   <span class="token number">8</span>:22   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
└─sdb7   <span class="token number">8</span>:23   <span class="token number">0</span>  520M  <span class="token number">0</span> part 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom 
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         30871c78-94dd-4301-ace3-121cf7fd339c 
├─sdb2 ext4         25c0e136-322c-49cc-b1d8-79867a822e64 
├─sdb3 ext4         431a943f-5ca0-45c8-b7c6-0e03a6461348 
├─sdb4                                                   
├─sdb5                                                   
├─sdb6                                                   
└─sdb7                                                   
sr0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br></div></div><h3 id="_3-将分区进行格式化-初始化文件系统-mkfs"><a href="#_3-将分区进行格式化-初始化文件系统-mkfs" class="header-anchor">#</a> （3）将分区进行格式化(初始化文件系统) - mkfs</h3> <p>将分区进行格式化，都初始化为ext4文件系统。</p> <p>sdb4扩展分区无法进行文件系统格式化，因为Linux扩展分区格式化无意义，扩展分区容量=n个逻辑分区容量。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         30871c78-94dd-4301-ace3-121cf7fd339c 
├─sdb2 ext4         25c0e136-322c-49cc-b1d8-79867a822e64 
├─sdb3 ext4         431a943f-5ca0-45c8-b7c6-0e03a6461348 
├─sdb4                                                   
├─sdb5                                                   
├─sdb6                                                   
└─sdb7                                                   
sr0  
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb1</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">25688</span> inodes, <span class="token number">102400</span> blocks
<span class="token number">5120</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">1</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">33685504</span>
<span class="token number">13</span> block <span class="token function">groups</span>
<span class="token number">8192</span> blocks per group, <span class="token number">8192</span> fragments per group
<span class="token number">1976</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">8193</span>, <span class="token number">24577</span>, <span class="token number">40961</span>, <span class="token number">57345</span>, <span class="token number">73729</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成 

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb2</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">25688</span> inodes, <span class="token number">102400</span> blocks
<span class="token number">5120</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">1</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">33685504</span>
<span class="token number">13</span> block <span class="token function">groups</span>
<span class="token number">8192</span> blocks per group, <span class="token number">8192</span> fragments per group
<span class="token number">1976</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">8193</span>, <span class="token number">24577</span>, <span class="token number">40961</span>, <span class="token number">57345</span>, <span class="token number">73729</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成 

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb3</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">25688</span> inodes, <span class="token number">102400</span> blocks
<span class="token number">5120</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">1</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">33685504</span>
<span class="token number">13</span> block <span class="token function">groups</span>
<span class="token number">8192</span> blocks per group, <span class="token number">8192</span> fragments per group
<span class="token number">1976</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">8193</span>, <span class="token number">24577</span>, <span class="token number">40961</span>, <span class="token number">57345</span>, <span class="token number">73729</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成 

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb4 </span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
mkfs.ext4: inode_size <span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span> * inodes_count <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> too big <span class="token keyword">for</span> a
	filesystem with <span class="token number">0</span> blocks, specify higher inode_ratio <span class="token punctuation">(</span>-i<span class="token punctuation">)</span>
	or lower inode count <span class="token punctuation">(</span>-N<span class="token punctuation">)</span>.

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb5</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">25688</span> inodes, <span class="token number">102400</span> blocks
<span class="token number">5120</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">1</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">33685504</span>
<span class="token number">13</span> block <span class="token function">groups</span>
<span class="token number">8192</span> blocks per group, <span class="token number">8192</span> fragments per group
<span class="token number">1976</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">8193</span>, <span class="token number">24577</span>, <span class="token number">40961</span>, <span class="token number">57345</span>, <span class="token number">73729</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成 

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb6</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">25688</span> inodes, <span class="token number">102400</span> blocks
<span class="token number">5120</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">1</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">33685504</span>
<span class="token number">13</span> block <span class="token function">groups</span>
<span class="token number">8192</span> blocks per group, <span class="token number">8192</span> fragments per group
<span class="token number">1976</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">8193</span>, <span class="token number">24577</span>, <span class="token number">40961</span>, <span class="token number">57345</span>, <span class="token number">73729</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成 

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/sdb7</span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">4096</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">4096</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">33280</span> inodes, <span class="token number">133120</span> blocks
<span class="token number">6656</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">0</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">136314880</span>
<span class="token number">5</span> block <span class="token function">groups</span>
<span class="token number">32768</span> blocks per group, <span class="token number">32768</span> fragments per group
<span class="token number">6656</span> inodes per group
Superblock backups stored on blocks: 
	<span class="token number">32768</span>, <span class="token number">98304</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">4096</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成

<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
├─sdb1   <span class="token number">8</span>:17   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb2   <span class="token number">8</span>:18   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb3   <span class="token number">8</span>:19   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb4   <span class="token number">8</span>:20   <span class="token number">0</span>    1K  <span class="token number">0</span> part 
├─sdb5   <span class="token number">8</span>:21   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb6   <span class="token number">8</span>:22   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
└─sdb7   <span class="token number">8</span>:23   <span class="token number">0</span>  520M  <span class="token number">0</span> part 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de 
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f 
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br></div></div><h3 id="_4-将格式化后的分区进行挂载-mount"><a href="#_4-将格式化后的分区进行挂载-mount" class="header-anchor">#</a> （4）将格式化后的分区进行挂载 - mount</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>   17G  <span class="token number">0</span> part /
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb      <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
├─sdb1   <span class="token number">8</span>:17   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb2   <span class="token number">8</span>:18   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb3   <span class="token number">8</span>:19   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb4   <span class="token number">8</span>:20   <span class="token number">0</span>    1K  <span class="token number">0</span> part 
├─sdb5   <span class="token number">8</span>:21   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
├─sdb6   <span class="token number">8</span>:22   <span class="token number">0</span>  100M  <span class="token number">0</span> part 
└─sdb7   <span class="token number">8</span>:23   <span class="token number">0</span>  520M  <span class="token number">0</span> part 
sr0     <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de 
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f 
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0                                                      
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cd /</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># mkdir testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">72</span>
lrwxrwxrwx.   <span class="token number">1</span> root root     <span class="token number">7</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 bin -<span class="token operator">&gt;</span> usr/bin
dr-xr-xr-x.   <span class="token number">6</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">20</span> <span class="token number">18</span>:29 boot
drwxr-xr-x.  <span class="token number">19</span> root root  <span class="token number">3460</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">20</span>:16 dev
drwxr-xr-x. <span class="token number">144</span> root root <span class="token number">12288</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">16</span>:38 etc
drwxr-xr-x.   <span class="token number">9</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">22</span> <span class="token number">20</span>:04 home
lrwxrwxrwx.   <span class="token number">1</span> root root     <span class="token number">7</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 lib -<span class="token operator">&gt;</span> usr/lib
lrwxrwxrwx.   <span class="token number">1</span> root root     <span class="token number">9</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 lib64 -<span class="token operator">&gt;</span> usr/lib64
drwx------.   <span class="token number">2</span> root root <span class="token number">16384</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:33 lost+found
drwxr-xr-x.   <span class="token number">2</span> root root  <span class="token number">4096</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">2018</span> media
drwxr-xr-x.   <span class="token number">3</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">19</span>:27 mnt
drwxr-xr-x.   <span class="token number">4</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">19</span>:25 opt
dr-xr-xr-x. <span class="token number">261</span> root root     <span class="token number">0</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">14</span>:55 proc
dr-xr-x---.  <span class="token number">16</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">14</span>:57 root
drwxr-xr-x.  <span class="token number">42</span> root root  <span class="token number">1280</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">16</span>:38 run
lrwxrwxrwx.   <span class="token number">1</span> root root     <span class="token number">8</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 sbin -<span class="token operator">&gt;</span> usr/sbin
drwxr-xr-x.   <span class="token number">2</span> root root  <span class="token number">4096</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">2018</span> srv
dr-xr-xr-x.  <span class="token number">13</span> root root     <span class="token number">0</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">14</span>:55 sys
drwxr-xr-x.   <span class="token number">2</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">20</span>:27 testmount
drwxrwxrwt.  <span class="token number">32</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">24</span> <span class="token number">20</span>:21 tmp
drwxr-xr-x.  <span class="token number">13</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 usr
drwxr-xr-x.  <span class="token number">21</span> root root  <span class="token number">4096</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:45 var
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb1 /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb2 /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb3 /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de /testmount
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 /testmount
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f /testmount
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><h3 id="_5-将已经挂载的分区进行卸载-umount"><a href="#_5-将已经挂载的分区进行卸载-umount" class="header-anchor">#</a> （5）将已经挂载的分区进行卸载 - umount</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de /testmount
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 /testmount
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f /testmount
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0   
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># umount /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de /testmount
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 /testmount
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f 
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0                                                      
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># umount /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de /testmount
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f 
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0                                                      
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># umount /testmount</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE LABEL UUID                                 MOUNTPOINT
sda                                                      
├─sda1 ext4         bfa51edb-412e-4562-befc-75f34009c241 /boot
├─sda2 ext4         14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /
└─sda3 swap         e66e4b02-c996-43dd-a188-e8a48c73e981 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb                                                      
├─sdb1 ext4         47df5203-0f1b-4055-aa14-3f40cea273de 
├─sdb2 ext4         21234ab4-2337-4679-b443-51a16752da47 
├─sdb3 ext4         600dabfe-a64c-4ea2-9396-06438ee58d0f 
├─sdb4                                                   
├─sdb5 ext4         c2ccf3d1-1577-4dad-878f-07b208f28faf 
├─sdb6 ext4         20608e8d-0d67-47c9-9384-708e87d5e314 
└─sdb7 ext4         2f2a9484-be3c-4a4e-b976-f7ad30d375de 
sr0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h3 id="_6-命令挂载的临时性-etc-fstab文件设置永久挂载"><a href="#_6-命令挂载的临时性-etc-fstab文件设置永久挂载" class="header-anchor">#</a> （6）命令挂载的临时性，/etc/fstab文件设置永久挂载</h3> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>磁盘被手动挂载之后都必须把挂载信息写入/etc/fstab这个文件中，否则下次开机启动时仍然需要重新挂载。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>系统开机时会主动读取/etc/fstab这个文件中的内容，根据文件里面的配置挂载磁盘。这样我们只需要将磁盘的挂载信息写入这个文件中我们就不需要每次开机启动之后手动进行挂载了。</p> <p><strong>/etc/fstab文件写法：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># cat /etc/fstab</span>

<span class="token comment">#</span>
<span class="token comment"># /etc/fstab</span>
<span class="token comment"># Created by anaconda on Fri Feb 19 15:34:01 2021</span>
<span class="token comment">#</span>
<span class="token comment"># Accessible filesystems, by reference, are maintained under '/dev/disk'</span>
<span class="token comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span>
<span class="token comment">#</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /                       ext4    defaults        <span class="token number">1</span> <span class="token number">1</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>bfa51edb-412e-4562-befc-75f34009c241 /boot                   ext4    defaults        <span class="token number">1</span> <span class="token number">2</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>e66e4b02-c996-43dd-a188-e8a48c73e981 swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># cat /etc/fstab</span>

<span class="token comment">#</span>
<span class="token comment"># /etc/fstab</span>
<span class="token comment"># Created by anaconda on Fri Feb 19 15:34:01 2021</span>
<span class="token comment">#</span>
<span class="token comment"># Accessible filesystems, by reference, are maintained under '/dev/disk'</span>
<span class="token comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span>
<span class="token comment">#</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>14e44c1f-9a21-4e34-b70d-0bd729c2a6d7 /                       ext4    defaults        <span class="token number">1</span> <span class="token number">1</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>bfa51edb-412e-4562-befc-75f34009c241 /boot                   ext4    defaults        <span class="token number">1</span> <span class="token number">2</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>e66e4b02-c996-43dd-a188-e8a48c73e981 swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/sdb1                                 /testmount              ext4    defaults        <span class="token number">0</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>关于文件的第5列和第6列说明：</strong></p> <ul><li><strong>第5列：能否被dump备份命令作用</strong>
dump是一个用来作为备份的命令。通常这个参数的值为0或者1</li></ul> <table><thead><tr><th>0</th> <th>代表不要做dump备份</th></tr></thead> <tbody><tr><td>1</td> <td>代表要每天进行dump的操作</td></tr> <tr><td>2</td> <td>代表不定日期的进行dump操作</td></tr></tbody></table> <ul><li><strong>第6列：是否检验扇区</strong>
开机的过程中，系统默认会以fsck检验我们系统是否为完整（clean）。</li></ul> <table><thead><tr><th>0</th> <th>不要检验</th></tr></thead> <tbody><tr><td>1</td> <td>最早检验（一般根目录会选择）</td></tr> <tr><td>2</td> <td>1级别检验完成之后进行检验</td></tr></tbody></table> <p>下面就上面使用的命令再详细记录一下：</p> <h3 id="_7-fdisk命令-磁盘分区"><a href="#_7-fdisk命令-磁盘分区" class="header-anchor">#</a> （7）fdisk命令 – 磁盘分区</h3> <p>fdisk命令的英文全称是“Partition table manipulator for Linux”，即作为磁盘的分区工具。</p> <p>**语法格式：**fdisk [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-b</th> <th>指定每个分区的大小</th></tr></thead> <tbody><tr><td>-l</td> <td>列出指定的外围设备的分区表状况</td></tr> <tr><td>-s</td> <td>将指定的分区大小输出到标准输出上，单位为区块</td></tr> <tr><td>-u</td> <td>搭配”-l”参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址</td></tr> <tr><td>-v</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看所有分区情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>
磁盘 /dev/sda：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x000c3f1d

   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        <span class="token number">2048</span>     <span class="token number">2099199</span>     <span class="token number">1048576</span>   <span class="token number">83</span>  Linux
/dev/sda2         <span class="token number">2099200</span>    <span class="token number">37742591</span>    <span class="token number">17821696</span>   <span class="token number">83</span>  Linux
/dev/sda3        <span class="token number">37742592</span>    <span class="token number">41936895</span>     <span class="token number">2097152</span>   <span class="token number">82</span>  Linux swap / Solaris

磁盘 /dev/sdb：1073 MB, <span class="token number">1073741824</span> 字节，2097152 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xd37f29b3

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>      <span class="token number">206847</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb2          <span class="token number">206848</span>      <span class="token number">411647</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb3          <span class="token number">411648</span>      <span class="token number">616447</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb4          <span class="token number">616448</span>     <span class="token number">2097151</span>      <span class="token number">740352</span>    <span class="token number">5</span>  Extended
/dev/sdb5          <span class="token number">618496</span>      <span class="token number">823295</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb6          <span class="token number">825344</span>     <span class="token number">1030143</span>      <span class="token number">102400</span>   <span class="token number">83</span>  Linux
/dev/sdb7         <span class="token number">1032192</span>     <span class="token number">2097151</span>      <span class="token number">532480</span>   <span class="token number">83</span>  Linux
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>选择磁盘进行分区操作：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在当前磁盘上建立扩展分区：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># fdisk /ext</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>不检查磁盘表面加快分区操作：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># fdisk /actok</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重建主引导记录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># fdisk /cmbr</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-mkfs命令-在特定分区上建立文件系统"><a href="#_8-mkfs命令-在特定分区上建立文件系统" class="header-anchor">#</a> （8）mkfs命令 – 在特定分区上建立文件系统</h3> <p>在磁盘分区上创建ext2、ext3、ext4、ms-dos、vfat文件系统，默认情况下会创建ext2。</p> <p>mkfs用于在设备上构建Linux文件系统，通常是硬盘分区。文件要么是设备名称(例如/dev/hda1，/dev/sdb2)，要么是包含文件系统的常规文件。成功返回0，失败返回1。</p> <p>实际上，mkfs只是Linux下可用的各种文件系统构建器(mkfs.fstype)的前端，在/sbin、/sbin/fs、/sbin/fs.d、/etc/fs、/etc/fs等多个目录中搜索特定于文件系统的生成器(编译时定义了精确的列表，但至少包含/sbin和/sbin/fs)，最后在PATH环境变量中列出的目录中搜索。</p> <p><strong>语法格式：</strong> mkfs [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>device</th> <th>预备检查的硬盘分区，例如：/dev/sda1</th></tr></thead> <tbody><tr><td>-V</td> <td>详细显示模式</td></tr> <tr><td>-t</td> <td>给定档案系统的型式，Linux 的预设值为 ext2</td></tr> <tr><td>-c</td> <td>在制做档案系统前，检查该partition 是否有坏轨</td></tr> <tr><td>-l bad_blocks_file</td> <td>将有坏轨的block资料加到 bad_blocks_file 里面</td></tr> <tr><td>block</td> <td>给定 block 的大小</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>在 /dev/hda5 上建一个 msdos 的档案系统，同时检查是否有坏轨存在，并且将过程详细列出来:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mkfs -V -t msdos -c /dev/hda5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将sda6分区格式化为ext3格式：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mfks -t ext3 /dev/sda6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_9-mount命令-文件系统挂载"><a href="#_9-mount命令-文件系统挂载" class="header-anchor">#</a> （9）mount命令 – 文件系统挂载</h3> <p>mount命令用于加载文件系统到指定的加载点。</p> <p>此命令的最常用于挂载cdrom，使我们可以访问cdrom中的数据，因为你将光盘插入cdrom中，Linux并不会自动挂载，必须使用Linux mount命令来手动完成挂载。</p> <p>**语法格式：**mount [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-t</th> <th>指定挂载类型</th></tr></thead> <tbody><tr><td>-l</td> <td>显示已加载的文件系统列表</td></tr> <tr><td>-h</td> <td>显示帮助信息并退出</td></tr> <tr><td>-V</td> <td>显示程序版本</td></tr> <tr><td>-n</td> <td>加载没有写入文件“/etc/mtab”中的文件系统</td></tr> <tr><td>-r</td> <td>将文件系统加载为只读模式</td></tr> <tr><td>-a</td> <td>加载文件“/etc/fstab”中描述的所有文件系统</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看版本：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mount -V</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>启动所有挂载：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>挂载 /dev/cdrom 到 /mnt：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/cdrom /mnt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>挂载nfs格式文件系统：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mount -t nfs /123 /mnt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>挂载第一块盘的第一个分区到/etc目录 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># mount -t ext4 -o loop,default /dev/sda1 /etc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_10-umount命令-卸载文件系统"><a href="#_10-umount命令-卸载文件系统" class="header-anchor">#</a> （10）umount命令 – 卸载文件系统</h3> <p>umount是“unmount”的缩写，译为“不挂在。所以它的”的作用是卸载已安装的文件系统、目录或文件。</p> <p>使用umount命令可以卸载文件系统。利用设备名或挂载点都能umount文件系统，不过最好还是通过挂载点卸载，一面使用绑定挂在（一个设备，多个挂载点）时产生混乱。</p> <p>**语法格式：**umount [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>卸载/etc/mtab中记录的所有文件系统</th></tr></thead> <tbody><tr><td>-h</td> <td>显示帮助</td></tr> <tr><td>-n</td> <td>卸载时不要将信息存入/etc/mtab文件中</td></tr> <tr><td>-r</td> <td>若无法成功卸载，则尝试以只读的方式重新挂入文件系统</td></tr> <tr><td>-t</td> <td>文件系统类型：仅卸载选项中所指定的文件系统</td></tr> <tr><td>-v</td> <td>执行时显示详细的信息</td></tr> <tr><td>-V</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>通过设备名卸载：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># umount -v  /dev/sda1</span>
/dev/sda1 umounted
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>通过挂载点卸载：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># umount -v /mnt/mymount/</span>
/tem/diskboot.img umounted
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>对系统文件正忙时执行延时卸载：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># umount -v1 /mnt/mymount/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>卸载挂载在/media/E_pan目录下的文件系统：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># umount /media/E_pan</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>卸载文件和目录：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@bithachi ~<span class="token punctuation">]</span><span class="token comment"># umount /home/user/test</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_21-5-df命令-查看系统整体磁盘空间使用情况"><a href="#_21-5-df命令-查看系统整体磁盘空间使用情况" class="header-anchor">#</a> 21.5 df命令 – 查看系统整体磁盘空间使用情况</h2> <p>df命令的英文全称即“Disk Free”，顾名思义功能是用于显示系统上可使用的磁盘空间。默认显示单位为KB，建议使用**“df -h”**的参数组合，根据磁盘容量自动变换合适的单位，更利于阅读。</p> <p>日常普遍用该命令可以查看磁盘被占用了多少空间、还剩多少空间等信息。</p> <p><strong>语法格式：</strong> df [参数] [指定文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示所有系统文件</th></tr></thead> <tbody><tr><td>-B &lt;块大小&gt;</td> <td>指定显示时的块大小</td></tr> <tr><td>-h</td> <td>以容易阅读的方式显示</td></tr> <tr><td>-H</td> <td>以1000字节为换算单位来显示</td></tr> <tr><td>-i</td> <td>显示索引字节信息</td></tr> <tr><td>-k</td> <td>指定块大小为1KB</td></tr> <tr><td>-l</td> <td>只显示本地文件系统</td></tr> <tr><td>-t &lt;文件系统类型&gt;</td> <td>只显示指定类型的文件系统</td></tr> <tr><td>-T</td> <td>输出时显示文件系统类型</td></tr> <tr><td>-- -sync</td> <td>在取得磁盘使用信息前，先执行sync命令</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示磁盘分区使用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># df</span>
文件系统           1K-块      已用      可用 已用% 挂载点
/dev/sda2       <span class="token number">17410832</span>   <span class="token number">5688576</span>  <span class="token number">10814788</span>   <span class="token number">35</span>% /
devtmpfs          <span class="token number">915960</span>         <span class="token number">0</span>    <span class="token number">915960</span>    <span class="token number">0</span>% /dev
tmpfs             <span class="token number">931612</span>         <span class="token number">0</span>    <span class="token number">931612</span>    <span class="token number">0</span>% /dev/shm
tmpfs             <span class="token number">931612</span>     <span class="token number">10716</span>    <span class="token number">920896</span>    <span class="token number">2</span>% /run
tmpfs             <span class="token number">931612</span>         <span class="token number">0</span>    <span class="token number">931612</span>    <span class="token number">0</span>% /sys/fs/cgroup
/dev/sda1         <span class="token number">999320</span>    <span class="token number">146904</span>    <span class="token number">783604</span>   <span class="token number">16</span>% /boot
.host:/        <span class="token number">976760828</span> <span class="token number">647392996</span> <span class="token number">329367832</span>   <span class="token number">67</span>% /mnt/hgfs
tmpfs             <span class="token number">186324</span>         <span class="token number">4</span>    <span class="token number">186320</span>    <span class="token number">1</span>% /run/user/42
tmpfs             <span class="token number">186324</span>        <span class="token number">28</span>    <span class="token number">186296</span>    <span class="token number">1</span>% /run/user/0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>以容易阅读的方式显示磁盘分区使用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
文件系统        容量  已用  可用 已用% 挂载点
/dev/sda2        17G  <span class="token number">5</span>.5G   11G   <span class="token number">35</span>% /
devtmpfs        895M     <span class="token number">0</span>  895M    <span class="token number">0</span>% /dev
tmpfs           910M     <span class="token number">0</span>  910M    <span class="token number">0</span>% /dev/shm
tmpfs           910M   11M  900M    <span class="token number">2</span>% /run
tmpfs           910M     <span class="token number">0</span>  910M    <span class="token number">0</span>% /sys/fs/cgroup
/dev/sda1       976M  144M  766M   <span class="token number">16</span>% /boot
.host:/         932G  618G  315G   <span class="token number">67</span>% /mnt/hgfs
tmpfs           182M  <span class="token number">4</span>.0K  182M    <span class="token number">1</span>% /run/user/42
tmpfs           182M   28K  182M    <span class="token number">1</span>% /run/user/0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>显示指定文件所在分区的磁盘使用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># df /etc/dhcp</span>
文件系统          1K-块    已用     可用 已用% 挂载点
/dev/sda2      <span class="token number">17410832</span> <span class="token number">5688580</span> <span class="token number">10814784</span>   <span class="token number">35</span>% /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>显示文件类型为ext4的磁盘使用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># df -t ext4</span>
文件系统          1K-块    已用     可用 已用% 挂载点
/dev/sda2      <span class="token number">17410832</span> <span class="token number">5688580</span> <span class="token number">10814784</span>   <span class="token number">35</span>% /
/dev/sda1        <span class="token number">999320</span>  <span class="token number">146904</span>   <span class="token number">783604</span>   <span class="token number">16</span>% /boot
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_21-6-du命令-查看某个文件或磁盘的空间使用情况"><a href="#_21-6-du命令-查看某个文件或磁盘的空间使用情况" class="header-anchor">#</a> 21.6 du命令 – 查看某个文件或磁盘的空间使用情况</h2> <p>du命令的英文全称是“Disk Usage”，即用于查看磁盘占用空间的意思。</p> <p><strong>但是与df命令不同的是du命令是对文件和目录磁盘使用的空间的查看，而不是某个分区。</strong></p> <p>**语法格式：**du [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示目录中所有文件大小</th></tr></thead> <tbody><tr><td>-k</td> <td>以KB为单位显示文件大小</td></tr> <tr><td>-m</td> <td>以MB为单位显示文件大小</td></tr> <tr><td>-g</td> <td>以GB为单位显示文件大小</td></tr> <tr><td>-h</td> <td>以易读方式显示文件大小</td></tr> <tr><td>-s</td> <td>仅显示总计</td></tr> <tr><td>-c</td> <td>除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>以易读方式显示文件夹内及子文件夹大小 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># du -hac --max-depth=1 /opt</span>
163M	/opt/vmware-tools-distrib
54M	/opt/VMwareTools-10.3.10-13959562.tar.gz
<span class="token number">4</span>.0K	/opt/rh
216M	/opt
216M	总用量
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>以易读方式显示文件夹内所有文件大小 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># du -ah /opt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>输出当前目录下各个子目录所使用的空间 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># du -hc --max-depth=1 /opt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示指定文件所占空间 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># du log2012.log</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_21-7-wc命令-统计文件的字节数、字数、行数"><a href="#_21-7-wc命令-统计文件的字节数、字数、行数" class="header-anchor">#</a> 21.7 wc命令 – 统计文件的字节数、字数、行数</h2> <p>wc命令统计指定文件中的字节数、字数、行数，并将统计结果显示输出。利用wc指令我们可以计算文件的Byte数、字数或是列数，若不指定文件名称，或是所给予的文件名为“-”，则wc指令会从标准输入设备读取数据。wc同时也给出所指定文件的总统计数。</p> <p>**语法格式：**wc [参数] [文件]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-w</th> <th>统计字数，或--words：只显示字数。一个字被定义为由空白、跳格或换行字符分隔的字符串</th></tr></thead> <tbody><tr><td>-c</td> <td>统计字节数，或--bytes或--chars：只显示Bytes数</td></tr> <tr><td>-l</td> <td>统计行数，或--lines：只显示列数</td></tr> <tr><td>-m</td> <td>统计字符数</td></tr> <tr><td>-L</td> <td>打印最长行的长度</td></tr> <tr><td>--help</td> <td>显示帮助信息</td></tr> <tr><td>--version</td> <td>显示版本信息</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>统计字数：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># cat test.txt </span>
 hello world
 hello world
 hello world
 hello world hello world
 <span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># wc -w test.txt </span>
 <span class="token number">10</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>统计字节数：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># wc -c test.txt </span>
 <span class="token number">60</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>统计字符数：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># wc -m test.txt </span>
 <span class="token number">60</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>统计行数：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># wc -l test.txt </span>
 <span class="token number">4</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>打印最长行的长度：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># wc -L test.txt </span>
 <span class="token number">23</span> test.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_21-8-磁盘情况-工作实用指令"><a href="#_21-8-磁盘情况-工作实用指令" class="header-anchor">#</a> 21.8 磁盘情况 - 工作实用指令</h2> <ul><li><p>统计 /opt 文件夹下文件的个数</p></li> <li><ul><li>ls -l /opt | grep &quot;^-&quot; | wc -l</li></ul></li> <li><p>统计 /opt 文件夹下目录的个数</p></li> <li><ul><li>ls -l /opt | grep &quot;^d&quot; | wc -l</li></ul></li> <li><p>统计 /opt 文件夹下文件的个数，包括子文件夹下的</p></li> <li><ul><li>ls -lR /opt | grep &quot;^-&quot; | wc -l</li></ul></li> <li><p>统计 /opt 文件夹下目录的个数，包括子文件夹下的</p></li> <li><ul><li>ls -lR /opt | grep &quot;^d&quot; | wc -l</li></ul></li> <li><p>以树状显示目录结构</p></li> <li><ul><li>yum install tree</li> <li>tree 指定目录</li></ul></li> <li><p>wc 命令</p></li> <li><ul><li>Linux 系统中的 wc（Word Count）命令的功能为统计指定文件中的字节数、字数、行数，并将统计结果显示输出。</li> <li>wc [选项] [文件]</li></ul></li></ul> <table><thead><tr><th>命令</th> <th>含义</th></tr></thead> <tbody><tr><td>-c</td> <td>统计字节数</td></tr> <tr><td>-l</td> <td>统计行数</td></tr> <tr><td>-m</td> <td>统计字符数，这个选项不能与 -c 一起使用</td></tr> <tr><td>-w</td> <td>统计字数，一个字被定义为由空白、跳格或换行字符分隔的字符串</td></tr> <tr><td>-L</td> <td>统计最长行的长度</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ll /opt</span>
总用量 <span class="token number">55124</span>
drwxr-xr-x. <span class="token number">2</span> root root     <span class="token number">4096</span> <span class="token number">10</span>月 <span class="token number">31</span> <span class="token number">2018</span> rh
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">56431201</span> <span class="token number">6</span>月  <span class="token number">13</span> <span class="token number">2019</span> VMwareTools-10.3.10-13959562.tar.gz
drwxr-xr-x. <span class="token number">9</span> root root     <span class="token number">4096</span> <span class="token number">6</span>月  <span class="token number">13</span> <span class="token number">2019</span> vmware-tools-distrib
<span class="token comment"># 1.统计 /opt 文件夹下文件的个数</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ls -l /opt | grep &quot;^-&quot; | wc -l</span>
<span class="token number">1</span>
<span class="token comment"># 2.统计 /opt 文件夹下目录的个数</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ls -l /opt | grep &quot;^d&quot; | wc -l</span>
<span class="token number">2</span>
<span class="token comment"># 3.统计 /opt 文件夹下文件的个数，包括子文件夹下的</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ls -lR /opt | grep &quot;^-&quot; | wc -l</span>
<span class="token number">1539</span>
<span class="token comment"># 4.统计 /opt 文件夹下目录的个数，包括子文件夹下的</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># ls -lR /opt | grep &quot;^d&quot; | wc -l</span>
<span class="token number">503</span>
<span class="token comment"># tree命令需要安装,安装详细信息省略</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># yum install tree </span>
<span class="token comment"># 5. 以树状显示目录结构</span>
<span class="token punctuation">[</span>root@centos7601 /<span class="token punctuation">]</span><span class="token comment"># tree /opt</span>
/opt
├── rh
├── VMwareTools-10.3.10-13959562.tar.gz
└── vmware-tools-distrib
    ├── bin
    │   ├── vm-support
    │   ├── vmware-config-tools.pl
    │   └── vmware-uninstall-tools.pl
<span class="token comment"># ……太多了，以下省略</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h1 id="_22-lvm逻辑编辑器"><a href="#_22-lvm逻辑编辑器" class="header-anchor">#</a> 22. LVM逻辑编辑器</h1> <h2 id="_22-1-为什么引入lvm逻辑编辑器"><a href="#_22-1-为什么引入lvm逻辑编辑器" class="header-anchor">#</a> 22.1 为什么引入LVM逻辑编辑器？</h2> <p>我们先来看一个问题：如果我们划分了 10G 的一个分区，挂接到 /home 下，可是随着时间的流逝，10G 的空间开始不够用了，需要把它扩充。假设要扩充到 12G，那么就需要建立一个 12G 的新分区，然后将原来的 10G 分区中的数据全部移动到新分区中，再修改挂接配置。这样不仅麻烦而且浪费时间。</p> <p>我们如何解决上述问题呢？<strong>我们可以通过LVM逻辑编辑器实现动态地改变分区的大小。</strong></p> <h2 id="_22-2-lvm简介"><a href="#_22-2-lvm简介" class="header-anchor">#</a> 22.2 LVM简介</h2> <ul><li>LVM（Logical Volume Manager）逻辑卷管理器，最早应用在IBM AIX系统上。</li> <li>它的主要作用是<strong>动态分配磁盘分区及调整磁盘分区大小，并且可以让多个分区或者物理硬盘作为一个逻辑卷（相当于一个逻辑硬盘）来使用</strong>。</li> <li>这种机制可以让磁盘分区容量划分变得很灵活。</li></ul> <p><strong>下面是LVM中卷的核心概念：</strong></p> <ul><li>PV（Physical Volume） 物理卷：物理卷处于LVM的最底层，可以是整个物理磁盘，也可以是硬盘中的分区。</li> <li>PE（Physical Extent） 物理区域：物理区域是物理卷中可用于分配的最小存储单元，物理区域的大小可根据实际情况在建立物理卷时指定。物理区域大小一旦确定将不能更改，同一卷组中的所有物理卷的物理区域大小需要一致。当多个PV组成一个VG时，LVM会在所有PV上做类似格式化的动作，将每个PV切成一块块的空间，这一块块的空间就称为PE, 通常是4MB。</li> <li>VG（Volume Group） 卷组：可以看成单独的逻辑磁盘，建立在PV之上，是PV的组合。一个卷组中至少要包括一个PV，在卷组建立之后可以动态的添加PV到卷组中。</li> <li>LV（Logical Volume） 逻辑卷：相当于物理分区的/dev/hdaX。逻辑卷建立在卷组之上，卷组中的未分配空间可以用于建立新的逻辑卷，逻辑卷建立后可以动态地扩展或缩小空间。系统中的多个逻辑卷可以属于同一个卷组，也可以属于不同的多个卷组。</li> <li>LE（Logical Extent） 逻辑区域：逻辑区域是逻辑卷中可用于分配的最小存储单元，逻辑区域的大小取决于逻辑卷所在卷组中的物理区域大小。LE的大小为PE的倍数（通常为1:1）。</li> <li>VGDA（Volume Group Descriptor Area）卷组描述区域：存在于每个物理卷中，用于描述该物理卷本身、物理卷所属卷组、卷组中的逻辑卷以及逻辑卷中物理区域的分配等所有的信息，卷组描述区域是在使用pvcreate命令建立物理卷时建立的。</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614175552459-a57e82e5-6b1e-4a3f-b1da-efdd4e29bb09.png" alt="img"></p> <h2 id="_22-3-lvm逻辑卷的管理方法"><a href="#_22-3-lvm逻辑卷的管理方法" class="header-anchor">#</a> 22.3 LVM逻辑卷的管理方法</h2> <p><strong>LVM进行逻辑卷的管理时：创建顺序是pv-&gt;vg-&gt;lv。</strong></p> <p>即，首先创建一个物理卷（对应一个物理硬盘分区或者一个物理硬盘），然后把这些分区或者硬盘加入到一个卷组中（相当于一个逻辑上的大硬盘），再在这个大硬盘上划分分区lv（逻辑上的分区，就是逻辑卷），最后，把lv逻辑卷格式化以后，就可以像使用一个传统分区那样，把它挂载到一个挂载点上，需要的时候，这个逻辑卷可以被动态缩放。</p> <p>**注意：**物理卷可以建立在整个物理硬盘上，也可以建立在硬盘分区中，如在整个硬盘上建立物理卷则不要在该硬盘上建立任何分区，如使用硬盘分区建立物理卷则需事先对硬盘进行分区并设置分区为LVM类型，其类型ID为0x8e</p> <h2 id="_22-4-lvm常用命令汇总"><a href="#_22-4-lvm常用命令汇总" class="header-anchor">#</a> 22.4 LVM常用命令汇总</h2> <table><thead><tr><th><strong>任务</strong></th> <th><strong>PV阶段</strong></th> <th><strong>VG阶段</strong></th> <th><strong>LV阶段</strong></th></tr></thead> <tbody><tr><td>查找（scan）</td> <td>pvscan</td> <td>vgscan</td> <td>lvscan</td></tr> <tr><td>新建（create）</td> <td>pvcreate</td> <td>vgcreate</td> <td>lvcreate</td></tr> <tr><td>显示（display）</td> <td>pvdisplay</td> <td>vgdisplay</td> <td>lvdisplay</td></tr> <tr><td>增加（extend）</td> <td></td> <td>vgextend</td> <td>lvextend(lvresize)</td></tr> <tr><td>减少（reduce）</td> <td></td> <td>vgreduce</td> <td>lvreduce(lvresize)</td></tr> <tr><td>删除（remove）</td> <td>pvremove</td> <td>vgremove</td> <td>lvremove</td></tr> <tr><td>改变容量（resize）</td> <td></td> <td></td> <td>lvresize</td></tr> <tr><td>改变属性（attribute）</td> <td>pvchange</td> <td>vgchange</td> <td>lvchange</td></tr></tbody></table> <h2 id="_22-5-lvm的实现案例"><a href="#_22-5-lvm的实现案例" class="header-anchor">#</a> 22.5 LVM的实现案例</h2> <p>1、准备物理磁盘。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

磁盘 /dev/sda：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x0005b35c

   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        <span class="token number">2048</span>      <span class="token number">616447</span>      <span class="token number">307200</span>   <span class="token number">83</span>  Linux
/dev/sda2          <span class="token number">616448</span>    <span class="token number">41943039</span>    <span class="token number">20663296</span>   8e  Linux LVM

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节


磁盘 /dev/sdc：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节


磁盘 /dev/sdd：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节


磁盘 /dev/mapper/cl-root：20.1 GB, <span class="token number">20107493376</span> 字节，39272448 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节


磁盘 /dev/mapper/cl-swap：1048 MB, <span class="token number">1048576000</span> 字节，2048000 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>我们从空的硬盘sdb上创建两个分区sdb1 5G，sdb2 5G为接下来做LVM做准备，注意的是我们在创建分区是需要设定分区的类型Linux LVM的分区类型为<strong>8e</strong>，并且这些分区要被内核识别，通过cat /proc/partions进行查看，若没有显示，则需要让内核重新进行探测</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>
欢迎使用 <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.23</span>.2<span class="token punctuation">)</span>。

更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。

Device does not contain a recognized partition table
使用磁盘标识符 0x4822aff9 创建新的 DOS 磁盘标签。

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：1
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-41943039，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">2048</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-41943039，默认为 <span class="token number">41943039</span><span class="token punctuation">)</span>：+5G
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">5</span> GiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">10487807</span>     <span class="token number">5242880</span>   <span class="token number">83</span>  Linux

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：t
已选择分区 <span class="token number">1</span>
Hex 代码<span class="token punctuation">(</span>输入 L 列出所有代码<span class="token punctuation">)</span>：8e
已将分区“Linux”的类型更改为“Linux LVM”

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">10487807</span>     <span class="token number">5242880</span>   8e  Linux LVM
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">1</span> primary, <span class="token number">0</span> extended, <span class="token number">3</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">2</span>-4，默认 <span class="token number">2</span><span class="token punctuation">)</span>：2
起始 扇区 <span class="token punctuation">(</span><span class="token number">10487808</span>-41943039，默认为 <span class="token number">10487808</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">10487808</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">10487808</span>-41943039，默认为 <span class="token number">41943039</span><span class="token punctuation">)</span>：+5G
分区 <span class="token number">2</span> 已设置为 Linux 类型，大小设为 <span class="token number">5</span> GiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">10487807</span>     <span class="token number">5242880</span>   8e  Linux LVM
/dev/sdb2        <span class="token number">10487808</span>    <span class="token number">20973567</span>     <span class="token number">5242880</span>   <span class="token number">83</span>  Linux

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：t
分区号 <span class="token punctuation">(</span><span class="token number">1,2</span>，默认 <span class="token number">2</span><span class="token punctuation">)</span>：2
Hex 代码<span class="token punctuation">(</span>输入 L 列出所有代码<span class="token punctuation">)</span>：8e
已将分区“Linux”的类型更改为“Linux LVM”

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：p

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">10487807</span>     <span class="token number">5242880</span>   8e  Linux LVM
/dev/sdb2        <span class="token number">10487808</span>    <span class="token number">20973567</span>     <span class="token number">5242880</span>   8e  Linux LVM
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>命令(输入 m 获取帮助)：w</p> <p>The partition table has been altered!</p> <p>Calling ioctl() to re-read partition table.</p> <p>正在同步磁盘。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l /dev/sdb</span>

磁盘 /dev/sdb：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x4822aff9

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">10487807</span>     <span class="token number">5242880</span>   8e  Linux LVM
/dev/sdb2        <span class="token number">10487808</span>    <span class="token number">20973567</span>     <span class="token number">5242880</span>   8e  Linux LVM
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /proc/pa</span>
pagetypeinfo  partitions    
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /proc/partitions </span>
major minor  <span class="token comment">#blocks  name</span>

   <span class="token number">8</span>        <span class="token number">0</span>   <span class="token number">20971520</span> sda
   <span class="token number">8</span>        <span class="token number">1</span>     <span class="token number">307200</span> sda1
   <span class="token number">8</span>        <span class="token number">2</span>   <span class="token number">20663296</span> sda2
   <span class="token number">8</span>       <span class="token number">16</span>   <span class="token number">20971520</span> sdb
   <span class="token number">8</span>       <span class="token number">17</span>    <span class="token number">5242880</span> sdb1
   <span class="token number">8</span>       <span class="token number">18</span>    <span class="token number">5242880</span> sdb2
   <span class="token number">8</span>       <span class="token number">32</span>   <span class="token number">20971520</span> sdc
   <span class="token number">8</span>       <span class="token number">48</span>   <span class="token number">20971520</span> sdd
  <span class="token number">11</span>        <span class="token number">0</span>    <span class="token number">4277248</span> sr0
 <span class="token number">253</span>        <span class="token number">0</span>   <span class="token number">19636224</span> dm-0
 <span class="token number">253</span>        <span class="token number">1</span>    <span class="token number">1024000</span> dm-1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p><strong>创建物理卷</strong></p> <p>将新创建的两个分区/dev/sdb1 /dev/sdb2创建成物理卷：所用的命令为pvcreate /dev/adb{1,2} 当然也可以分开进行设定</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pvcreate /dev/sdb1 /dev/sdb2</span>
  Physical volume <span class="token string">&quot;/dev/sdb1&quot;</span> successfully created.
  Physical volume <span class="token string">&quot;/dev/sdb2&quot;</span> successfully created.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pvs</span>
  PV         VG Fmt  Attr PSize  PFree 
  /dev/sda2  cl lvm2 a--  <span class="token number">19</span>.70g     <span class="token number">0</span> 
  /dev/sdb1     lvm2 ---   <span class="token number">5</span>.00g  <span class="token number">5</span>.00g
  /dev/sdb2     lvm2 ---   <span class="token number">5</span>.00g  <span class="token number">5</span>.00g
  /dev/sdc      lvm2 ---  <span class="token number">20</span>.00g <span class="token number">20</span>.00g
  /dev/sdd      lvm2 ---  <span class="token number">20</span>.00g <span class="token number">20</span>.00g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>通过pvs 和pvdisplay可以查看物理卷的信息，后面也可以指定特定的物理磁盘，查看某一个物理卷的信息</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># pvdisplay </span>
  --- Physical volume ---
  PV Name               /dev/sda2
  VG Name               cl
  PV Size               <span class="token number">19.71</span> GiB / not usable <span class="token number">3.00</span> MiB
  Allocatable           <span class="token function">yes</span> <span class="token punctuation">(</span>but full<span class="token punctuation">)</span>
  PE Size               <span class="token number">4.00</span> MiB
  Total PE              <span class="token number">5044</span>
  Free PE               <span class="token number">0</span>
  Allocated PE          <span class="token number">5044</span>
  PV UUID               uTbh7P-pmtL-KRqx-uAys-fxUA-PdUa-LIpvOX
   
  <span class="token string">&quot;/dev/sdb1&quot;</span> is a new physical volume of <span class="token string">&quot;5.00 GiB&quot;</span>
  --- NEW Physical volume ---
  PV Name               /dev/sdb1
  VG Name               
  PV Size               <span class="token number">5.00</span> GiB
  Allocatable           NO
  PE Size               <span class="token number">0</span>   
  Total PE              <span class="token number">0</span>
  Free PE               <span class="token number">0</span>
  Allocated PE          <span class="token number">0</span>
  PV UUID               UFLcKK-XrDv-1wZi-FYIL-FDSW-Bsn0-Xy1Era
   
  <span class="token string">&quot;/dev/sdc&quot;</span> is a new physical volume of <span class="token string">&quot;20.00 GiB&quot;</span>
  --- NEW Physical volume ---
  PV Name               /dev/sdc
  VG Name               
  PV Size               <span class="token number">20.00</span> GiB
  Allocatable           NO
  PE Size               <span class="token number">0</span>   
  Total PE              <span class="token number">0</span>
  Free PE               <span class="token number">0</span>
  Allocated PE          <span class="token number">0</span>
  PV UUID               gHJF8r-cqBO-EV3L-yxD9-3CaA-K3OR-jcFDtU
   
  <span class="token string">&quot;/dev/sdb2&quot;</span> is a new physical volume of <span class="token string">&quot;5.00 GiB&quot;</span>
  --- NEW Physical volume ---
  PV Name               /dev/sdb2
  VG Name               
  PV Size               <span class="token number">5.00</span> GiB
  Allocatable           NO
  PE Size               <span class="token number">0</span>   
  Total PE              <span class="token number">0</span>
  Free PE               <span class="token number">0</span>
  Allocated PE          <span class="token number">0</span>
  PV UUID               9Y3f1L-3M35-lAHU-27xd-XpvI-ptOT-bRekUW
   
  <span class="token string">&quot;/dev/sdd&quot;</span> is a new physical volume of <span class="token string">&quot;20.00 GiB&quot;</span>
  --- NEW Physical volume ---
  PV Name               /dev/sdd
  VG Name               
  PV Size               <span class="token number">20.00</span> GiB
  Allocatable           NO
  PE Size               <span class="token number">0</span>   
  Total PE              <span class="token number">0</span>
  Free PE               <span class="token number">0</span>
  Allocated PE          <span class="token number">0</span>
  PV UUID               IKH97P-igyp-aaC7-bw2h-tQOF-gjXy-2pc9z0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p><strong>创建卷组</strong></p> <p>物理卷pv创建好之后，才可以创建卷组，创建卷组则用命令vgcreate，并将刚才创建的两个物理卷加入该卷组，其中PE的默认大小为4MB，PE是卷组的最小存储单位，可以通过-s选项指定PE的大小，可以通过vgs或者vgdisplay来查看创建的卷组</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgcreate myvg /dev/sdb1 /dev/sdb2</span>
  Volume group <span class="token string">&quot;myvg&quot;</span> successfully created
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgs</span>
  VG   <span class="token comment">#PV #LV #SN Attr   VSize  VFree</span>
  cl     <span class="token number">1</span>   <span class="token number">2</span>   <span class="token number">0</span> wz--n- <span class="token number">19</span>.70g    <span class="token number">0</span> 
  myvg   <span class="token number">2</span>   <span class="token number">0</span>   <span class="token number">0</span> wz--n-  <span class="token number">9</span>.99g <span class="token number">9</span>.99g
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vgdisplay </span>
  --- Volume group ---
  VG Name               cl
  System ID             
  Format                lvm2
  Metadata Areas        <span class="token number">1</span>
  Metadata Sequence No  <span class="token number">3</span>
  VG Access             read/write
  VG Status             resizable
  MAX LV                <span class="token number">0</span>
  Cur LV                <span class="token number">2</span>
  Open LV               <span class="token number">2</span>
  Max PV                <span class="token number">0</span>
  Cur PV                <span class="token number">1</span>
  Act PV                <span class="token number">1</span>
  VG Size               <span class="token number">19.70</span> GiB
  PE Size               <span class="token number">4.00</span> MiB
  Total PE              <span class="token number">5044</span>
  Alloc PE / Size       <span class="token number">5044</span> / <span class="token number">19.70</span> GiB
  Free  PE / Size       <span class="token number">0</span> / <span class="token number">0</span>   
  VG UUID               AbayDZ-NRTB-EILO-IjLH-kHji-Ixek-LI1Kdx
   
  --- Volume group ---
  VG Name               myvg
  System ID             
  Format                lvm2
  Metadata Areas        <span class="token number">2</span>
  Metadata Sequence No  <span class="token number">1</span>
  VG Access             read/write
  VG Status             resizable
  MAX LV                <span class="token number">0</span>
  Cur LV                <span class="token number">0</span>
  Open LV               <span class="token number">0</span>
  Max PV                <span class="token number">0</span>
  Cur PV                <span class="token number">2</span>
  Act PV                <span class="token number">2</span>
  VG Size               <span class="token number">9.99</span> GiB
  PE Size               <span class="token number">4.00</span> MiB
  Total PE              <span class="token number">2558</span>
  Alloc PE / Size       <span class="token number">0</span> / <span class="token number">0</span>   
  Free  PE / Size       <span class="token number">2558</span> / <span class="token number">9.99</span> GiB
  VG UUID               bRctGj-xKXV-C2pw-hzqk-KSyI-h5mR-BATF9A
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p><strong>创建逻辑卷</strong></p> <p>卷组VG创建好之后，才可以创建逻辑卷LV，逻辑卷的创建命令为lvcreate，创建好之后可以通过lvs或者lvdisplay开查看创建的逻辑卷，需要说明的是在创建lv的时候需要指定其大小，选项为-L，逻辑卷的名字选项-n，也可以指定PE的个数选项-l</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvcreate -L 5G -n textlv myvg</span>
  Logical volume <span class="token string">&quot;textlv&quot;</span> created.
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvs</span>
  LV     VG   Attr       LSize    Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root   cl   -wi-ao----   <span class="token number">18</span>.73g                                                    
  swap   cl   -wi-ao---- <span class="token number">1000</span>.00m                                                    
  textlv myvg -wi-a-----    <span class="token number">5</span>.00g                                                    
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lvdisplay </span>
  --- Logical volume ---
  LV Path                /dev/cl/swap
  LV Name                swap
  VG Name                cl
  LV UUID                Y06H4S-vcF7-GIAf-AV1U-0TlK-yR39-FiR7bD
  LV Write Access        read/write
  LV Creation host, <span class="token function">time</span> localhost.localdomain, <span class="token number">2019</span>-12-08 <span class="token number">20</span>:41:35 +0800
  LV Status              available
  <span class="token comment"># open                 2</span>
  LV Size                <span class="token number">1000.00</span> MiB
  Current LE             <span class="token number">250</span>
  Segments               <span class="token number">1</span>
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="token builtin class-name">set</span> to     <span class="token number">8192</span>
  Block device           <span class="token number">253</span>:1
   
  --- Logical volume ---
  LV Path                /dev/cl/root
  LV Name                root
  VG Name                cl
  LV UUID                L9AAAm-gjjC-dF5S-fOyd-XOTG-fxBC-CI0j2Y
  LV Write Access        read/write
  LV Creation host, <span class="token function">time</span> localhost.localdomain, <span class="token number">2019</span>-12-08 <span class="token number">20</span>:41:36 +0800
  LV Status              available
  <span class="token comment"># open                 1</span>
  LV Size                <span class="token number">18.73</span> GiB
  Current LE             <span class="token number">4794</span>
  Segments               <span class="token number">1</span>
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="token builtin class-name">set</span> to     <span class="token number">8192</span>
  Block device           <span class="token number">253</span>:0
   
  --- Logical volume ---
  LV Path                /dev/myvg/textlv
  LV Name                textlv
  VG Name                myvg
  LV UUID                LhE6yQ-t3cn-BmwW-css0-dvua-CvCO-pSf2pe
  LV Write Access        read/write
  LV Creation host, <span class="token function">time</span> localhost.localdomain, <span class="token number">2019</span>-12-26 <span class="token number">21</span>:41:01 +0800
  LV Status              available
  <span class="token comment"># open                 0</span>
  LV Size                <span class="token number">5.00</span> GiB
  Current LE             <span class="token number">1280</span>
  Segments               <span class="token number">2</span>
  Allocation             inherit
  Read ahead sectors     auto
  - currently <span class="token builtin class-name">set</span> to     <span class="token number">8192</span>
  Block device           <span class="token number">253</span>:2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p><strong>创建文件系统</strong></p> <p>逻辑卷textlv创建好之后，就可以在上面创建文件系统，以ext3文件系统为例，应该注意的是逻辑卷的引用需要逻辑卷的设备文件，逻辑卷的设备文件有两种书写方式</p> <p>/dev/VG_NAME/LV_NAME</p> <p>/dev/mapper/VG_NAME-LV_NAME</p> <p>以我们做的为例逻辑卷的设备文件为</p> <p>/dev/myvg/textlv或者是/dev/mapper/myvg-textlv</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t ext4 /dev/myvg/textlv </span>
<span class="token function">mke2fs</span> <span class="token number">1.42</span>.9 <span class="token punctuation">(</span><span class="token number">28</span>-Dec-2013<span class="token punctuation">)</span>
文件系统标签<span class="token operator">=</span>
OS type: Linux
块大小<span class="token operator">=</span><span class="token number">4096</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
分块大小<span class="token operator">=</span><span class="token number">4096</span> <span class="token punctuation">(</span>log<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token assign-left variable">Stride</span><span class="token operator">=</span><span class="token number">0</span> blocks, Stripe <span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">0</span> blocks
<span class="token number">327680</span> inodes, <span class="token number">1310720</span> blocks
<span class="token number">65536</span> blocks <span class="token punctuation">(</span><span class="token number">5.00</span>%<span class="token punctuation">)</span> reserved <span class="token keyword">for</span> the super user
第一个数据块<span class="token operator">=</span><span class="token number">0</span>
Maximum filesystem <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">1342177280</span>
<span class="token number">40</span> block <span class="token function">groups</span>
<span class="token number">32768</span> blocks per group, <span class="token number">32768</span> fragments per group
<span class="token number">8192</span> inodes per group
Superblock backups stored on blocks: 
        <span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>, <span class="token number">294912</span>, <span class="token number">819200</span>, <span class="token number">884736</span>

Allocating group tables: 完成                            
正在写入inode表: 完成                            
Creating journal <span class="token punctuation">(</span><span class="token number">32768</span> blocks<span class="token punctuation">)</span>: 完成
Writing superblocks and filesystem accounting information: 完成
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>挂载</strong></p> <p>将创建好的文件系统/dev/myvg/textlv挂载到/mnt上，若实现以后服务器重启自动挂载，需要将创建好的文件系统挂载到配置文件/etc/fstab里面</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/myvg/textlv /mnt</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount |tail -1</span>
/dev/mapper/myvg-textlv on /mnt <span class="token builtin class-name">type</span> ext4 <span class="token punctuation">(</span>rw,relatime,seclabel,data<span class="token operator">=</span>ordered<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># vi /etc/fstab </span>

<span class="token comment">#</span>
<span class="token comment"># /etc/fstab</span>
<span class="token comment"># Created by anaconda on Sun Dec  8 20:41:38 2019</span>
<span class="token comment">#</span>
<span class="token comment"># Accessible filesystems, by reference, are maintained under '/dev/disk'</span>
<span class="token comment"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span>
<span class="token comment">#</span>
/dev/mapper/cl-root     /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>d6e819c3-6d45-4b79-8179-746c005bf567 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/mapper/cl-swap     swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>
/dev/myvg/textlv        /mnt                    ext4    defaults        <span class="token number">0</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>为了查看/etc/fstab/是否正确，可以先卸载逻辑卷textlv，然后使用mount –a是内核重新读取/etc/fstab，看是否能够自动挂载</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># umount /dev/myvg/textlv </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount -a</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mount |tail -1</span>
/dev/mapper/myvg-textlv on /mnt <span class="token builtin class-name">type</span> ext4 <span class="token punctuation">(</span>rw,relatime,seclabel,data<span class="token operator">=</span>ordered<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>LVM参考：https://www.cnblogs.com/liujunjun/p/12104720.html</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-ac050c62></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:290px;display:none;" data-v-5775ee02>
      欢迎来到我的博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="250" height="320" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://assets.smallsunnyfox.com/music/2.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://assets.smallsunnyfox.com/music/2.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://assets.smallsunnyfox.com/music/2.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>강남역 4번 출구</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>Plastic / Fallin` Dild</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><canvas id="vuepress-canvas-cursor"></canvas><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/assets/js/app.9be56ab6.js" defer></script><script src="/assets/js/3.fb47a76d.js" defer></script><script src="/assets/js/1.fc79f8d4.js" defer></script><script src="/assets/js/570.4c0be872.js" defer></script>
  </body>
</html>
