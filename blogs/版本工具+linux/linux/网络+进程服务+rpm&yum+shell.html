<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>编程印象</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="我盼世界无 bug">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.6ae13786.css" as="style"><link rel="preload" href="/assets/js/app.eb6d892d.js" as="script"><link rel="preload" href="/assets/js/3.fb47a76d.js" as="script"><link rel="preload" href="/assets/js/1.fc79f8d4.js" as="script"><link rel="preload" href="/assets/js/576.94072cac.js" as="script"><link rel="prefetch" href="/assets/js/10.23520678.js"><link rel="prefetch" href="/assets/js/100.64b20941.js"><link rel="prefetch" href="/assets/js/101.fabc8db2.js"><link rel="prefetch" href="/assets/js/102.433cfbe2.js"><link rel="prefetch" href="/assets/js/103.85290a4a.js"><link rel="prefetch" href="/assets/js/104.4d0856b3.js"><link rel="prefetch" href="/assets/js/105.e112b72b.js"><link rel="prefetch" href="/assets/js/106.d659d8b1.js"><link rel="prefetch" href="/assets/js/107.5504f098.js"><link rel="prefetch" href="/assets/js/108.be4e367f.js"><link rel="prefetch" href="/assets/js/109.172b9e55.js"><link rel="prefetch" href="/assets/js/11.b3312ecd.js"><link rel="prefetch" href="/assets/js/110.af0828f9.js"><link rel="prefetch" href="/assets/js/111.565617ef.js"><link rel="prefetch" href="/assets/js/112.cd529722.js"><link rel="prefetch" href="/assets/js/113.235d77ee.js"><link rel="prefetch" href="/assets/js/114.576f49c1.js"><link rel="prefetch" href="/assets/js/115.18db484d.js"><link rel="prefetch" href="/assets/js/116.8500bc63.js"><link rel="prefetch" href="/assets/js/117.731c8b9d.js"><link rel="prefetch" href="/assets/js/118.2db4efd1.js"><link rel="prefetch" href="/assets/js/119.3dabfb78.js"><link rel="prefetch" href="/assets/js/12.a13068e6.js"><link rel="prefetch" href="/assets/js/120.c3f51966.js"><link rel="prefetch" href="/assets/js/121.32fbb216.js"><link rel="prefetch" href="/assets/js/122.0e608f36.js"><link rel="prefetch" href="/assets/js/123.b3a674f0.js"><link rel="prefetch" href="/assets/js/124.67087e7b.js"><link rel="prefetch" href="/assets/js/125.b21e167c.js"><link rel="prefetch" href="/assets/js/126.61d055b1.js"><link rel="prefetch" href="/assets/js/127.84f663bc.js"><link rel="prefetch" href="/assets/js/128.c56e611b.js"><link rel="prefetch" href="/assets/js/129.1f44265e.js"><link rel="prefetch" href="/assets/js/13.df0e00d5.js"><link rel="prefetch" href="/assets/js/130.8283730e.js"><link rel="prefetch" href="/assets/js/131.328062d5.js"><link rel="prefetch" href="/assets/js/132.af028c11.js"><link rel="prefetch" href="/assets/js/133.791f0252.js"><link rel="prefetch" href="/assets/js/134.4c8130ed.js"><link rel="prefetch" href="/assets/js/135.b9d540b4.js"><link rel="prefetch" href="/assets/js/136.d5fa3382.js"><link rel="prefetch" href="/assets/js/137.765568ae.js"><link rel="prefetch" href="/assets/js/138.3ca4e12b.js"><link rel="prefetch" href="/assets/js/139.06ec777d.js"><link rel="prefetch" href="/assets/js/14.37278045.js"><link rel="prefetch" href="/assets/js/140.94ac5a8f.js"><link rel="prefetch" href="/assets/js/141.b987bdd4.js"><link rel="prefetch" href="/assets/js/142.4010cff0.js"><link rel="prefetch" href="/assets/js/143.4e24b96b.js"><link rel="prefetch" href="/assets/js/144.8b32c01b.js"><link rel="prefetch" href="/assets/js/145.b38ef3b0.js"><link rel="prefetch" href="/assets/js/146.1c636b7d.js"><link rel="prefetch" href="/assets/js/147.ad2828b1.js"><link rel="prefetch" href="/assets/js/148.f3793615.js"><link rel="prefetch" href="/assets/js/149.717e53cb.js"><link rel="prefetch" href="/assets/js/15.677fe3db.js"><link rel="prefetch" href="/assets/js/150.9b2c6e1e.js"><link rel="prefetch" href="/assets/js/151.1281315e.js"><link rel="prefetch" href="/assets/js/152.504b2543.js"><link rel="prefetch" href="/assets/js/153.a35fbc39.js"><link rel="prefetch" href="/assets/js/154.f2968a60.js"><link rel="prefetch" href="/assets/js/155.a13ad653.js"><link rel="prefetch" href="/assets/js/156.1e8f2a7b.js"><link rel="prefetch" href="/assets/js/157.a31e9715.js"><link rel="prefetch" href="/assets/js/158.e288e4bc.js"><link rel="prefetch" href="/assets/js/159.08484a95.js"><link rel="prefetch" href="/assets/js/16.840b9a23.js"><link rel="prefetch" href="/assets/js/160.86688c21.js"><link rel="prefetch" href="/assets/js/161.42a92012.js"><link rel="prefetch" href="/assets/js/162.f17e5010.js"><link rel="prefetch" href="/assets/js/163.6aabdd01.js"><link rel="prefetch" href="/assets/js/164.ce691d5d.js"><link rel="prefetch" href="/assets/js/165.1a37143b.js"><link rel="prefetch" href="/assets/js/166.3c78dea8.js"><link rel="prefetch" href="/assets/js/167.5e1cc3a7.js"><link rel="prefetch" href="/assets/js/168.6ac62b04.js"><link rel="prefetch" href="/assets/js/169.8cbea874.js"><link rel="prefetch" href="/assets/js/17.3b0dc9db.js"><link rel="prefetch" href="/assets/js/170.460d55fb.js"><link rel="prefetch" href="/assets/js/171.ee32ae8d.js"><link rel="prefetch" href="/assets/js/172.08929ac6.js"><link rel="prefetch" href="/assets/js/173.2fe17bfc.js"><link rel="prefetch" href="/assets/js/174.58b33d87.js"><link rel="prefetch" href="/assets/js/175.0c4d0d0c.js"><link rel="prefetch" href="/assets/js/176.6364d5e3.js"><link rel="prefetch" href="/assets/js/177.be529e98.js"><link rel="prefetch" href="/assets/js/178.82b24f78.js"><link rel="prefetch" href="/assets/js/179.60db264d.js"><link rel="prefetch" href="/assets/js/18.9a722c1d.js"><link rel="prefetch" href="/assets/js/180.b6ec8a4d.js"><link rel="prefetch" href="/assets/js/181.c6297d2a.js"><link rel="prefetch" href="/assets/js/182.ff32a28c.js"><link rel="prefetch" href="/assets/js/183.7807869c.js"><link rel="prefetch" href="/assets/js/184.7118bfac.js"><link rel="prefetch" href="/assets/js/185.54b77b5e.js"><link rel="prefetch" href="/assets/js/186.2f71ba9e.js"><link rel="prefetch" href="/assets/js/187.d4eae112.js"><link rel="prefetch" href="/assets/js/188.d3d7967b.js"><link rel="prefetch" href="/assets/js/189.c3de65aa.js"><link rel="prefetch" href="/assets/js/19.de53f6be.js"><link rel="prefetch" href="/assets/js/190.9c94b951.js"><link rel="prefetch" href="/assets/js/191.3f79c034.js"><link rel="prefetch" href="/assets/js/192.414661dc.js"><link rel="prefetch" href="/assets/js/193.7e1625d2.js"><link rel="prefetch" href="/assets/js/194.e0a70118.js"><link rel="prefetch" href="/assets/js/195.60549b0b.js"><link rel="prefetch" href="/assets/js/196.1dd3d8bb.js"><link rel="prefetch" href="/assets/js/197.c4e753b0.js"><link rel="prefetch" href="/assets/js/198.d68c6958.js"><link rel="prefetch" href="/assets/js/199.e3322b35.js"><link rel="prefetch" href="/assets/js/20.06ea9e94.js"><link rel="prefetch" href="/assets/js/200.eda35620.js"><link rel="prefetch" href="/assets/js/201.b7e10c9e.js"><link rel="prefetch" href="/assets/js/202.972a84d1.js"><link rel="prefetch" href="/assets/js/203.2a445064.js"><link rel="prefetch" href="/assets/js/204.09e8d9c8.js"><link rel="prefetch" href="/assets/js/205.e504b2d1.js"><link rel="prefetch" href="/assets/js/206.99aae220.js"><link rel="prefetch" href="/assets/js/207.222482dd.js"><link rel="prefetch" href="/assets/js/208.d69c69d9.js"><link rel="prefetch" href="/assets/js/209.94222f88.js"><link rel="prefetch" href="/assets/js/21.a8877b21.js"><link rel="prefetch" href="/assets/js/210.f13a873d.js"><link rel="prefetch" href="/assets/js/211.3eb8d5a8.js"><link rel="prefetch" href="/assets/js/212.e6eb0733.js"><link rel="prefetch" href="/assets/js/213.67492e10.js"><link rel="prefetch" href="/assets/js/214.588d85a2.js"><link rel="prefetch" href="/assets/js/215.5627bf83.js"><link rel="prefetch" href="/assets/js/216.d995cb1b.js"><link rel="prefetch" href="/assets/js/217.167bcb65.js"><link rel="prefetch" href="/assets/js/218.c8b586ff.js"><link rel="prefetch" href="/assets/js/219.6543c39f.js"><link rel="prefetch" href="/assets/js/22.e9e66869.js"><link rel="prefetch" href="/assets/js/220.9aade06c.js"><link rel="prefetch" href="/assets/js/221.a6dd8415.js"><link rel="prefetch" href="/assets/js/222.21503c34.js"><link rel="prefetch" href="/assets/js/223.dbfdc36b.js"><link rel="prefetch" href="/assets/js/224.3006e887.js"><link rel="prefetch" href="/assets/js/225.5dc011e8.js"><link rel="prefetch" href="/assets/js/226.fbd453c0.js"><link rel="prefetch" href="/assets/js/227.9fb4492e.js"><link rel="prefetch" href="/assets/js/228.4c78da3e.js"><link rel="prefetch" href="/assets/js/229.48209719.js"><link rel="prefetch" href="/assets/js/23.731a2c21.js"><link rel="prefetch" href="/assets/js/230.0e9251e1.js"><link rel="prefetch" href="/assets/js/231.5b24eb1b.js"><link rel="prefetch" href="/assets/js/232.57a1286b.js"><link rel="prefetch" href="/assets/js/233.6de292c0.js"><link rel="prefetch" href="/assets/js/234.50b6b3b7.js"><link rel="prefetch" href="/assets/js/235.3e4f8e79.js"><link rel="prefetch" href="/assets/js/236.c0c76ddb.js"><link rel="prefetch" href="/assets/js/237.8bdf5c07.js"><link rel="prefetch" href="/assets/js/238.cbe0506f.js"><link rel="prefetch" href="/assets/js/239.61dca742.js"><link rel="prefetch" href="/assets/js/24.d3e3b5e9.js"><link rel="prefetch" href="/assets/js/240.a0544a74.js"><link rel="prefetch" href="/assets/js/241.2c163295.js"><link rel="prefetch" href="/assets/js/242.8def465d.js"><link rel="prefetch" href="/assets/js/243.ce67f448.js"><link rel="prefetch" href="/assets/js/244.10e69fbd.js"><link rel="prefetch" href="/assets/js/245.cda1487e.js"><link rel="prefetch" href="/assets/js/246.38704316.js"><link rel="prefetch" href="/assets/js/247.e981885d.js"><link rel="prefetch" href="/assets/js/248.74ccb220.js"><link rel="prefetch" href="/assets/js/249.c474d5cf.js"><link rel="prefetch" href="/assets/js/25.fe4d0c97.js"><link rel="prefetch" href="/assets/js/250.481ae2ac.js"><link rel="prefetch" href="/assets/js/251.538b6bb8.js"><link rel="prefetch" href="/assets/js/252.3f1dabd7.js"><link rel="prefetch" href="/assets/js/253.45f786f0.js"><link rel="prefetch" href="/assets/js/254.136657fd.js"><link rel="prefetch" href="/assets/js/255.81208356.js"><link rel="prefetch" href="/assets/js/256.55e10c34.js"><link rel="prefetch" href="/assets/js/257.282e1867.js"><link rel="prefetch" href="/assets/js/258.18ba4e22.js"><link rel="prefetch" href="/assets/js/259.48024609.js"><link rel="prefetch" href="/assets/js/26.d11d61f3.js"><link rel="prefetch" href="/assets/js/260.9c04377b.js"><link rel="prefetch" href="/assets/js/261.c8df1e78.js"><link rel="prefetch" href="/assets/js/262.cf77a5eb.js"><link rel="prefetch" href="/assets/js/263.46a5b9c6.js"><link rel="prefetch" href="/assets/js/264.83fa6461.js"><link rel="prefetch" href="/assets/js/265.c4756140.js"><link rel="prefetch" href="/assets/js/266.ea86f2a2.js"><link rel="prefetch" href="/assets/js/267.1ef124ef.js"><link rel="prefetch" href="/assets/js/268.df6df6de.js"><link rel="prefetch" href="/assets/js/269.3823892c.js"><link rel="prefetch" href="/assets/js/27.4b8aa781.js"><link rel="prefetch" href="/assets/js/270.cf3c9f6b.js"><link rel="prefetch" href="/assets/js/271.0b6d86c1.js"><link rel="prefetch" href="/assets/js/272.c7885e05.js"><link rel="prefetch" href="/assets/js/273.73f711ea.js"><link rel="prefetch" href="/assets/js/274.0bc48fc5.js"><link rel="prefetch" href="/assets/js/275.66b7a3e9.js"><link rel="prefetch" href="/assets/js/276.6bf93a62.js"><link rel="prefetch" href="/assets/js/277.1f6fc4bc.js"><link rel="prefetch" href="/assets/js/278.bc2e5cfd.js"><link rel="prefetch" href="/assets/js/279.ed423cd2.js"><link rel="prefetch" href="/assets/js/28.f467b664.js"><link rel="prefetch" href="/assets/js/280.ef007ed6.js"><link rel="prefetch" href="/assets/js/281.c5c7f134.js"><link rel="prefetch" href="/assets/js/282.d2a1d29a.js"><link rel="prefetch" href="/assets/js/283.f9e4bdda.js"><link rel="prefetch" href="/assets/js/284.8a167e32.js"><link rel="prefetch" href="/assets/js/285.34dd1665.js"><link rel="prefetch" href="/assets/js/286.ecbf8daf.js"><link rel="prefetch" href="/assets/js/287.1ebe7180.js"><link rel="prefetch" href="/assets/js/288.7a1607d2.js"><link rel="prefetch" href="/assets/js/289.89177c27.js"><link rel="prefetch" href="/assets/js/29.12edc254.js"><link rel="prefetch" href="/assets/js/290.252db809.js"><link rel="prefetch" href="/assets/js/291.6aa99096.js"><link rel="prefetch" href="/assets/js/292.1cafdea2.js"><link rel="prefetch" href="/assets/js/293.a0ebae61.js"><link rel="prefetch" href="/assets/js/294.4cdc878f.js"><link rel="prefetch" href="/assets/js/295.3b1196a3.js"><link rel="prefetch" href="/assets/js/296.edc4f177.js"><link rel="prefetch" href="/assets/js/297.538cced8.js"><link rel="prefetch" href="/assets/js/298.2d5c250e.js"><link rel="prefetch" href="/assets/js/299.ef3ec356.js"><link rel="prefetch" href="/assets/js/30.dbc5bc7c.js"><link rel="prefetch" href="/assets/js/300.95bad310.js"><link rel="prefetch" href="/assets/js/301.801910d7.js"><link rel="prefetch" href="/assets/js/302.86126c3b.js"><link rel="prefetch" href="/assets/js/303.e01b60c8.js"><link rel="prefetch" href="/assets/js/304.67971870.js"><link rel="prefetch" href="/assets/js/305.b341e7be.js"><link rel="prefetch" href="/assets/js/306.4246d71a.js"><link rel="prefetch" href="/assets/js/307.5ca7bc67.js"><link rel="prefetch" href="/assets/js/308.0d92a06d.js"><link rel="prefetch" href="/assets/js/309.90d94b5c.js"><link rel="prefetch" href="/assets/js/31.f421d080.js"><link rel="prefetch" href="/assets/js/310.310e2362.js"><link rel="prefetch" href="/assets/js/311.36e724cc.js"><link rel="prefetch" href="/assets/js/312.4d3eb547.js"><link rel="prefetch" href="/assets/js/313.61015ead.js"><link rel="prefetch" href="/assets/js/314.5c756cd2.js"><link rel="prefetch" href="/assets/js/315.5153d813.js"><link rel="prefetch" href="/assets/js/316.d1408bc0.js"><link rel="prefetch" href="/assets/js/317.f848cc40.js"><link rel="prefetch" href="/assets/js/318.6cf52898.js"><link rel="prefetch" href="/assets/js/319.88923767.js"><link rel="prefetch" href="/assets/js/32.e81c4c67.js"><link rel="prefetch" href="/assets/js/320.e14116df.js"><link rel="prefetch" href="/assets/js/321.e994ed5a.js"><link rel="prefetch" href="/assets/js/322.13f77614.js"><link rel="prefetch" href="/assets/js/323.6425fad1.js"><link rel="prefetch" href="/assets/js/324.b66bba46.js"><link rel="prefetch" href="/assets/js/325.60575184.js"><link rel="prefetch" href="/assets/js/326.3095f649.js"><link rel="prefetch" href="/assets/js/327.1de80edd.js"><link rel="prefetch" href="/assets/js/328.23328b20.js"><link rel="prefetch" href="/assets/js/329.18e36ef6.js"><link rel="prefetch" href="/assets/js/33.cbe28ec0.js"><link rel="prefetch" href="/assets/js/330.ca9bba82.js"><link rel="prefetch" href="/assets/js/331.35ba82e1.js"><link rel="prefetch" href="/assets/js/332.7ccb8380.js"><link rel="prefetch" href="/assets/js/333.6c6552ce.js"><link rel="prefetch" href="/assets/js/334.211f47a6.js"><link rel="prefetch" href="/assets/js/335.c177216c.js"><link rel="prefetch" href="/assets/js/336.d96be7e0.js"><link rel="prefetch" href="/assets/js/337.90ead8c5.js"><link rel="prefetch" href="/assets/js/338.724afa77.js"><link rel="prefetch" href="/assets/js/339.23935f83.js"><link rel="prefetch" href="/assets/js/34.a377f779.js"><link rel="prefetch" href="/assets/js/340.93fef578.js"><link rel="prefetch" href="/assets/js/341.dbdd024d.js"><link rel="prefetch" href="/assets/js/342.07da36d1.js"><link rel="prefetch" href="/assets/js/343.f4cf9596.js"><link rel="prefetch" href="/assets/js/344.8856c456.js"><link rel="prefetch" href="/assets/js/345.6d05084f.js"><link rel="prefetch" href="/assets/js/346.81145e23.js"><link rel="prefetch" href="/assets/js/347.90e368f3.js"><link rel="prefetch" href="/assets/js/348.20703566.js"><link rel="prefetch" href="/assets/js/349.0f3d8ce8.js"><link rel="prefetch" href="/assets/js/35.3c24b964.js"><link rel="prefetch" href="/assets/js/350.91e304b5.js"><link rel="prefetch" href="/assets/js/351.f5a0bbee.js"><link rel="prefetch" href="/assets/js/352.06b5c0d4.js"><link rel="prefetch" href="/assets/js/353.38a559bf.js"><link rel="prefetch" href="/assets/js/354.1cf0f555.js"><link rel="prefetch" href="/assets/js/355.712684ac.js"><link rel="prefetch" href="/assets/js/356.91960eb5.js"><link rel="prefetch" href="/assets/js/357.7dd6330a.js"><link rel="prefetch" href="/assets/js/358.656689e1.js"><link rel="prefetch" href="/assets/js/359.97053258.js"><link rel="prefetch" href="/assets/js/36.faba35a7.js"><link rel="prefetch" href="/assets/js/360.6b09633d.js"><link rel="prefetch" href="/assets/js/361.b5a1562a.js"><link rel="prefetch" href="/assets/js/362.2ebfe516.js"><link rel="prefetch" href="/assets/js/363.ba0f77b4.js"><link rel="prefetch" href="/assets/js/364.e71cb2de.js"><link rel="prefetch" href="/assets/js/365.8f845127.js"><link rel="prefetch" href="/assets/js/366.b1692d43.js"><link rel="prefetch" href="/assets/js/367.9d152c20.js"><link rel="prefetch" href="/assets/js/368.f6cb25dc.js"><link rel="prefetch" href="/assets/js/369.60106a7d.js"><link rel="prefetch" href="/assets/js/37.654e7ec8.js"><link rel="prefetch" href="/assets/js/370.ffa30fa2.js"><link rel="prefetch" href="/assets/js/371.85aca282.js"><link rel="prefetch" href="/assets/js/372.bdab65e8.js"><link rel="prefetch" href="/assets/js/373.beedbe92.js"><link rel="prefetch" href="/assets/js/374.7878639d.js"><link rel="prefetch" href="/assets/js/375.bf254529.js"><link rel="prefetch" href="/assets/js/376.2b3859bb.js"><link rel="prefetch" href="/assets/js/377.773bf79f.js"><link rel="prefetch" href="/assets/js/378.bc94af80.js"><link rel="prefetch" href="/assets/js/379.94d73fa8.js"><link rel="prefetch" href="/assets/js/38.31f1bccf.js"><link rel="prefetch" href="/assets/js/380.b751a4bd.js"><link rel="prefetch" href="/assets/js/381.a4199b93.js"><link rel="prefetch" href="/assets/js/382.965a9a16.js"><link rel="prefetch" href="/assets/js/383.8cca0ede.js"><link rel="prefetch" href="/assets/js/384.e536e234.js"><link rel="prefetch" href="/assets/js/385.481e4003.js"><link rel="prefetch" href="/assets/js/386.8fad576f.js"><link rel="prefetch" href="/assets/js/387.a629e1c5.js"><link rel="prefetch" href="/assets/js/388.8ebac716.js"><link rel="prefetch" href="/assets/js/389.83b2417e.js"><link rel="prefetch" href="/assets/js/39.2811ef0c.js"><link rel="prefetch" href="/assets/js/390.73017df4.js"><link rel="prefetch" href="/assets/js/391.0cfb3ccb.js"><link rel="prefetch" href="/assets/js/392.a2115cbf.js"><link rel="prefetch" href="/assets/js/393.e6c4758d.js"><link rel="prefetch" href="/assets/js/394.ccda607a.js"><link rel="prefetch" href="/assets/js/395.5b295c23.js"><link rel="prefetch" href="/assets/js/396.214402fc.js"><link rel="prefetch" href="/assets/js/397.65edfb7b.js"><link rel="prefetch" href="/assets/js/398.c002682c.js"><link rel="prefetch" href="/assets/js/399.93c7a47f.js"><link rel="prefetch" href="/assets/js/4.35359649.js"><link rel="prefetch" href="/assets/js/40.1b08e3c1.js"><link rel="prefetch" href="/assets/js/400.40dd3963.js"><link rel="prefetch" href="/assets/js/401.7f979f74.js"><link rel="prefetch" href="/assets/js/402.c5262d41.js"><link rel="prefetch" href="/assets/js/403.5e9a3b33.js"><link rel="prefetch" href="/assets/js/404.c422045f.js"><link rel="prefetch" href="/assets/js/405.aa274b2b.js"><link rel="prefetch" href="/assets/js/406.84684f91.js"><link rel="prefetch" href="/assets/js/407.383021d3.js"><link rel="prefetch" href="/assets/js/408.337da488.js"><link rel="prefetch" href="/assets/js/409.1ff563be.js"><link rel="prefetch" href="/assets/js/41.757a4b3e.js"><link rel="prefetch" href="/assets/js/410.ebf4a2ff.js"><link rel="prefetch" href="/assets/js/411.217d1fb2.js"><link rel="prefetch" href="/assets/js/412.77250f94.js"><link rel="prefetch" href="/assets/js/413.50de405c.js"><link rel="prefetch" href="/assets/js/414.e2abaf1f.js"><link rel="prefetch" href="/assets/js/415.b03bb22b.js"><link rel="prefetch" href="/assets/js/416.99b363d9.js"><link rel="prefetch" href="/assets/js/417.89faa7ee.js"><link rel="prefetch" href="/assets/js/418.3c8d0470.js"><link rel="prefetch" href="/assets/js/419.815c1ce2.js"><link rel="prefetch" href="/assets/js/42.51c940ca.js"><link rel="prefetch" href="/assets/js/420.a0641f2d.js"><link rel="prefetch" href="/assets/js/421.0cee5c78.js"><link rel="prefetch" href="/assets/js/422.4aa404df.js"><link rel="prefetch" href="/assets/js/423.bb72f6dc.js"><link rel="prefetch" href="/assets/js/424.c58bb206.js"><link rel="prefetch" href="/assets/js/425.42602881.js"><link rel="prefetch" href="/assets/js/426.cd3382ee.js"><link rel="prefetch" href="/assets/js/427.9858f776.js"><link rel="prefetch" href="/assets/js/428.e90e31eb.js"><link rel="prefetch" href="/assets/js/429.643c5d6d.js"><link rel="prefetch" href="/assets/js/43.3da8f543.js"><link rel="prefetch" href="/assets/js/430.1e4decbf.js"><link rel="prefetch" href="/assets/js/431.66d2c041.js"><link rel="prefetch" href="/assets/js/432.af1a1134.js"><link rel="prefetch" href="/assets/js/433.604d493c.js"><link rel="prefetch" href="/assets/js/434.fff3ceb2.js"><link rel="prefetch" href="/assets/js/435.aadb59f9.js"><link rel="prefetch" href="/assets/js/436.596ef7e6.js"><link rel="prefetch" href="/assets/js/437.6f8c98ea.js"><link rel="prefetch" href="/assets/js/438.e30627be.js"><link rel="prefetch" href="/assets/js/439.d1f2931e.js"><link rel="prefetch" href="/assets/js/44.7e4f6c2e.js"><link rel="prefetch" href="/assets/js/440.7618c437.js"><link rel="prefetch" href="/assets/js/441.8bab1850.js"><link rel="prefetch" href="/assets/js/442.3024bca0.js"><link rel="prefetch" href="/assets/js/443.0d530461.js"><link rel="prefetch" href="/assets/js/444.9f544d8e.js"><link rel="prefetch" href="/assets/js/445.8a5e863f.js"><link rel="prefetch" href="/assets/js/446.20c04540.js"><link rel="prefetch" href="/assets/js/447.75021f6a.js"><link rel="prefetch" href="/assets/js/448.0a6f1d0c.js"><link rel="prefetch" href="/assets/js/449.881b2973.js"><link rel="prefetch" href="/assets/js/45.bbf0f3c7.js"><link rel="prefetch" href="/assets/js/450.69eeed0d.js"><link rel="prefetch" href="/assets/js/451.adee18a8.js"><link rel="prefetch" href="/assets/js/452.e483013b.js"><link rel="prefetch" href="/assets/js/453.a9bc2c45.js"><link rel="prefetch" href="/assets/js/454.8b65f613.js"><link rel="prefetch" href="/assets/js/455.8b68cad1.js"><link rel="prefetch" href="/assets/js/456.f0427393.js"><link rel="prefetch" href="/assets/js/457.de8f3caf.js"><link rel="prefetch" href="/assets/js/458.6c3cc2d3.js"><link rel="prefetch" href="/assets/js/459.5b186609.js"><link rel="prefetch" href="/assets/js/46.b200f5a8.js"><link rel="prefetch" href="/assets/js/460.0394de15.js"><link rel="prefetch" href="/assets/js/461.84fea700.js"><link rel="prefetch" href="/assets/js/462.9e9438f9.js"><link rel="prefetch" href="/assets/js/463.111791d8.js"><link rel="prefetch" href="/assets/js/464.91685e0f.js"><link rel="prefetch" href="/assets/js/465.18fa523c.js"><link rel="prefetch" href="/assets/js/466.b8b35da0.js"><link rel="prefetch" href="/assets/js/467.e7a998b7.js"><link rel="prefetch" href="/assets/js/468.50217102.js"><link rel="prefetch" href="/assets/js/469.d8cfe925.js"><link rel="prefetch" href="/assets/js/47.c9f1fa1d.js"><link rel="prefetch" href="/assets/js/470.34034556.js"><link rel="prefetch" href="/assets/js/471.ef0dcf64.js"><link rel="prefetch" href="/assets/js/472.b5afc615.js"><link rel="prefetch" href="/assets/js/473.e7fc994f.js"><link rel="prefetch" href="/assets/js/474.4f5ae42c.js"><link rel="prefetch" href="/assets/js/475.28a1bf8d.js"><link rel="prefetch" href="/assets/js/476.9ac1939c.js"><link rel="prefetch" href="/assets/js/477.41170539.js"><link rel="prefetch" href="/assets/js/478.16164abe.js"><link rel="prefetch" href="/assets/js/479.1af4296a.js"><link rel="prefetch" href="/assets/js/48.60a0068a.js"><link rel="prefetch" href="/assets/js/480.e0ba0cf8.js"><link rel="prefetch" href="/assets/js/481.50e65075.js"><link rel="prefetch" href="/assets/js/482.b1999491.js"><link rel="prefetch" href="/assets/js/483.12a47108.js"><link rel="prefetch" href="/assets/js/484.d044fda8.js"><link rel="prefetch" href="/assets/js/485.7b6b0652.js"><link rel="prefetch" href="/assets/js/486.99b0ebb6.js"><link rel="prefetch" href="/assets/js/487.6ef4f664.js"><link rel="prefetch" href="/assets/js/488.cd11dd02.js"><link rel="prefetch" href="/assets/js/489.60d0152e.js"><link rel="prefetch" href="/assets/js/49.0e2859a9.js"><link rel="prefetch" href="/assets/js/490.23b2b9c4.js"><link rel="prefetch" href="/assets/js/491.a4a3521d.js"><link rel="prefetch" href="/assets/js/492.e9b24ecb.js"><link rel="prefetch" href="/assets/js/493.7459457d.js"><link rel="prefetch" href="/assets/js/494.d719ca19.js"><link rel="prefetch" href="/assets/js/495.c49dd3d6.js"><link rel="prefetch" href="/assets/js/496.83d15796.js"><link rel="prefetch" href="/assets/js/497.02b1b822.js"><link rel="prefetch" href="/assets/js/498.31edf097.js"><link rel="prefetch" href="/assets/js/499.2423fb1e.js"><link rel="prefetch" href="/assets/js/5.6361159c.js"><link rel="prefetch" href="/assets/js/50.89e65144.js"><link rel="prefetch" href="/assets/js/500.846fd281.js"><link rel="prefetch" href="/assets/js/501.c80e2602.js"><link rel="prefetch" href="/assets/js/502.466cd400.js"><link rel="prefetch" href="/assets/js/503.edc7c91b.js"><link rel="prefetch" href="/assets/js/504.442dffcf.js"><link rel="prefetch" href="/assets/js/505.647f4b08.js"><link rel="prefetch" href="/assets/js/506.ccaebda2.js"><link rel="prefetch" href="/assets/js/507.83f1632a.js"><link rel="prefetch" href="/assets/js/508.3930ec03.js"><link rel="prefetch" href="/assets/js/509.30bcc772.js"><link rel="prefetch" href="/assets/js/51.959b9a17.js"><link rel="prefetch" href="/assets/js/510.441d2242.js"><link rel="prefetch" href="/assets/js/511.6a6741e1.js"><link rel="prefetch" href="/assets/js/512.11b82f8e.js"><link rel="prefetch" href="/assets/js/513.63c214a5.js"><link rel="prefetch" href="/assets/js/514.9c069de6.js"><link rel="prefetch" href="/assets/js/515.3b7be092.js"><link rel="prefetch" href="/assets/js/516.57388d1b.js"><link rel="prefetch" href="/assets/js/517.6b6df9ec.js"><link rel="prefetch" href="/assets/js/518.3a2b570f.js"><link rel="prefetch" href="/assets/js/519.3526fbe0.js"><link rel="prefetch" href="/assets/js/52.e6a558fa.js"><link rel="prefetch" href="/assets/js/520.96f04372.js"><link rel="prefetch" href="/assets/js/521.3a98d124.js"><link rel="prefetch" href="/assets/js/522.c0fe7da6.js"><link rel="prefetch" href="/assets/js/523.5d59a87b.js"><link rel="prefetch" href="/assets/js/524.1573b664.js"><link rel="prefetch" href="/assets/js/525.8846373b.js"><link rel="prefetch" href="/assets/js/526.9cadb4bf.js"><link rel="prefetch" href="/assets/js/527.85991dc3.js"><link rel="prefetch" href="/assets/js/528.e518cc42.js"><link rel="prefetch" href="/assets/js/529.6bb07964.js"><link rel="prefetch" href="/assets/js/53.86078561.js"><link rel="prefetch" href="/assets/js/530.647c1db9.js"><link rel="prefetch" href="/assets/js/531.0e16fd02.js"><link rel="prefetch" href="/assets/js/532.3c037de4.js"><link rel="prefetch" href="/assets/js/533.a0cdfb43.js"><link rel="prefetch" href="/assets/js/534.e83a618d.js"><link rel="prefetch" href="/assets/js/535.c538af7f.js"><link rel="prefetch" href="/assets/js/536.2579dbf0.js"><link rel="prefetch" href="/assets/js/537.063c853b.js"><link rel="prefetch" href="/assets/js/538.c0222591.js"><link rel="prefetch" href="/assets/js/539.0ff67131.js"><link rel="prefetch" href="/assets/js/54.921488d3.js"><link rel="prefetch" href="/assets/js/540.edfa92e7.js"><link rel="prefetch" href="/assets/js/541.b4468fe6.js"><link rel="prefetch" href="/assets/js/542.fa8906c3.js"><link rel="prefetch" href="/assets/js/543.6ce1d750.js"><link rel="prefetch" href="/assets/js/544.14bc7abc.js"><link rel="prefetch" href="/assets/js/545.9dc50663.js"><link rel="prefetch" href="/assets/js/546.522be0d1.js"><link rel="prefetch" href="/assets/js/547.011c8748.js"><link rel="prefetch" href="/assets/js/548.ae7d58ec.js"><link rel="prefetch" href="/assets/js/549.6d4e88df.js"><link rel="prefetch" href="/assets/js/55.5c4f17bb.js"><link rel="prefetch" href="/assets/js/550.294b381a.js"><link rel="prefetch" href="/assets/js/551.4c320d32.js"><link rel="prefetch" href="/assets/js/552.cc900662.js"><link rel="prefetch" href="/assets/js/553.753ae069.js"><link rel="prefetch" href="/assets/js/554.5a4734b2.js"><link rel="prefetch" href="/assets/js/555.b9fd4350.js"><link rel="prefetch" href="/assets/js/556.0066985c.js"><link rel="prefetch" href="/assets/js/557.bd387c37.js"><link rel="prefetch" href="/assets/js/558.035c0551.js"><link rel="prefetch" href="/assets/js/559.22478b03.js"><link rel="prefetch" href="/assets/js/56.084ea040.js"><link rel="prefetch" href="/assets/js/560.01c20939.js"><link rel="prefetch" href="/assets/js/561.db8e9b2a.js"><link rel="prefetch" href="/assets/js/562.cf4c1305.js"><link rel="prefetch" href="/assets/js/563.5cd73224.js"><link rel="prefetch" href="/assets/js/564.a3057d8f.js"><link rel="prefetch" href="/assets/js/565.d937d411.js"><link rel="prefetch" href="/assets/js/566.00ed0ca5.js"><link rel="prefetch" href="/assets/js/567.cd1765c7.js"><link rel="prefetch" href="/assets/js/568.993dc9b9.js"><link rel="prefetch" href="/assets/js/569.56fc7c38.js"><link rel="prefetch" href="/assets/js/57.67bb5935.js"><link rel="prefetch" href="/assets/js/570.6e7a5117.js"><link rel="prefetch" href="/assets/js/571.4a58ab2e.js"><link rel="prefetch" href="/assets/js/572.fc71f704.js"><link rel="prefetch" href="/assets/js/573.03fccafd.js"><link rel="prefetch" href="/assets/js/574.30a68fd1.js"><link rel="prefetch" href="/assets/js/575.bd178440.js"><link rel="prefetch" href="/assets/js/577.a736bc2d.js"><link rel="prefetch" href="/assets/js/58.de25c260.js"><link rel="prefetch" href="/assets/js/59.cc415c04.js"><link rel="prefetch" href="/assets/js/6.6b20e148.js"><link rel="prefetch" href="/assets/js/60.259362d5.js"><link rel="prefetch" href="/assets/js/61.1ca466ff.js"><link rel="prefetch" href="/assets/js/62.a30ff16a.js"><link rel="prefetch" href="/assets/js/63.e658bf90.js"><link rel="prefetch" href="/assets/js/64.2599e141.js"><link rel="prefetch" href="/assets/js/65.3f91f60e.js"><link rel="prefetch" href="/assets/js/66.41337d1a.js"><link rel="prefetch" href="/assets/js/67.c4bfe86e.js"><link rel="prefetch" href="/assets/js/68.d1e44936.js"><link rel="prefetch" href="/assets/js/69.cf47afce.js"><link rel="prefetch" href="/assets/js/7.e9deccd6.js"><link rel="prefetch" href="/assets/js/70.4978cf9b.js"><link rel="prefetch" href="/assets/js/71.fdbcd526.js"><link rel="prefetch" href="/assets/js/72.e307b3e6.js"><link rel="prefetch" href="/assets/js/73.3bac5db2.js"><link rel="prefetch" href="/assets/js/74.38c2a0cf.js"><link rel="prefetch" href="/assets/js/75.2335fb25.js"><link rel="prefetch" href="/assets/js/76.1cf7fdf3.js"><link rel="prefetch" href="/assets/js/77.2c86fd31.js"><link rel="prefetch" href="/assets/js/78.41825b08.js"><link rel="prefetch" href="/assets/js/79.06bb8421.js"><link rel="prefetch" href="/assets/js/8.6d109cee.js"><link rel="prefetch" href="/assets/js/80.3bceca35.js"><link rel="prefetch" href="/assets/js/81.a7fcd10c.js"><link rel="prefetch" href="/assets/js/82.6e750221.js"><link rel="prefetch" href="/assets/js/83.479b6731.js"><link rel="prefetch" href="/assets/js/84.3c356278.js"><link rel="prefetch" href="/assets/js/85.e5914f68.js"><link rel="prefetch" href="/assets/js/86.a1906512.js"><link rel="prefetch" href="/assets/js/87.d0bc1037.js"><link rel="prefetch" href="/assets/js/88.d8c788a7.js"><link rel="prefetch" href="/assets/js/89.26d3e7b7.js"><link rel="prefetch" href="/assets/js/9.22ff0f32.js"><link rel="prefetch" href="/assets/js/90.a6e59a38.js"><link rel="prefetch" href="/assets/js/91.2dd78da4.js"><link rel="prefetch" href="/assets/js/92.da5fc775.js"><link rel="prefetch" href="/assets/js/93.a239e7f8.js"><link rel="prefetch" href="/assets/js/94.132c9a58.js"><link rel="prefetch" href="/assets/js/95.78fa4894.js"><link rel="prefetch" href="/assets/js/96.54b9e3a0.js"><link rel="prefetch" href="/assets/js/97.5834decb.js"><link rel="prefetch" href="/assets/js/98.544e3f23.js"><link rel="prefetch" href="/assets/js/99.09c8b387.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6ae13786.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-5bb33761><div data-v-5bb33761><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-5bb33761 data-v-5bb33761><h3 class="title" data-v-59e6cb88>编程印象</h3> <p class="description" data-v-59e6cb88>我盼世界无 bug</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>panfeng</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-5bb33761><header class="navbar" data-v-5bb33761><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="编程印象" class="logo"> <span class="site-name">编程印象</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/interviewQuestions/" class="nav-link"><i class="undefined"></i>
  interviewQuestions
</a></li><li class="dropdown-item"><!----> <a href="/categories/Devops/" class="nav-link"><i class="undefined"></i>
  Devops
</a></li><li class="dropdown-item"><!----> <a href="/categories/javaSE专题/" class="nav-link"><i class="undefined"></i>
  javaSE专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/java后台框架/" class="nav-link"><i class="undefined"></i>
  java后台框架
</a></li><li class="dropdown-item"><!----> <a href="/categories/java底层专题/" class="nav-link"><i class="undefined"></i>
  java底层专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习路线/" class="nav-link"><i class="undefined"></i>
  学习路线
</a></li><li class="dropdown-item"><!----> <a href="/categories/微服务/" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/categories/金三银四/" class="nav-link"><i class="undefined"></i>
  金三银四
</a></li><li class="dropdown-item"><!----> <a href="/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/ts/" class="nav-link"><i class="undefined"></i>
  ts
</a></li><li class="dropdown-item"><!----> <a href="/categories/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/QYWX/" class="nav-link"><i class="undefined"></i>
  QYWX
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/categories/项目实战/" class="nav-link"><i class="undefined"></i>
  项目实战
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本工具/" class="nav-link"><i class="undefined"></i>
  版本工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      工具推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://codesandbox.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  codeSandbox
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://24kcs.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  正则表达式手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caniuse.com/?search=flex" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  兼容性查询(前端)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://httpbin.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  API请求测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.gaoding.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  编程语言排行榜
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.remove.bg/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  一键去除背景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://snippet-generator.app/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  快速生成代码片段
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/pf_java_development" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-5bb33761></div> <aside class="sidebar" data-v-5bb33761><div class="personal-info-wrapper" data-v-1fad0c41 data-v-5bb33761><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    panfeng
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>562</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>72</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/数据库/" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/categories/interviewQuestions/" class="nav-link"><i class="undefined"></i>
  interviewQuestions
</a></li><li class="dropdown-item"><!----> <a href="/categories/Devops/" class="nav-link"><i class="undefined"></i>
  Devops
</a></li><li class="dropdown-item"><!----> <a href="/categories/javaSE专题/" class="nav-link"><i class="undefined"></i>
  javaSE专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/java后台框架/" class="nav-link"><i class="undefined"></i>
  java后台框架
</a></li><li class="dropdown-item"><!----> <a href="/categories/java底层专题/" class="nav-link"><i class="undefined"></i>
  java底层专题
</a></li><li class="dropdown-item"><!----> <a href="/categories/分布式/" class="nav-link"><i class="undefined"></i>
  分布式
</a></li><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/学习路线/" class="nav-link"><i class="undefined"></i>
  学习路线
</a></li><li class="dropdown-item"><!----> <a href="/categories/微服务/" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/categories/金三银四/" class="nav-link"><i class="undefined"></i>
  金三银四
</a></li><li class="dropdown-item"><!----> <a href="/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/ts/" class="nav-link"><i class="undefined"></i>
  ts
</a></li><li class="dropdown-item"><!----> <a href="/categories/miniProgram/" class="nav-link"><i class="undefined"></i>
  miniProgram
</a></li><li class="dropdown-item"><!----> <a href="/categories/uniapp/" class="nav-link"><i class="undefined"></i>
  uniapp
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/QYWX/" class="nav-link"><i class="undefined"></i>
  QYWX
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/categories/项目实战/" class="nav-link"><i class="undefined"></i>
  项目实战
</a></li><li class="dropdown-item"><!----> <a href="/categories/版本工具/" class="nav-link"><i class="undefined"></i>
  版本工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/包管理工具/" class="nav-link"><i class="undefined"></i>
  包管理工具
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      工具推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://codesandbox.io" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  codeSandbox
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://24kcs.github.io/vue3_study/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  vue3+TS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  正则表达式手册
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://caniuse.com/?search=flex" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  兼容性查询(前端)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://httpbin.org/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  API请求测试
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.gaoding.com/#/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  编程语言排行榜
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.remove.bg/zh" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  一键去除背景
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://snippet-generator.app/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-coding"></i>
  快速生成代码片段
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      关于
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://gitee.com/pf_java_development" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  码云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-5bb33761><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>panfeng</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2023
      </a></span></div></div> <div data-v-5bb33761><div data-v-5bb33761><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title"></h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>panfeng</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><hr> <p>title: 网络+进程服务+rpm&amp;yum+shell
date: 2020-12-15
tags:</p> <ul><li>linux+shell
categories:</li> <li>linux</li></ul> <hr> <h1 id="网络-进程服务-rpm-yum-shell"><a href="#网络-进程服务-rpm-yum-shell" class="header-anchor">#</a> <strong>网络+进程服务+rpm&amp;yum+shell</strong></h1> <h1 id="_1-linux网络配置"><a href="#_1-linux网络配置" class="header-anchor">#</a> 1. Linux网络配置</h1> <p><strong>这里只说明NAT网络的配置和管理，其它类似。</strong></p> <h2 id="_1-1-nat网络原理图"><a href="#_1-1-nat网络原理图" class="header-anchor">#</a> 1.1 NAT网络原理图</h2> <p>​	NAT（Network Address Translation，网络地址转换），是用来共享主机IP的方式，同样的Vmnet8作为虚拟机的交换机，它是通过虚拟的NAT设备和主机网卡互联，来实现网络访问的。另外Vmnet8也连接了虚拟DHCP服务器，可以动态的对虚拟机进行ip的分配。Vmnet8虚拟交换机和主机的通信并不是通过虚拟NAT设备，而是通过以太网4（Vmware Network Adapter Vmnet8）和主机进行通信。**此模式下主机如果可以访问网络，那么虚拟机也是可以的，默认情况下和主机同一网段的其它物理机是无法访问虚拟机的，但虚拟机可以访问其它物理机。**如果想要其它物理机访问虚拟机，可以通过使用主机转发物理机的端口方式来实现互相通信。</p> <p><strong>虚拟机、网关和Vmware Network Adapter Vmnet8必须在同一子网下。</strong></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110415-c7813c7d-d2ab-48f9-a494-38e9d9d24eb0.png" alt="img"></p> <h2 id="_1-2-查看本机与虚拟机nat网络配置"><a href="#_1-2-查看本机与虚拟机nat网络配置" class="header-anchor">#</a> 1.2 查看本机与虚拟机NAT网络配置</h2> <h3 id="_1-查看vm的vmnet8和网关"><a href="#_1-查看vm的vmnet8和网关" class="header-anchor">#</a> （1）查看VM的VMnet8和网关</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110382-71979a73-fa24-447c-a7b5-00fda60ab57e.png" alt="img"></p> <h3 id="_2-ipconfig-查看windows的vmware-network-adapter-vmnet8"><a href="#_2-ipconfig-查看windows的vmware-network-adapter-vmnet8" class="header-anchor">#</a> （2）ipconfig - 查看windows的Vmware Network Adapter Vmnet8</h3> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>C:\Users\bithachi&gt;ipconfig
# 此处省略了一些信息
无线局域网适配器 本地连接* 10:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::8d1b:ec84:293:c61b%12
   IPv4 地址 . . . . . . . . . . . . : 192.168.137.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :

以太网适配器 VMware Network Adapter VMnet1:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::2cc9:3882:3e89:fe15%4
   IPv4 地址 . . . . . . . . . . . . : 192.168.195.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :

以太网适配器 VMware Network Adapter VMnet8:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::6473:1868:c5f2:7e94%11
   IPv4 地址 . . . . . . . . . . . . : 192.168.14.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_3-ifconfig命令-查看linux的ip"><a href="#_3-ifconfig命令-查看linux的ip" class="header-anchor">#</a> （3） ifconfig命令 - 查看Linux的ip</h3> <p>ifconfig命令的英文全称是“network interfaces configuring”，即用于配置和显示Linux内核中网络接口的网络参数。用ifconfig命令配置的网卡信息，在网卡重启后机器重启后，配置就不存在。要想将上述的配置信息永远的存的电脑里，那就要修改网卡的配置文件了。</p> <p>**语法格式：**ifconfig [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>add&lt;地址&gt;</th> <th>设置网络设备IPv6的IP地址</th></tr></thead> <tbody><tr><td>del&lt;地址&gt;</td> <td>删除网络设备IPv6的IP地址</td></tr> <tr><td>down</td> <td>关闭指定的网络设备</td></tr> <tr><td>up</td> <td>启动指定的网络设备</td></tr> <tr><td>IP地址</td> <td>指定网络设备的IP地址</td></tr></tbody></table> <p><strong>参考实例:</strong></p> <p>查看主机网络设备信息：</p> <p>我们可以看到ip为：192.168.14.128</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ifconfig</span>
ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.14.128  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.14.255
        inet6 fe80::9eb2:b749:c806:4c97  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
        ether 00:0c:29:61:23:1e  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">3894</span>  bytes <span class="token number">2226792</span> <span class="token punctuation">(</span><span class="token number">2.1</span> MiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">1740</span>  bytes <span class="token number">158715</span> <span class="token punctuation">(</span><span class="token number">154.9</span> KiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

lo: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">7</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,LOOPBACK,RUNNING<span class="token operator">&gt;</span>  mtu <span class="token number">65536</span>
        inet <span class="token number">127.0</span>.0.1  netmask <span class="token number">255.0</span>.0.0
        inet6 ::1  prefixlen <span class="token number">128</span>  scopeid 0x1<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>host<span class="token operator">&gt;</span>
        loop  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Local Loopback<span class="token punctuation">)</span>
        RX packets <span class="token number">36</span>  bytes <span class="token number">2872</span> <span class="token punctuation">(</span><span class="token number">2.8</span> KiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">36</span>  bytes <span class="token number">2872</span> <span class="token punctuation">(</span><span class="token number">2.8</span> KiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

virbr0: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">409</span><span class="token operator"><span class="token file-descriptor important">9</span>&lt;</span>UP,BROADCAST,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.122.1  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.122.255
        ether <span class="token number">52</span>:54:00:59:ff:1f  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">0</span>  bytes <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">0</span>  bytes <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>启动关闭指定网卡：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 down</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 up</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为网卡配置和删除IPv6地址：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 add 33ffe:3240:800:1005::2/64</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 del 33ffe:3240:800:1005::2/64</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>用ifconfig修改MAC地址：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 down</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 hw ether 00:AA:BB:CC:DD:EE</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 up</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth1 hw ether 00:1D:1C:1D:1E </span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth1 up</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>配置IP地址：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 192.168.1.56 </span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 192.168.1.56 netmask 255.255.255.0</span>
<span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ifconfig eth0 192.168.1.56 netmask 255.255.255.0 broadcast 192.168.1.255</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_1-3-ping命令-测试主机间网络连通性"><a href="#_1-3-ping命令-测试主机间网络连通性" class="header-anchor">#</a> 1.3 ping命令 – 测试主机间网络连通性</h2> <p>ping命令主要用来测试主机之间网络的连通性，也可以用于。执行ping指令会使用ICMP传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。</p> <p>不过值得我们注意的是：Linux系统下的ping命令与Windows系统下的ping命令稍有不同。Windows下运行ping命令一般会发出4个请求就结束运行该命令；而Linux下不会自动终止，此时需要我们按CTR+C终止或者使用-c参数为ping命令指定发送的请求数目。</p> <p>**语法格式：**ping [参数] [目标主机]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-d</th> <th>使用Socket的SO_DEBUG功能</th></tr></thead> <tbody><tr><td>-c</td> <td>指定发送报文的次数</td></tr> <tr><td>-i</td> <td>指定收发信息的间隔时间</td></tr> <tr><td>-I</td> <td>使用指定的网络接口送出数据包</td></tr> <tr><td>-l</td> <td>设置在送出要求信息之前，先行发出的数据包</td></tr> <tr><td>-n</td> <td>只输出数值</td></tr> <tr><td>-p</td> <td>设置填满数据包的范本样式</td></tr> <tr><td>-q</td> <td>不显示指令执行过程</td></tr> <tr><td>-R</td> <td>记录路由过程</td></tr> <tr><td>-s</td> <td>设置数据包的大小</td></tr> <tr><td>-t</td> <td>设置存活数值TTL的大小</td></tr> <tr><td>-v</td> <td>详细显示指令的执行过程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>检测与baidu网站的连通性：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ping www.baidu.com</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>连续ping4次：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ping -c 4 www.baidu.com</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>设置次数为4，时间间隔为3秒：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ping -c 4 -i 3 www.baidu.com</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>利用ping命令获取指定网站的IP地址：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@baidu ~<span class="token punctuation">]</span><span class="token comment"># ping -c 1 baidu.com | grep from | cut -d &quot; &quot; -f 4</span>
<span class="token number">220.181</span>.57.216
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>NAT网络，如果虚拟机可以ping通主机，而主机ping不通虚拟机，可将vm8禁用再重启一下试试：</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1615444825933-b445024d-f3e4-4729-ac1e-6128e9b51507.png" alt="img"></p> <h2 id="_1-4-配置linux虚拟机的ip"><a href="#_1-4-配置linux虚拟机的ip" class="header-anchor">#</a> 1.4 配置Linux虚拟机的ip</h2> <h3 id="_1-自动dhcp获取ip"><a href="#_1-自动dhcp获取ip" class="header-anchor">#</a> （1）自动DHCP获取ip</h3> <ul><li>用户登录后，通过界面来设置自动获取 IP。</li> <li>缺点: Linux 启动后，每次自动获取的 IP 地址可能不一样。这个不适用于服务器，因为服务器 IP 是需要固定的。</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432111098-06a27c96-ac38-4931-ba94-692d41c39990.png" alt="img"></p> <h3 id="_2-指定ip地址"><a href="#_2-指定ip地址" class="header-anchor">#</a> （2）指定ip地址</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1615266469485-f04a9b18-77eb-4782-b866-765045b26c49.png" alt="img"></p> <ul><li>通过修改配置文件来指定 IP</li> <li>配置文件根据网卡不同名字有所区别，但文件路径一致：<code>/etc/sysconfig/network-scripts/xxx</code>，常见的配置文件名有 <code>ifcfg-eth0 或者 ifcfg-ens33</code>，可以通过 ifconfig 查看后缀。</li> <li>以 ifcfg-ens33 为例，配置文件需要修改的内容如后面的代码块所示。</li> <li>修改后，<strong>重启网络服务或者重启系统</strong>生效：<strong>service network restart 或者 reboot</strong></li></ul> <p>配置文件修改和添加：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static <span class="token comment"># 静态 IP</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.14.201
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.14.2
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">8.8</span>.8.8
<span class="token assign-left variable">DNS2</span><span class="token operator">=</span><span class="token number">8.8</span>.4.4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_1-5-设置主机名和-hosts-映射"><a href="#_1-5-设置主机名和-hosts-映射" class="header-anchor">#</a> 1.5 设置主机名和 hosts 映射</h2> <p><strong>设置主机名:</strong></p> <ul><li>为了方便记忆，可以给 <code>Linux</code> 系统主机设置主机名，也可以根据需要修改主机名（大数据用到）。</li> <li>使用 hostname 查看当前主机名</li> <li>如需修改在文件 <code>/etc/hostname</code> 编辑即可</li> <li>修改后，重启系统生效</li></ul> <p><strong>设置 hosts 映射:</strong></p> <p>hosts 映射可以使主机名和系统 IP 地址建立映射联系，即通过主机名就可以连接到某个主机系统，省去了 IP 地址的麻烦。</p> <p><strong>hosts 是一个文本文件，用来记录 IP 和 Hostname（主机名）的映射关系。</strong></p> <p>除去 hosts 文件，DNS 是互联网上作为域名和 IP 地址相互映射的一个分布式数据库。Domain Name System 的缩写，翻译过来就是域名系统。</p> <ul><li>Windows：在 C:\Windows\System32\drivers\etc\hosts 文件中指定即可。如192.168.130.23 CentOS-PC</li> <li>Linux：在 /etc/hosts 文件中指定即可。如192.168.100.13 Windows-PC</li></ul> <h2 id="_1-6-应用实例-用户在浏览器输入了www-baidu-com"><a href="#_1-6-应用实例-用户在浏览器输入了www-baidu-com" class="header-anchor">#</a> 1.6 应用实例：用户在浏览器输入了www.baidu.com</h2> <ol><li>浏览器先检查浏览器缓存中有没有该域名解析IP地址，有就先调用这个IP完成解析;如果没有，就检查DNS解析器缓存，如果有直接返回IP完成解析。这两个缓存，可以理解为本地解析器缓存。</li> <li>一般来说，当电脑第一次成功访问某一网站后，在定时间内，浏览器或操作系统会缓存他的IP地址(DNS解析记录) .如在cmd窗口中输入</li></ol> <p>ipconfig /displaydns //DNS域名解析缓存</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>    记录名称. . . . . . . : config.gamedl.qq.com
    记录类型. . . . . . . : 1
    生存时间. . . . . . . : 194
    数据长度. . . . . . . : 4
    部分. . . . . . . . . : 答案
    A (主机)记录  . . . . : 220.194.106.243
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ipconfig /flushdns //手动清理 dns缓存</p> <ol><li>如果本地解析器缓存没有找到对应映射，检查系统中hosts文件中有没有配置对应的域名IP映射，如果有，则完成解析并返回。</li> <li>如果本地DNS解析器缓存和hosts文件中均没有找到对应的IP，则到域名服务DNS进行解析域</li> <li>简易示图：
<img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110162-984b60e2-39c5-46c6-96c6-82b88e00370b.png" alt="img"></li></ol> <h1 id="_2-linux进程管理"><a href="#_2-linux进程管理" class="header-anchor">#</a> 2. Linux进程管理</h1> <h2 id="_2-1-进程介绍"><a href="#_2-1-进程介绍" class="header-anchor">#</a> 2.1 进程介绍</h2> <ul><li>在 Linux 中，每个执行的程序（代码）都称为一个进程。每一个进程都分配一个 ID 号，即进程号，PID。</li> <li>每个进程都可能以两种方式存在的。<strong>前台与后台</strong>，所谓前台进程就是用户目前的屏幕上可以进行操作的。后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行。</li> <li>一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中，直到关机才才结束。</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110574-d9c83abd-9347-403d-bb93-3b37790e379c.png" alt="img"></p> <h2 id="_2-2-ps命令-显示系统进程状态"><a href="#_2-2-ps命令-显示系统进程状态" class="header-anchor">#</a> 2.2 ps命令 – 显示系统进程状态</h2> <p>ps命令是“process status”的缩写，ps命令用于显示当前系统的进程状态。</p> <p>可以搭配kill指令随时中断、删除不必要的程序。</p> <p>ps命令是最基本同时也是非常强大的进程查看命令，使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等，总之大部分信息都是可以通过执行该命令得到的。</p> <p>**语法格式：**ps [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示所有终端机下执行的程序，除了阶段作业领导者之外</th></tr></thead> <tbody><tr><td>a</td> <td>显示现行终端机下的所有程序，包括其他用户的程序</td></tr> <tr><td>-A</td> <td>显示所有程序</td></tr> <tr><td>-c</td> <td>显示CLS和PRI栏位</td></tr> <tr><td>c</td> <td>列出程序时，显示每个程序真正的指令名称，而不包含路径，选项或常驻服务的标示</td></tr> <tr><td>-C &lt;指令名称&gt;</td> <td>指定执行指令的名称，并列出该指令的程序的状况</td></tr> <tr><td>-d</td> <td>显示所有程序，但不包括阶段作业领导者的程序</td></tr> <tr><td>-e</td> <td>此选项的效果和指定”A”选项相同</td></tr> <tr><td>e</td> <td>列出程序时，显示每个程序所使用的环境变量</td></tr> <tr><td>-f</td> <td>显示UID,PPIP,C与STIME栏位</td></tr> <tr><td>f</td> <td>用ASCII字符显示树状结构，表达程序间的相互关系</td></tr> <tr><td>-g &lt;群组名称&gt;</td> <td>此选项的效果和指定”-G”选项相同，当亦能使用阶段作业领导者的名称来指定</td></tr> <tr><td>g</td> <td>显示现行终端机下的所有程序，包括群组领导者的程序</td></tr> <tr><td>-G &lt;群组识别码&gt;</td> <td>列出属于该群组的程序的状况，也可使用群组名称来指定</td></tr> <tr><td>h</td> <td>不显示标题列</td></tr> <tr><td>-H</td> <td>显示树状结构，表示程序间的相互关系</td></tr> <tr><td>-j或j</td> <td>采用工作控制的格式显示程序状况</td></tr> <tr><td>-l或l</td> <td>采用详细的格式来显示程序状况</td></tr> <tr><td>L</td> <td>列出栏位的相关信息</td></tr> <tr><td>-m或m</td> <td>显示所有的执行绪</td></tr> <tr><td>n</td> <td>以数字来表示USER和WCHAN栏位</td></tr> <tr><td>-N</td> <td>显示所有的程序，除了执行ps指令终端机下的程序之外</td></tr> <tr><td>-p &lt;程序识别码&gt;</td> <td>指定程序识别码，并列出该程序的状况</td></tr> <tr><td>p &lt;程序识别码&gt;</td> <td>此选项的效果和指定”-p”选项相同，只在列表格式方面稍有差异</td></tr> <tr><td>r</td> <td>只列出现行终端机正在执行中的程序</td></tr> <tr><td>-s &lt;阶段作业&gt;</td> <td>指定阶段作业的程序识别码，并列出隶属该阶段作业的程序的状况</td></tr> <tr><td>s</td> <td>采用程序信号的格式显示程序状况</td></tr> <tr><td>S</td> <td>列出程序时，包括已中断的子程序资料</td></tr> <tr><td>-t &lt;终端机编号&gt;</td> <td>指定终端机编号，并列出属于该终端机的程序的状况</td></tr> <tr><td>t &lt;终端机编号&gt;</td> <td>此选项的效果和指定”-t”选项相同，只在列表格式方面稍有差异</td></tr> <tr><td>-T</td> <td>显示现行终端机下的所有程序</td></tr> <tr><td>-u &lt;用户识别码&gt;</td> <td>此选项的效果和指定”-U”选项相同</td></tr> <tr><td>u</td> <td>以用户为主的格式来显示程序状况</td></tr> <tr><td>-U &lt;用户识别码&gt;</td> <td>列出属于该用户的程序的状况，也可使用用户名称来指定</td></tr> <tr><td>U &lt;用户名称&gt;</td> <td>列出属于该用户的程序的状况</td></tr> <tr><td>v</td> <td>采用虚拟内存的格式显示程序状况</td></tr> <tr><td>-V或V</td> <td>显示版本信息</td></tr> <tr><td>-w或w</td> <td>采用宽阔的格式来显示程序状况</td></tr> <tr><td>x</td> <td>显示所有程序，不以终端机来区分</td></tr> <tr><td>X</td> <td>采用旧式的Linux i386登陆格式显示程序状况</td></tr> <tr><td>-y</td> <td>配合选项”-l”使用时，不显示F(flag)栏位，并以RSS栏位取代ADDR栏位</td></tr> <tr><td>-- &lt;程序识别码&gt;</td> <td>此选项的效果和指定”p”选项相同</td></tr> <tr><td>--cols &lt;每列字符数&gt;</td> <td>设置每列的最大字符数</td></tr> <tr><td>--columns &lt;每列字符数&gt;</td> <td>此选项的效果和指定”--cols”选项相同</td></tr> <tr><td>--cumulative</td> <td>此选项的效果和指定”S”选项相同</td></tr> <tr><td>--deselect</td> <td>此选项的效果和指定”-N”选项相同</td></tr> <tr><td>--forest</td> <td>此选项的效果和指定”f”选项相同</td></tr> <tr><td>--headers</td> <td>重复显示标题列</td></tr> <tr><td>--help</td> <td>在线帮助</td></tr> <tr><td>--info</td> <td>显示排错信息</td></tr> <tr><td>--lines &lt;显示列数&gt;</td> <td>设置显示画面的列数</td></tr> <tr><td>--no-headers</td> <td>此选项的效果和指定”h”选项相同，只在列表格式方面稍有差异</td></tr> <tr><td>--group &lt;群组名称&gt;</td> <td>此选项的效果和指定”-G”选项相同</td></tr> <tr><td>--Group &lt;群组识别码&gt;</td> <td>此选项的效果和指定”-G”选项相同</td></tr> <tr><td>--pid &lt;程序识别码&gt;</td> <td>此选项的效果和指定”-p”选项相同</td></tr> <tr><td>--rows &lt;显示列数&gt;</td> <td>此选项的效果和指定”--lines”选项相同</td></tr> <tr><td>--sid &lt;阶段作业&gt;</td> <td>此选项的效果和指定”-s”选项相同</td></tr> <tr><td>-tty &lt;终端机编号&gt;</td> <td>此选项的效果和指定”-t”选项相同</td></tr> <tr><td>--user &lt;用户名称&gt;</td> <td>此选项的效果和指定”-U”选项相同</td></tr> <tr><td>--User &lt;用户识别码&gt;</td> <td>此选项的效果和指定”-U”选项相同</td></tr> <tr><td>--version</td> <td>此选项的效果和指定”-V”选项相同</td></tr> <tr><td>--widty &lt;每列字符数&gt;</td> <td>此选项的效果和指定”-cols”选项相同</td></tr></tbody></table> <p><strong>ps打印出来的信息，字段解释如下：</strong></p> <ul><li><p>USER: 进程拥有者</p></li> <li><p>PID: 进程pid号</p></li> <li><p>%CPU: 占用的 CPU 百分比</p></li> <li><p>%MEM: 占用的物理内存百分比</p></li> <li><p>VSZ: 占用的虚拟内存大小，单位：kb（killobytes）</p></li> <li><p>RSS: 占用的物理内存大小，单位：kb（killobytes）</p></li> <li><p>TTY: 终端的次要装置号码 (minor device number of tty)</p></li> <li><p>STAT: 该进程的状态:</p></li> <li><ul><li>D: 不可中断  Uninterruptible sleep (usually IO)</li> <li>R: 正在运行，或在队列中的进程</li> <li>S: 处于休眠状态</li> <li>s: 表示该进程是会话的先导进程</li> <li>T: 被跟踪或者被停止</li> <li>Z: 僵尸进程</li> <li>W: 进入内存交换（从内核2.6开始无效）</li> <li>&lt;: 高优先级的进程</li> <li>N: 低优先级的进程</li> <li>L: 有些页被锁进内存</li> <li>+：位于后台的进程组</li> <li>l :  多线程，克隆线程</li> <li>X: 死掉的进程</li></ul></li> <li><p>START: 进程开始运行的时间</p></li> <li><p>TIME: 进程在cpu上执行的时间总和</p></li> <li><p>NI ： 进程的优先级值，较小的数字意味着占用较少的CPU时间</p></li> <li><p>COMMAND: 进程名，创建该进程需要执行的指令名</p></li> <li><p>PRI： 进程优先级</p></li> <li><p>PPID：父进程ID</p></li> <li><p>WCHAN ： 进程等待的内核事件名</p></li></ul> <p><strong>案例：</strong></p> <p>把所有进程显示出来：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -aux</span>
<span class="token environment constant">USER</span>        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root          <span class="token number">1</span>  <span class="token number">0.0</span>  <span class="token number">0.3</span> <span class="token number">128396</span>  <span class="token number">6684</span> ?        Ss   06:29   <span class="token number">0</span>:04 /usr/lib/syste
root          <span class="token number">2</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>
root          <span class="token number">3</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>
root          <span class="token number">5</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S<span class="token operator">&lt;</span>   06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kworker/0:0H<span class="token punctuation">]</span>
root          <span class="token number">7</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>把所有进程显示出来，并输出到ps.txt文件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -aux &gt; ps.txt</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查找特定进程信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep ssh</span>
root       <span class="token number">8049</span>      <span class="token number">1</span>  <span class="token number">0</span> 06:29 ?        00:00:00 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root       <span class="token number">9258</span>   <span class="token number">9071</span>  <span class="token number">0</span> 06:30 ?        00:00:00 /usr/bin/ssh-agent /bin/sh <span class="token parameter variable">-c</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-l</span> /bin/bash <span class="token parameter variable">-c</span> <span class="token string">&quot;env GNOME_SHELL_SESSION_MODE=classic gnome-session --session gnome-classic&quot;</span>
root      <span class="token number">31869</span>  <span class="token number">24534</span>  <span class="token number">0</span> <span class="token number">16</span>:43 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token function">ssh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>显示指定用户的进程信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -u root</span>
   PID TTY          TIME CMD
     <span class="token number">1</span> ?        00:00:04 systemd
     <span class="token number">2</span> ?        00:00:00 kthreadd
     <span class="token number">3</span> ?        00:00:00 ksoftirqd/0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>按 CPU 资源的使用量对进程进行排序：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps aux | sort -nk 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>按内存资源的使用量对进程进行排序：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps aux | sort -rnk 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>按CPU使用比排序，降序取前十 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps aux --sort=-pcpu | head -10</span>
<span class="token environment constant">USER</span>        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root      <span class="token number">32369</span>  <span class="token number">1.0</span>  <span class="token number">0.1</span> <span class="token number">155744</span>  <span class="token number">2228</span> pts/0    R+   <span class="token number">16</span>:50   <span class="token number">0</span>:00 <span class="token function">ps</span> aux <span class="token parameter variable">--sort</span><span class="token operator">=</span>-pcpu
root       <span class="token number">9309</span>  <span class="token number">0.1</span>  <span class="token number">7.8</span> <span class="token number">3035468</span> <span class="token number">146780</span> ?      Rl   06:30   <span class="token number">1</span>:05 /usr/bin/gnome-shell
root          <span class="token number">1</span>  <span class="token number">0.0</span>  <span class="token number">0.3</span> <span class="token number">128396</span>  <span class="token number">6684</span> ?        Ss   06:29   <span class="token number">0</span>:04 /usr/lib/systemd/systemd --switched-root <span class="token parameter variable">--system</span> <span class="token parameter variable">--deserialize</span> <span class="token number">22</span>
root          <span class="token number">2</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>
root          <span class="token number">3</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>
root          <span class="token number">5</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S<span class="token operator">&lt;</span>   06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>kworker/0:0H<span class="token punctuation">]</span>
root          <span class="token number">7</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>migration/0<span class="token punctuation">]</span>
root          <span class="token number">8</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        S    06:29   <span class="token number">0</span>:00 <span class="token punctuation">[</span>rcu_bh<span class="token punctuation">]</span>
root          <span class="token number">9</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span>      <span class="token number">0</span>     <span class="token number">0</span> ?        R    06:29   <span class="token number">0</span>:01 <span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>按内存使用比排序，降序取前十 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps aux --sort -rss | head -10</span>
<span class="token environment constant">USER</span>        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root       <span class="token number">9309</span>  <span class="token number">0.1</span>  <span class="token number">7.8</span> <span class="token number">3035420</span> <span class="token number">146788</span> ?      Rl   06:30   <span class="token number">1</span>:05 /usr/bin/gnome-shell
root       <span class="token number">9571</span>  <span class="token number">0.0</span>  <span class="token number">4.6</span> <span class="token number">1150012</span> <span class="token number">86556</span> ?       Sl   06:30   <span class="token number">0</span>:03 /usr/bin/gnome-software --gapplication-service
root       <span class="token number">8572</span>  <span class="token number">0.0</span>  <span class="token number">1.8</span> <span class="token number">375800</span> <span class="token number">34560</span> tty1     Ssl+ 06:29   <span class="token number">0</span>:24 /usr/bin/X :0 <span class="token parameter variable">-background</span> none <span class="token parameter variable">-noreset</span> <span class="token parameter variable">-audit</span> <span class="token number">4</span> <span class="token parameter variable">-verbose</span> <span class="token parameter variable">-auth</span> /run/gdm/auth-for-gdm-g7ThGj/database <span class="token parameter variable">-seat</span> seat0 vt1
root      <span class="token number">24524</span>  <span class="token number">0.0</span>  <span class="token number">1.6</span> <span class="token number">850256</span> <span class="token number">30168</span> ?        Sl   <span class="token number">14</span>:49   <span class="token number">0</span>:01 /usr/libexec/gnome-terminal-server
root       <span class="token number">7332</span>  <span class="token number">0.0</span>  <span class="token number">1.5</span> <span class="token number">358460</span> <span class="token number">28104</span> ?        Ssl  06:29   <span class="token number">0</span>:00 /usr/bin/python <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span>
root       <span class="token number">9537</span>  <span class="token number">0.0</span>  <span class="token number">1.3</span> <span class="token number">1025272</span> <span class="token number">24764</span> ?       Sl   06:30   <span class="token number">0</span>:02 nautilus-desktop <span class="token parameter variable">--force</span>
root       <span class="token number">9644</span>  <span class="token number">0.0</span>  <span class="token number">1.2</span> <span class="token number">569588</span> <span class="token number">24052</span> ?        Sl   06:30   <span class="token number">0</span>:24 /usr/bin/vmtoolsd <span class="token parameter variable">-n</span> vmusr
root       <span class="token number">9374</span>  <span class="token number">0.0</span>  <span class="token number">1.1</span> <span class="token number">101566996</span> <span class="token number">21016</span> ?     Sl   06:30   <span class="token number">0</span>:00 /usr/libexec/goa-daemon
root       <span class="token number">9608</span>  <span class="token number">0.0</span>  <span class="token number">1.0</span> <span class="token number">525484</span> <span class="token number">19228</span> ?        Sl   06:30   <span class="token number">0</span>:00 /usr/libexec/tracker-store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>以全格式显示当前所有的进程，也可以查看进程的父进程，父进程符号为 PPID。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -ef</span>
<span class="token environment constant">UID</span>         PID   <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root          <span class="token number">1</span>      <span class="token number">0</span>  <span class="token number">0</span> 06:29 ?        00:00:04 /usr/lib/systemd/systemd <span class="token parameter variable">--swi</span>
root          <span class="token number">2</span>      <span class="token number">0</span>  <span class="token number">0</span> 06:29 ?        00:00:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>
root          <span class="token number">3</span>      <span class="token number">2</span>  <span class="token number">0</span> 06:29 ?        00:00:00 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ps -ef | grep 特定服务：配合 grep 命令，查看特定进程的父进程。比如 ps -ef | grep sshd。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep sshd</span>
root       <span class="token number">8049</span>      <span class="token number">1</span>  <span class="token number">0</span> 06:29 ?        00:00:00 /usr/sbin/sshd <span class="token parameter variable">-D</span>
root      <span class="token number">32763</span>  <span class="token number">32573</span>  <span class="token number">0</span> <span class="token number">16</span>:56 pts/0    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ps -aux | more：配合 more 命令，分屏显示进程信息，便于查看。</p> <h2 id="_2-3-终止进程和杀死进程"><a href="#_2-3-终止进程和杀死进程" class="header-anchor">#</a> 2.3 终止进程和杀死进程</h2> <h3 id="_1-kill命令-杀死进程"><a href="#_1-kill命令-杀死进程" class="header-anchor">#</a> （1）kill命令 – 杀死进程</h3> <p>kill正如这个单词的意思一样，就是杀死。linux系统中kill命令用来删除执行中的程序或工作。</p> <p>kill命令可将指定的信号发送给相应的进程或工作。</p> <p>kill命令默认使用信号为15，用于结束进程或工作。如果进程或工作忽略此信号，则可以使用信号9，强制杀死进程或作业。</p> <p>**语法格式：**kill [参数] [进程号]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-l</th> <th>列出系统支持的信号</th></tr></thead> <tbody><tr><td>-s</td> <td>指定向进程发送的信号</td></tr> <tr><td>-a</td> <td>处理当前进程时不限制命令名和进程号的对应关系</td></tr> <tr><td>-p</td> <td>指定kill命令只打印相关进程的进程号，而不发送任何信号</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>列出系统支持的信号列表：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># kill -l</span>
 <span class="token number">1</span><span class="token punctuation">)</span> SIGHUP	 <span class="token number">2</span><span class="token punctuation">)</span> SIGINT	 <span class="token number">3</span><span class="token punctuation">)</span> SIGQUIT	 <span class="token number">4</span><span class="token punctuation">)</span> SIGILL	 <span class="token number">5</span><span class="token punctuation">)</span> SIGTRAP
 <span class="token number">6</span><span class="token punctuation">)</span> SIGABRT	 <span class="token number">7</span><span class="token punctuation">)</span> SIGBUS	 <span class="token number">8</span><span class="token punctuation">)</span> SIGFPE	 <span class="token number">9</span><span class="token punctuation">)</span> SIGKILL	<span class="token number">10</span><span class="token punctuation">)</span> SIGUSR1
<span class="token number">11</span><span class="token punctuation">)</span> SIGSEGV	<span class="token number">12</span><span class="token punctuation">)</span> SIGUSR2	<span class="token number">13</span><span class="token punctuation">)</span> SIGPIPE	<span class="token number">14</span><span class="token punctuation">)</span> SIGALRM	<span class="token number">15</span><span class="token punctuation">)</span> SIGTERM
<span class="token number">16</span><span class="token punctuation">)</span> SIGSTKFLT	<span class="token number">17</span><span class="token punctuation">)</span> SIGCHLD	<span class="token number">18</span><span class="token punctuation">)</span> SIGCONT	<span class="token number">19</span><span class="token punctuation">)</span> SIGSTOP	<span class="token number">20</span><span class="token punctuation">)</span> SIGTSTP
<span class="token number">21</span><span class="token punctuation">)</span> SIGTTIN	<span class="token number">22</span><span class="token punctuation">)</span> SIGTTOU	<span class="token number">23</span><span class="token punctuation">)</span> SIGURG	<span class="token number">24</span><span class="token punctuation">)</span> SIGXCPU	<span class="token number">25</span><span class="token punctuation">)</span> SIGXFSZ
<span class="token number">26</span><span class="token punctuation">)</span> SIGVTALRM	<span class="token number">27</span><span class="token punctuation">)</span> SIGPROF	<span class="token number">28</span><span class="token punctuation">)</span> SIGWINCH	<span class="token number">29</span><span class="token punctuation">)</span> SIGIO	<span class="token number">30</span><span class="token punctuation">)</span> SIGPWR
<span class="token number">31</span><span class="token punctuation">)</span> SIGSYS	<span class="token number">34</span><span class="token punctuation">)</span> SIGRTMIN	<span class="token number">35</span><span class="token punctuation">)</span> SIGRTMIN+1	<span class="token number">36</span><span class="token punctuation">)</span> SIGRTMIN+2	<span class="token number">37</span><span class="token punctuation">)</span> SIGRTMIN+3
<span class="token number">38</span><span class="token punctuation">)</span> SIGRTMIN+4	<span class="token number">39</span><span class="token punctuation">)</span> SIGRTMIN+5	<span class="token number">40</span><span class="token punctuation">)</span> SIGRTMIN+6	<span class="token number">41</span><span class="token punctuation">)</span> SIGRTMIN+7	<span class="token number">42</span><span class="token punctuation">)</span> SIGRTMIN+8
<span class="token number">43</span><span class="token punctuation">)</span> SIGRTMIN+9	<span class="token number">44</span><span class="token punctuation">)</span> SIGRTMIN+10	<span class="token number">45</span><span class="token punctuation">)</span> SIGRTMIN+11	<span class="token number">46</span><span class="token punctuation">)</span> SIGRTMIN+12	<span class="token number">47</span><span class="token punctuation">)</span> SIGRTMIN+13
<span class="token number">48</span><span class="token punctuation">)</span> SIGRTMIN+14	<span class="token number">49</span><span class="token punctuation">)</span> SIGRTMIN+15	<span class="token number">50</span><span class="token punctuation">)</span> SIGRTMAX-14	<span class="token number">51</span><span class="token punctuation">)</span> SIGRTMAX-13	<span class="token number">52</span><span class="token punctuation">)</span> SIGRTMAX-12
<span class="token number">53</span><span class="token punctuation">)</span> SIGRTMAX-11	<span class="token number">54</span><span class="token punctuation">)</span> SIGRTMAX-10	<span class="token number">55</span><span class="token punctuation">)</span> SIGRTMAX-9	<span class="token number">56</span><span class="token punctuation">)</span> SIGRTMAX-8	<span class="token number">57</span><span class="token punctuation">)</span> SIGRTMAX-7
<span class="token number">58</span><span class="token punctuation">)</span> SIGRTMAX-6	<span class="token number">59</span><span class="token punctuation">)</span> SIGRTMAX-5	<span class="token number">60</span><span class="token punctuation">)</span> SIGRTMAX-4	<span class="token number">61</span><span class="token punctuation">)</span> SIGRTMAX-3	<span class="token number">62</span><span class="token punctuation">)</span> SIGRTMAX-2
<span class="token number">63</span><span class="token punctuation">)</span> SIGRTMAX-1	<span class="token number">64</span><span class="token punctuation">)</span> SIGRTMAX
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>查找进程，并用kill杀掉 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ps</span>
   PID TTY          TIME CMD
 <span class="token number">32573</span> pts/0    00:00:00 <span class="token function">bash</span>
 <span class="token number">33026</span> pts/0    00:00:00 <span class="token function">ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查看bash的进程ID为32573，然后输入如下内容杀掉进程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># kill -9 32573</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>常用实例</p> <ul><li>踢掉某个非法登录用户：ps -aux | grep sshd 查看登录用户的进程号，然后 kill 登录用户的进程号。</li> <li>终止远程登录服务 sshd，在适当时候再次重启 sshd 服务：kill sshd对应的进程号，再运行 /bin/systemctl start sshd.service</li> <li>终止多个 gedit 编辑器：killall gedit。</li> <li>强制杀掉一个终端：kill -9 bash对应的进程号</li></ul> <h3 id="_2-killall命令-使用进程名称来杀死一组进程"><a href="#_2-killall命令-使用进程名称来杀死一组进程" class="header-anchor">#</a> （2）killall命令 – 使用进程名称来杀死一组进程</h3> <p>killall命令使用进程的名称来杀死进程，使用此指令可以杀死一组同名进程。</p> <p>我们可以使用kill命令杀死指定进程PID的进程，如果要找到我们需要杀死的进程，我们还需要在之前使用ps等命令再配合grep来查找进程，而killall把这两个过程合二为一，是一个很好用的命令。</p> <p><strong>语法格式</strong>：killall [参数]</p> <p><strong>常用参数</strong>：</p> <table><thead><tr><th>-e</th> <th>对长名称进行精确匹配</th></tr></thead> <tbody><tr><td>-l</td> <td>打印所有已知信号列表</td></tr> <tr><td>-p</td> <td>杀死进程所属的进程组</td></tr> <tr><td>-i</td> <td>交互式杀死进程，杀死进程前需要进行确认</td></tr> <tr><td>-r</td> <td>使用正规表达式匹配要杀死的进程名称</td></tr> <tr><td>-s</td> <td>用指定的进程号代替默认信号“SIGTERM”</td></tr> <tr><td>-u</td> <td>杀死指定用户的进程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>杀死httpd所有进程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># killall -9 httpd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用-l参数打印所有已知信号列表:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># killall -l</span>
HUP INT QUIT ILL TRAP ABRT IOT BUS FPE KILL USR1 SEGV USR2 PIPE ALRM <span class="token environment constant">TERM</span>
STKFLT CHLD CONT STOP TSTP TTIN TTOU URG XCPU XFSZ VTALRM PROF WINCH IO PWR SYS
UNUSED
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_2-4-pstree命令-以树状图显示进程"><a href="#_2-4-pstree命令-以树状图显示进程" class="header-anchor">#</a> 2.4 pstree命令 – 以树状图显示进程</h2> <p>Linux系统中pstree命令的英文全称是“process tree”，即将所有进程以树状图显示，树状图将会以 pid (如果有指定) 或是以 init 这个基本进程为根 (root)，如果有指定使用者 id，则树状图会只显示该使用者所拥有的进程。</p> <p><strong>语法格式：</strong> pstree [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示每个程序的完整指令，包含路径，参数或是常驻服务的标示</th></tr></thead> <tbody><tr><td>-c</td> <td>不使用精简标示法</td></tr> <tr><td>-G</td> <td>使用VT100终端机的列绘图字符</td></tr> <tr><td>-h</td> <td>列出树状图时，特别标明现在执行的程序</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>显示当前所有进程的id：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># pstree -p</span>
systemd<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>─┬─ModemManager<span class="token punctuation">(</span><span class="token number">7256</span><span class="token punctuation">)</span>─┬─<span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">7272</span><span class="token punctuation">)</span>
           │                    └─<span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">7277</span><span class="token punctuation">)</span>
           ├─NetworkManager<span class="token punctuation">(</span><span class="token number">7394</span><span class="token punctuation">)</span>─┬─dhclient<span class="token punctuation">(</span><span class="token number">30958</span><span class="token punctuation">)</span>
           │                      ├─<span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">7412</span><span class="token punctuation">)</span>
           │                      └─<span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">7419</span><span class="token punctuation">)</span>
           ├─VGAuthService<span class="token punctuation">(</span><span class="token number">7242</span><span class="token punctuation">)</span>
           ├─abrt-dbus<span class="token punctuation">(</span><span class="token number">33591</span><span class="token punctuation">)</span>─┬─<span class="token punctuation">{</span>abrt-dbus<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">33592</span><span class="token punctuation">)</span>
           │                  ├─<span class="token punctuation">{</span>abrt-dbus<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">33593</span><span class="token punctuation">)</span>
           │                  └─<span class="token punctuation">{</span>abrt-dbus<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">33594</span><span class="token punctuation">)</span>
<span class="token comment"># 省略……</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>显示所有进程的用户:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># pstree  -u</span>
        ├─avahi-daemon<span class="token punctuation">(</span>avahi<span class="token punctuation">)</span>───avahi-daemon
        ├─bluetoothd
        ├─boltd───2*<span class="token punctuation">[</span><span class="token punctuation">{</span>boltd<span class="token punctuation">}</span><span class="token punctuation">]</span>
        ├─chronyd<span class="token punctuation">(</span>chrony<span class="token punctuation">)</span> <span class="token comment"># 这个进程的用户为chrony</span>
        ├─colord<span class="token punctuation">(</span>colord<span class="token punctuation">)</span>───2*<span class="token punctuation">[</span><span class="token punctuation">{</span>colord<span class="token punctuation">}</span><span class="token punctuation">]</span>
        ├─crond
        ├─cupsd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2-5-服务管理"><a href="#_2-5-服务管理" class="header-anchor">#</a> 2.5 服务管理</h2> <p>​	服务本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysql、sshd、防火墙等)，我们将这样的进程称为<strong>守护进程</strong>，是 Linux 中非常重要的知识点。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110822-a7e68fff-5364-48ca-919d-072b50c8df12.png" alt="img"></p> <h3 id="_1-service命令-控制系统服务"><a href="#_1-service命令-控制系统服务" class="header-anchor">#</a> （1）service命令 – 控制系统服务</h3> <p>service命令是Redhat Linux兼容的发行版中用来控制系统服务的实用工具，它以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。</p> <ul><li>service 服务名 [start | stop | restart | reload | status]</li> <li>在 CentOS 7.0 后 不再使用 service ,而是 systemctl。</li> <li>service 指令管理的服务在 /etc/init.d 查看，即 <code>ls -l /etc/init.d</code> 命令。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 显示所有服务的状态：</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service --status-all</span>
未加载 netconsole 模块
已配置设备：
lo ens33
当前活跃设备：
lo ens33 virbr0
vmware-guestd is not running
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/init.d</span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">11</span> <span class="token number">2</span>月  <span class="token number">19</span> <span class="token number">15</span>:35 /etc/init.d -<span class="token operator">&gt;</span> rc.d/init.d
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service network status</span>
已配置设备：
lo ens33
当前活跃设备：
lo ens33 virbr0
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service network stop</span>
Stopping network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:                          <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service network status</span>
已配置设备：
lo ens33
当前活跃设备：
ens33 virbr0 <span class="token comment"># lo没了</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service network start</span>
Starting network <span class="token punctuation">(</span>via systemctl<span class="token punctuation">)</span>:                          <span class="token punctuation">[</span>  确定  <span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># service network status</span>
已配置设备：
lo ens33
当前活跃设备：
lo ens33 virbr0 <span class="token comment"># lo回来了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="_2-setup命令-系统管理工具"><a href="#_2-setup命令-系统管理工具" class="header-anchor">#</a> （2）setup命令 – 系统管理工具</h3> <p>setup命令是一个基于文本界面的系统管理工具，集成了用户认证管理、防火墙管理、网络管理和系统服务管理。</p> <p>**语法格式：**setup</p> <p><strong>setup面板具体说明：</strong></p> <table><thead><tr><th>Authentication configuration</th> <th>用户管理认证</th></tr></thead> <tbody><tr><td>Firewall configuration</td> <td>防火墙管理</td></tr> <tr><td>Network configuration</td> <td>网络管理</td></tr> <tr><td>System services</td> <td>系统服务自动启动管理</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>进入setup管理界面：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># setup</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110077-49563562-bcb8-4ca8-9a75-30598dea1787.png" alt="img"></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432111003-4b59080e-d562-476b-b1a1-2ef1122daa28.png" alt="img"></p> <p>带星号的是开机自启动的服务，tab键+上下选择，空格键加<em>或取消</em>号。</p> <p>使用setup命令配置网络信息：</p> <ol><li>选择 Network configuration 选项</li> <li>选择Device configuration 选项</li> <li>选择eth0网络接口，选择save即可</li></ol> <h3 id="_3-服务的运行级别"><a href="#_3-服务的运行级别" class="header-anchor">#</a> （3）服务的运行级别</h3> <p>Linux 系统有7种运行级别（runlevel）：常用的是级别3和5。</p> <ul><li><p>运行级别 0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动。</p></li> <li><p>运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆。</p></li> <li><p>运行级别 2：多用户状态(没有 NFS)，不支持网络。</p></li> <li><p>运行级别 3：完全的多用户状态(有 NFS)，登陆后进入控制台命令行模式。</p></li> <li><p>运行级别 4：系统未使用，保留。</p></li> <li><p>运行级别 5：X11 控制台，登陆后进入图形 GUI 模式</p></li> <li><p>运行级别 6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动。</p></li> <li><p>CentOS 7后运行级别说明</p></li> <li><ul><li>在 /etc/initab 进行了简化，multi-user.target 等同于运行级别3，graphical.target 等同于运行级别5。</li> <li>systemctl get-default：获取当前的运行级别；</li> <li>systemctl set-default multi-user.target：将默认运行级别设置为 mulit-user。</li></ul></li></ul> <h3 id="_4-chkconfig命令-检查与设置系统的各种服务"><a href="#_4-chkconfig命令-检查与设置系统的各种服务" class="header-anchor">#</a> （4）chkconfig命令 – 检查与设置系统的各种服务</h3> <p><strong>通过 chkconfig 命令可以为每个服务在各个运行级别设置自启动/关闭，此处的服务是指 service 指令管理的服务，在 /etc/init.d 查看，即 ls -l /etc/init.d 命令。</strong></p> <p>chkconfig 重新设置服务自启动或关闭后，需要重启机器才能生效。</p> <p>注意：CentOS 7.0之后，很多服务使用 systemctl 管理。</p> <p>这是Red Hat公司遵循GPL规则所开发的程序，它可查询操作系统在每一个执行等级中会执行哪些系统服务，其中包括各类常驻服务。</p> <p>**语法格式：**chkconfig [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>--add</th> <th>增加所指定的系统服务，让chkconfig指令得以管理它，并同时在系统启动的叙述文件内增加相关数据</th></tr></thead> <tbody><tr><td>--del</td> <td>删除所指定的系统服务，不再由chkconfig指令管理，并同时在系统启动的叙述文件内删除相关数据</td></tr> <tr><td>--level</td> <td>指定读系统服务要在哪一个执行等级中开启或关毕</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看每个服务在各个运行级别的自启动状态：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 <span class="token string">'systemctl list-unit-files'</span>。
      查看在具体 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
vmware-tools   	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
<span class="token comment"># grep过滤查找</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list | grep network</span>

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 <span class="token string">'systemctl list-unit-files'</span>。
      查看在具体 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>开启服务：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig telnet on</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>关闭服务：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig telnet off</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>增加httpd服务：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig –-add httpd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除httpd服务：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig –-del httpd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>指定读系统服务要在哪一个执行等级中开启或关毕：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 <span class="token string">'systemctl list-unit-files'</span>。
      查看在具体 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
vmware-tools   	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --level 3 network off</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 <span class="token string">'systemctl list-unit-files'</span>。
      查看在具体 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:关	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
vmware-tools   	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --level 3 network on</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注：该输出结果只显示 SysV 服务，并不包含
原生 systemd 服务。SysV 配置数据
可能被原生 systemd 配置覆盖。 

      要列出 systemd 服务，请执行 <span class="token string">'systemctl list-unit-files'</span>。
      查看在具体 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
vmware-tools   	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_5-systemctl命令-管理系统服务"><a href="#_5-systemctl命令-管理系统服务" class="header-anchor">#</a> （5）systemctl命令 – 管理系统服务</h3> <p>Centos7之后从init完全换成了systemd的启动方式，systemd 启动服务的机制主要是通过 systemctl 的这个系统服务管理指令来处理。</p> <p>systemctl在用法上也囊括 service / chkconfig / setup / init 的大部分功能。</p> <p><strong>语法格式</strong>：systemctl [参数] [服务]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-start</th> <th>启动服务</th></tr></thead> <tbody><tr><td>-stop</td> <td>停止服务</td></tr> <tr><td>-restart</td> <td>重启服务</td></tr> <tr><td>-enable</td> <td>使某服务开机自启</td></tr> <tr><td>-disable</td> <td>关闭某服务开机自启</td></tr> <tr><td>-status</td> <td>查看服务状态</td></tr> <tr><td>-list -units --type=service</td> <td>列举所有已启动服务</td></tr></tbody></table> <p><strong>参考实例</strong></p> <ul><li><p>基本语法</p></li> <li><ul><li>systemctl [start | stop | restart | status | enable | disable] 服务名</li> <li>service 指令管理的服务在 /usr/lib/systemd/system 查看，即 ls -l /usr/lib/systemd/system 命令。</li></ul></li> <li><p>systemctl 设置服务自启动状态</p></li> <li><ul><li>systemctl list-unit-files| grep 服务名：查看服务开机启动状态，使用 grep 进行过滤。</li> <li>systemctl enable 服务名：设置服务开机自启动。</li> <li>systemctl disenable 服务名：关闭服务开机自启动。</li> <li>systemctl is-enable 服务名：查询某个服务是否开机自启动。</li></ul></li> <li><p>应用案例
查看当前防火墙的状况，关闭防火墙和重启防火墙。</p></li> <li><ul><li>使用 ls -l /usr/lib/systemd/system 命令查看防火墙服务名为 firewalld.service。</li> <li>systemctl status firewalld</li> <li>systemctl stop firewalld</li> <li>systemctl start firewalld</li></ul></li> <li><p>细节讨论</p></li> <li><ul><li>关闭或启用防火墙后，立即生效。</li> <li>这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。</li> <li>如果设置某个服务自启动或关闭永久生效，要使用 systemctl [enable/disable] 服务名。</li></ul></li></ul> <h3 id="_6-firewall-cmd命令-防火墙管理器"><a href="#_6-firewall-cmd命令-防火墙管理器" class="header-anchor">#</a> （6）firewall-cmd命令 – 防火墙管理器</h3> <p>firewall-cmd提供了一个动态管理的防火墙，支持网络/防火墙区域来定义网络连接或接口的信任级别。它支持IPv4、IPv6防火墙设置和以太网网桥，并将运行时和永久配置选项分开。它还支持服务或应用程序直接添加防火墙规则的接口。</p> <p>使用firewalld的好处可以在运行时环境中立即进行更改，不需要重新启动服务或守护程序；使用firewalld D-Bus接口，服务，应用程序和用户都可以轻松调整防火墙设置。界面完整，用于防火墙配置工具firewall-cmd，firewall-config和firewall-applet。</p> <p>在真正的生产环境，往往需要将防火墙打开。但如果把防火墙打开，那么外部请求数据包就不能跟服务器监听端口通讯。这时，需要打开指定的端口。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110372-5e5946f2-2cb8-49b2-9cae-1cf92f1f11bd.png" alt="img"></p> <p><strong>语法格式</strong>：firewalld-cmd [参数]</p> <p><strong>常用参数</strong>：</p> <table><thead><tr><th>--state</th> <th>显示当前服务运行状态</th></tr></thead> <tbody><tr><td>--zone=public --list-ports</td> <td>查看所有打开运行的端口</td></tr> <tr><td>--reload</td> <td>不重启立即加载</td></tr> <tr><td>--list-all-zones</td> <td>查看区域信息情况</td></tr> <tr><td>--panic-on</td> <td>拒绝所有包</td></tr> <tr><td>--panic-off</td> <td>取消拒绝状态</td></tr> <tr><td>--query-panic</td> <td>查看是否拒绝</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>查看当前ffirewalld服务运行状态：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --state</span>
running
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看所有放行的端口：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 sbin<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --zone=public --list-ports</span>
<span class="token number">8080</span>/tcp <span class="token number">80</span>/tcp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看所有端口信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 查看所有端口信息</span>
<span class="token punctuation">[</span>root@centos7601 sbin<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --list-all</span>
public <span class="token punctuation">(</span>active<span class="token punctuation">)</span>
  target: default
  icmp-block-inversion: no
  interfaces: ens33
  sources: 
  services: <span class="token function">ssh</span> dhcpv6-client
  ports: <span class="token number">8080</span>/tcp <span class="token number">80</span>/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules: 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>重新加载修改的配置，不重启服务：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span>
success
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看所有规则区域配置信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --list-all-zones</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>扩展：</strong></p> <ul><li><p>firewall 指令</p></li> <li><ul><li>打开端口：firewall-cmd --permanent --add-port=端口号/协议</li> <li>关闭端口：firewall-cmd --permanent --remove-port=端口号/协议</li> <li>重新载入，才能生效：firewall-cmd --reload</li> <li>查询端口是否开放：firewall-cmd --query-port=端口号/协议</li> <li>端口号和协议可以通过 netstat 进行监听</li></ul></li> <li><p>应用案例</p></li> <li><ul><li>启用防火墙，测试111端口能否 telnet，不能</li> <li>开放111端口：firewall-cmd --permanent --add-port=111/tcp；firewall-cmd --reload</li> <li>再次关闭111端口：firewall-cmd --permanent --remove-port=111/tcp；firewall-cmd --reload</li></ul></li></ul> <h2 id="_2-6-top命令-实时显示进程动态"><a href="#_2-6-top命令-实时显示进程动态" class="header-anchor">#</a> 2.6 top命令 – 实时显示进程动态</h2> <p>top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，常用于服务端性能分析。</p> <p>在top命令中按f按可以查看显示的列信息，按对应字母来开启/关闭列，大写字母表示开启，小写字母表示关闭。带*号的是默认列。</p> <p>更多信息可参考：https://www.cnblogs.com/zhoug2020/p/6336453.html</p> <p>**语法格式：**top [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-d</th> <th>改变显示的更新速度，或是在交谈式指令列( interactive command)按 s</th></tr></thead> <tbody><tr><td>-q</td> <td>没有任何延迟的显示速度，如果使用者是有 superuser 的权限，则 top 将会以最高的优先序执行</td></tr> <tr><td>-c</td> <td>切换显示模式</td></tr> <tr><td>-s</td> <td>安全模式，将交谈式指令取消, 避免潜在的危机</td></tr> <tr><td>-i</td> <td>不显示任何闲置 (idle) 或无用 (zombie) 的行程</td></tr> <tr><td>-n</td> <td>更新的次数，完成后将会退出 top</td></tr> <tr><td>-b</td> <td>批次档模式，搭配 “n” 参数一起使用，可以用来将 top 的结果输出到档案内</td></tr> <tr><td>-p</td> <td>通过指定监控进程 ID 来仅仅监控某个进程的状态。</td></tr></tbody></table> <p><strong>应用实例:</strong></p> <ul><li>监视特定用户：输入 top 命令，查看执行的进程，然后输入 u 回车，再输入用户名。</li> <li>终止指定的进程：输入 top 命令，查看执行的进程，然后输入 k 回车，再输入要结束的进程 PID 号。</li></ul> <p><strong>交互操作：</strong></p> <table><thead><tr><th>操作</th> <th>功能</th></tr></thead> <tbody><tr><td>P</td> <td>以CPU使用率排序,默认就是此项</td></tr> <tr><td>M</td> <td>以内存的使用率排序</td></tr> <tr><td>N</td> <td>以PID排序</td></tr> <tr><td>q</td> <td>退出top</td></tr></tbody></table> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110339-d85f6e5d-115c-455f-a945-f01f8aec4ee8.png" alt="img"></p> <p>21:45:11 — 当前系统时间
0 days, 4:54 — 系统已经运行了4小时54分钟（在这期间没有重启过）
2 users — 当前有2个用户登录系统
load average:0.24, 0.15, 0.19 — load average后面的三个数分别是5分钟、10分钟、15分钟的负载情况。</p> <p>Tasks — 任务（进程），系统现在共有144个进程，其中处于运行中的有1个，143个在休眠（sleep），stoped状态的有0个，zombie状态（僵尸）的有0个。</p> <p>物理内存：</p> <p>509248k total — 物理内存总量（509M）
495964k used — 使用中的内存总量（495M）
13284k free — 空闲内存总量（13M）
25364k buffers — 缓存的内存量 （25M）</p> <p>内存显示可以用'm'命令切换。</p> <p>swap交换分区：
492536k total — 交换区总量（492M）
11856k used — 使用的交换区总量（11M）
480680k free — 空闲交换区总量（480M）
202224k cached — 缓冲的交换区总量（202M）</p> <p>CPU：</p> <p>1.3% us — 用户空间占用CPU的百分比。
1.0% sy — 内核空间占用CPU的百分比。
0.0% ni — 改变过优先级的进程占用CPU的百分比
97.3% id — 空闲CPU百分比
0.0% wa — IO等待占用CPU的百分比
0.3% hi — 硬中断（Hardware IRQ）占用CPU的百分比
0.0% si — 软中断（Software Interrupts）占用CPU的百分比</p> <p>表格字段属性意义：</p> <p>PID：进程ID，进程的唯一标识符</p> <p>USER：进程所有者的实际用户名。</p> <p>PR：进程的调度优先级。这个字段的一些值是'rt'。这意味这这些进程运行在实时态。</p> <p>NI：进程的nice值（优先级）。越小的值意味着越高的优先级。负值表示高优先级，正值表示低优先级</p> <p>VIRT：进程使用的虚拟内存。进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</p> <p>RES：驻留内存大小。驻留内存是任务使用的非交换物理内存大小。进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</p> <p>SHR：SHR是进程使用的共享内存。共享内存大小，单位kb</p> <p>S：这个是进程的状态。它有以下不同的值:</p> <ul><li>D - 不可中断的睡眠态。</li> <li>R – 运行态</li> <li>S – 睡眠态</li> <li>T – 被跟踪或已停止</li> <li>Z – 僵尸态</li></ul> <p>%CPU：自从上一次更新时到现在任务所使用的CPU时间百分比。</p> <p>%MEM：进程使用的可用物理内存百分比。</p> <p>TIME+：任务启动后到现在所使用的全部CPU时间，精确到百分之一秒。</p> <p>COMMAND：运行进程所使用的命令。进程名称（命令名/命令行）</p> <h2 id="_2-7-netstat命令-实时显示网络状态"><a href="#_2-7-netstat命令-实时显示网络状态" class="header-anchor">#</a> 2.7 netstat命令 – 实时显示网络状态</h2> <p>netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p> <p>从整体上看，netstat的输出结果可以分为两个部分：一个是Active Internet connections，称为有源TCP连接，其中”Recv-Q”和”Send-Q”指的是接收队列和发送队列收到的信息。这些数字一般都应该是0。如果不是则表示软件包正在队列中堆积。这种情况只能在非常少的情况见到；另一个是Active UNIX domain sockets，称为有源Unix域套接口(和网络套接字一样，但是只能用于本机通信，性能可以提高一倍)。</p> <p>**语法格式：**netstat [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>显示所有连线中的Socket</th></tr></thead> <tbody><tr><td>-p</td> <td>显示正在使用Socket的程序识别码和程序名称</td></tr> <tr><td>-u</td> <td>显示UDP传输协议的连线状况</td></tr> <tr><td>-i</td> <td>显示网络界面信息表单</td></tr> <tr><td>-n</td> <td>直接使用IP地址，不通过域名服务器</td></tr> <tr><td>-l</td> <td>显示监听的套接口</td></tr></tbody></table> <p><strong>打印字段解释：</strong></p> <ul><li>Proto：进程协议</li> <li>Recv-Q：接受队列</li> <li>Send-Q：发送队列</li> <li>Local Address： Linux本地监听地址和端口</li> <li>Foreign Address：远程连接本地Linux的地址和端口</li> <li>State：端口监听状态</li> <li>PID/Program name  ：进程ID/程序名</li></ul> <p><strong>参考实例</strong></p> <p>信息太多可以使用less翻页</p> <p>显示UDP端口号的使用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># tcp为  netstat -apt |less</span>
<span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># netstat -apu |less</span>
Active Internet connections <span class="token punctuation">(</span>servers and established<span class="token punctuation">)</span>
Proto Recv-Q Send-Q Local Address  Foreign Address  State  PID/Program name    
udp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:bootpc          <span class="token number">0.0</span>.0.0:*      <span class="token number">4000</span>/dhclient       
udp        <span class="token number">0</span>      <span class="token number">0</span> localhost:323           <span class="token number">0.0</span>.0.0:*      <span class="token number">3725</span>/chronyd        
udp6       <span class="token number">0</span>      <span class="token number">0</span> localhost:323           <span class="token punctuation">[</span>::<span class="token punctuation">]</span>:*         <span class="token number">3725</span>/chronyd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>显示网卡列表：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># netstat -i |less</span>
Kernel Interface table
Iface             MTU    RX-OK RX-ERR RX-DRP RX-OVR    TX-OK TX-ERR TX-DRP TX-OVR Flg
ens33            <span class="token number">1500</span>     <span class="token number">6183</span>      <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0</span>          <span class="token number">2223</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> BMRU
lo              <span class="token number">65536</span>       <span class="token number">36</span>      <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0</span>            <span class="token number">36</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> LRU
virbr0           <span class="token number">1500</span>        <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0</span>             <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span>      <span class="token number">0</span> BMU
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>显示组播组的关系：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># netstat -g |less</span>
IPv6/IPv4 Group Memberships Interface    
RefCnt Group 
--------------- ------ --------------------- 
lo        <span class="token number">1</span>   ALL-SYSTEMS.MCAST.NET 
eth0      <span class="token number">1</span>   ALL-SYSTEMS.MCAST.NET lo       <span class="token number">1</span>   ff02::1 
eth0      <span class="token number">1</span>   ff02::1:ff0a:b0c eth0          <span class="token number">1</span>   ff02::1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>查看服务名为 sshd 服务的信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># netstat -anp | grep sshd</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:22              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">8049</span>/sshd           
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::22                   :::*                    LISTEN      <span class="token number">8049</span>/sshd           
unix  <span class="token number">3</span>      <span class="token punctuation">[</span> <span class="token punctuation">]</span>         STREAM     CONNECTED     <span class="token number">44075</span>    <span class="token number">8049</span>/sshd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>查看端口情况：</strong></p> <p>netstat -tunlp 用于显示 tcp，udp 的端口和进程等相关情况。</p> <p>netstat 查看端口占用语法格式：</p> <p>netstat -tunlp | grep 端口号</p> <ul><li>-t (tcp) 仅显示tcp相关选项</li> <li>-u (udp)仅显示udp相关选项</li> <li>-n 拒绝显示别名，能显示数字的全部转化为数字</li> <li>-l 仅列出在Listen(监听)的服务状态</li> <li>-p 显示建立相关链接的程序名</li></ul> <p>例如查看 8000 端口的情况，使用以下命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># netstat -tunlp | grep 8000</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:8000            <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">26993</span>/nodejs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>更多命令：</p> <p>netstat -ntlp  //查看当前所有tcp端口</p> <p>netstat -ntulp | grep 80  //查看所有80端口使用情况</p> <p>netstat -ntulp | grep 3306  //查看所有3306端口使用情况</p> <p>显示网络统计信息:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># netstat -s | less</span>
Ip:
    <span class="token number">5361</span> total packets received
    <span class="token number">0</span> forwarded
    <span class="token number">0</span> incoming packets discarded
    <span class="token number">1293</span> incoming packets delivered
    <span class="token number">1869</span> requests sent out
    <span class="token number">7</span> outgoing packets dropped
Icmp:
    <span class="token number">18</span> ICMP messages received
    <span class="token number">0</span> input ICMP message failed.
    ICMP input histogram:
        destination unreachable: <span class="token number">18</span>
    <span class="token number">72</span> ICMP messages sent
    <span class="token number">0</span> ICMP messages failed
    ICMP output histogram:
        destination unreachable: <span class="token number">72</span>
IcmpMsg:
        InType3: <span class="token number">18</span>
        OutType3: <span class="token number">72</span>
Tcp:
    <span class="token number">23</span> active connections openings
    <span class="token number">0</span> passive connection openings
    <span class="token number">6</span> failed connection attempts
<span class="token comment"># 省略……</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>关于Local Address  和 Foreign Address可参考下图理解：</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432111194-bdf064fc-2699-4281-a844-41dda62faf7c.png" alt="img"></p> <h2 id="_2-8-lsof命令-查看文件的进程信息-可用于查看端口是否被占用"><a href="#_2-8-lsof命令-查看文件的进程信息-可用于查看端口是否被占用" class="header-anchor">#</a> 2.8 lsof命令 – 查看文件的进程信息（可用于查看端口是否被占用）</h2> <p>lsof(list open files)是一个列出当前系统打开文件的工具。</p> <p>lsof 查看端口占用语法格式：</p> <p><strong>lsof</strong> <strong>-<strong><strong>i</strong></strong>:端口号</strong></p> <p>查看服务器 8000 端口的占用情况：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># lsof -i:8000</span>
COMMAND   PID <span class="token environment constant">USER</span>   FD   TYPE   DEVICE SIZE/OFF NODE NAME
nodejs  <span class="token number">26993</span> root   10u  IPv4 <span class="token number">37999514</span>      0t0  TCP *:8000 <span class="token punctuation">(</span>LISTEN<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以看到 8000 端口已经被轻 nodejs 服务占用。</p> <p>lsof -i 需要 root 用户的权限来执行，如下图：</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614509300625-a9bbb942-b1bb-40ca-acf8-29ed7f1b1051.png" alt="img"></p> <p>更多 lsof 的命令如下：</p> <p>lsof -i:8080：查看8080端口占用</p> <p>lsof abc.txt：显示开启文件abc.txt的进程</p> <p>lsof -c abc：显示abc进程现在打开的文件</p> <p>lsof -c -p 1234：列出进程号为1234的进程所打开的文件</p> <p>lsof -g gid：显示归属gid的进程情况</p> <p>lsof +d /usr/local/：显示目录下被进程开启的文件</p> <p>lsof +D /usr/local/：同上，但是会搜索目录下的目录，时间较长</p> <p>lsof -d 4：显示使用fd为4的进程</p> <p>lsof -i -U：显示所有打开的端口和UNIX domain文件</p> <p>更多内容可参考：</p> <p>https://www.runoob.com/w3cnote/linux-check-port-usage.html</p> <p>https://www.linuxcool.com/lsof</p> <h1 id="_3-rpm与yum"><a href="#_3-rpm与yum" class="header-anchor">#</a> 3. rpm与yum</h1> <h2 id="_3-1-rpm命令-rpm软件包管理器"><a href="#_3-1-rpm命令-rpm软件包管理器" class="header-anchor">#</a> 3.1 rpm命令 – RPM软件包管理器</h2> <p>rpm命令是Red-Hat Package Manager（RPM软件包管理器）的缩写， 该命令用于管理Linux 下软件包的软件。</p> <p>在 Linux 操作系统下，几乎所有的软件均可以通过RPM 进行安装、卸载及管理等操作。</p> <p>概括的说，rpm命令包含了五种基本功能：安装、卸载、升级、查询和验证。</p> <p>R<strong>PM 包名基本格式:</strong></p> <p>RPM 包名：firefox-45.0.1-1.el6.centos.x86_64.rpm</p> <ul><li>名称：firefox</li> <li>版本号：45.0.1-1</li> <li>适用操作系统：el6.centos.x86_64表示64位系统</li> <li>如果是 i686、i386表示32位系统，noarch 表示通用</li></ul> <p>**语法格式：**rpm [参数] [软件包]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>查询所有的软件包</th></tr></thead> <tbody><tr><td>-b或-t</td> <td>设置包装套件的完成阶段，并指定套件档的文件名称；</td></tr> <tr><td>-c</td> <td>只列出组态配置文件，本参数需配合”-l”参数使用</td></tr> <tr><td>-d</td> <td>只列出文本文件，本参数需配合”-l”参数使用</td></tr> <tr><td>-e或--erase</td> <td>卸载软件包</td></tr> <tr><td>-f</td> <td>查询文件或命令属于哪个软件包</td></tr> <tr><td>-h或--hash</td> <td>安装软件包时列出标记，进度条</td></tr> <tr><td>-i</td> <td>显示软件包的相关信息</td></tr> <tr><td>--install</td> <td>安装软件包</td></tr> <tr><td>-l</td> <td>显示软件包的文件列表</td></tr> <tr><td>-p</td> <td>查询指定的rpm软件包</td></tr> <tr><td>-q</td> <td>查询软件包</td></tr> <tr><td>-R</td> <td>显示软件包的依赖关系</td></tr> <tr><td>-s</td> <td>显示文件状态，本参数需配合”-l”参数使用</td></tr> <tr><td>-U或--upgrade</td> <td>升级软件包</td></tr> <tr><td>-v</td> <td>显示命令执行过程</td></tr> <tr><td>-vv</td> <td>详细显示指令执行过程</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>直接安装软件包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh packge.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>忽略报错，强制安装：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm --force -ivh package.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出所有安装过的包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa </span>
<span class="token comment"># rpm -qa | grep 软件包名：查询所安装的是否有该软件包</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查询rpm包中的文件安装的位置：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm -ql ls</span>
<span class="token comment"># rpm -ql 软件包名：查询软件包中的文件</span>
<span class="token comment"># rpm -qi 软件包名：查询软件包信息</span>
<span class="token comment"># rpm -qf 文件全路径：查询文件所属的软件包，如rpm -qf /etc/passwd</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>卸载rpm包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm -e package.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>升级软件包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># rpm -U file.rpm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_3-2-yum命令-基于rpm的软件包管理器"><a href="#_3-2-yum命令-基于rpm的软件包管理器" class="header-anchor">#</a> 3.2 yum命令 – 基于RPM的软件包管理器</h2> <p>yum命令是在Fedora和RedHat以及SUSE中基于rpm的软件包管理器，它可以使系统管理人员交互和自动化地更新与管理RPM软件包，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。</p> <p>yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p> <p>**语法格式：**yum [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-h</th> <th>显示帮助信息</th></tr></thead> <tbody><tr><td>-y</td> <td>对所有的提问都回答“yes”</td></tr> <tr><td>-c</td> <td>指定配置文件</td></tr> <tr><td>-q</td> <td>安静模式</td></tr> <tr><td>-v</td> <td>详细模式</td></tr> <tr><td>-t</td> <td>检查外部错误</td></tr> <tr><td>-d</td> <td>设置调试等级（0-10）</td></tr> <tr><td>-e</td> <td>设置错误等级（0-10）</td></tr> <tr><td>-R</td> <td>设置yum处理一个命令的最大等待时间</td></tr> <tr><td>-C</td> <td>完全从缓存中运行，而不去下载或者更新任何头文件</td></tr> <tr><td>install</td> <td>安装rpm软件包</td></tr> <tr><td>update</td> <td>更新rpm软件包</td></tr> <tr><td>check-update</td> <td>检查是否有可用的更新rpm软件包</td></tr> <tr><td>remove</td> <td>删除指定的rpm软件包</td></tr> <tr><td>list</td> <td>显示软件包的信息</td></tr> <tr><td>search</td> <td>检查软件包的信息</td></tr> <tr><td>info</td> <td>显示指定的rpm软件包的描述信息和概要信息</td></tr> <tr><td>clean</td> <td>清理yum过期的缓存</td></tr> <tr><td>shell</td> <td>进入yum的shell提示符</td></tr> <tr><td>resolvedep</td> <td>显示rpm软件包的依赖关系</td></tr> <tr><td>localinstall</td> <td>安装本地的rpm软件包</td></tr> <tr><td>localupdate</td> <td>显示本地rpm软件包进行更新</td></tr> <tr><td>deplist</td> <td>显示rpm软件包的所有依赖关系</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>自动搜索最快镜像插件：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum install yum-fastestmirror</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>清除缓存目录下的软件包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum clean packages</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>卸载/删除vim-common：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum remove vim-common.x86_64</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出匹配到“foo*”的可用的数据包：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum list available 'foo*' </span>
<span class="token comment"># 或者不写available也行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看可能批量安装的列表：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum grouplist</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示httpd安装包信息：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@linuxcool ~<span class="token punctuation">]</span><span class="token comment"># yum info httpd.x86_64</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看所有yum源：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/yum.repos.d/CentOS-Base.repo</span>
<span class="token comment"># CentOS-Base.repo</span>
<span class="token comment">#</span>
<span class="token comment"># The mirror system uses the connecting IP address of the client and the</span>
<span class="token comment"># update status of each mirror to pick mirrors that are updated to and</span>
<span class="token comment"># geographically close to the client.  You should use this for CentOS updates</span>
<span class="token comment"># unless you are manually picking other mirrors.</span>
<span class="token comment">#</span>
<span class="token comment"># If the mirrorlist= does not work for you, as a fall back you can try the </span>
<span class="token comment"># remarked out baseurl= line instead.</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
 
<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Base - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/os/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
 
<span class="token comment">#released updates </span>
<span class="token punctuation">[</span>updates<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Updates - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/updates/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/updates/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/updates/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
 
<span class="token comment">#additional packages that may be useful</span>
<span class="token punctuation">[</span>extras<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Extras - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/extras/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
 
<span class="token comment">#additional packages that extend functionality of existing packages</span>
<span class="token punctuation">[</span>centosplus<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Plus - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/centosplus/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
 
<span class="token comment">#contrib - packages by Centos Users</span>
<span class="token punctuation">[</span>contrib<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>CentOS-<span class="token variable">$releasever</span> - Contrib - mirrors.aliyun.com
<span class="token assign-left variable">failovermethod</span><span class="token operator">=</span>priority
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/<span class="token variable">$releasever</span>/contrib/<span class="token variable">$basearch</span>/
        http://mirrors.aliyuncs.com/centos/<span class="token variable">$releasever</span>/contrib/<span class="token variable">$basearch</span>/
        http://mirrors.cloud.aliyuncs.com/centos/<span class="token variable">$releasever</span>/contrib/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><p><strong>配置阿里yum源：</strong></p> <p>https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11jbF0uc</p> <h1 id="_4-安装jdk"><a href="#_4-安装jdk" class="header-anchor">#</a> 4. 安装jdk</h1> <p>下载jdk地址：https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</p> <p>我选择的是jdk-8u281-linux-x64.tar.gz版本。</p> <p>操作步骤如下：</p> <ul><li><p>mkdir /opt/jdk</p></li> <li><p>通过 Xftp 6上传 JDK 安装包（jdk-8u281-linux-x64.tar.gz）到 /opt/jdk</p></li> <li><p>cd /opt/jdk</p></li> <li><p>使用 tar -zxvf jdk-8u281-linux-x64.tar.gz 命令解压 JDK 安装包</p></li> <li><p>mkdir /usr/local/java</p></li> <li><p>mv jdk1.8.0_281/ /usr/local/java</p></li> <li><p>使用 echo $PATH 命令查看当前的环境变量，没有JDK环境变量</p></li> <li><p>通过编辑 /etc/profile 文件配置 JDK 环境变量</p></li> <li><ul><li>增加命令 export JAVA_HOME=/usr/local/java/jdk1.8.0_281</li> <li>增加命令 export PATH=<img src="https://g.yuque.com/gr/latex?JAVA_HOME%2Fbin%3A" alt="img">PATH</li> <li>其中，第二条命令的 $PATH 是之前的echo $PATH 命令查看当前的环境变量，一定要写上。否则，一些常用指令将无法使用。</li></ul></li> <li><p>通过 source /etc/profile 命令让新的环境变量生效</p></li> <li><p>再次使用 echo $PATH 命令查看当前的环境变量，JDK 环境变量添加成功</p></li> <li><p>通过运行 Java 程序测试是否安装成功 : javac hello.java =&gt; java hello</p></li></ul> <p><strong>/opt</strong>：</p> <p>opt 是 optional(可选) 的缩写，这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</p> <p><strong>/usr</strong>：</p> <p>usr 是 <strong>unix shared resources(共享资源)</strong> 的缩写，这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，<strong>类似于 windows 下的 program files 目录。</strong></p> <p>**/usr/local：**用户级的程序目录，可以理解为C:/Progrem Files/。用户自己编译的软件默认会安装到这个目录下。 这里主要存放那些手动安装的软件。</p> <p>更多解释可参考：https://www.jb51.net/article/141748.htm</p> <h1 id="_5-安装tomcat"><a href="#_5-安装tomcat" class="header-anchor">#</a> 5. 安装tomcat</h1> <p>tomcat下载地址：https://tomcat.apache.org/download-90.cgi</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432109999-5dcc5c40-89a7-4fe3-bcd8-dd9b34052715.png" alt="img"></p> <ul><li>mkdir /opt/tomcat</li> <li>通过 Xftp 6上传 Tomcat 安装包（apache-tomcat-9.0.43.tar.gz）到 /opt/tomcat</li> <li>cd /opt/tomcat</li> <li>使用 tar -zxvf apache-tomcat-9.0.43.tar.gz 命令解压 Tomcat 安装包</li> <li>cd /opt/tomcat/apache-tomcat-9.0.43/bin</li> <li>启动tomcat ./startup.sh</li> <li>使用 firewall-cmd --permanent --add-port=8080/tcp 命令打开8080端口</li> <li>使用 firewall-cmd --reload 命令更新端口状态</li> <li>使用 firewall-cmd --query-port=8080/tcp 命令查看端口是否打开</li> <li>通过浏览器访问 IP地址:8080 来查看是否安装成功:http://localhost:8080/</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 部分步骤如下</span>
<span class="token punctuation">[</span>root@centos7601 bin<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/tomcat/apache-tomcat-9.0.43/bin
<span class="token punctuation">[</span>root@centos7601 bin<span class="token punctuation">]</span><span class="token comment"># ./startup.sh </span>
Using CATALINA_BASE:   /opt/tomcat/apache-tomcat-9.0.43
Using CATALINA_HOME:   /opt/tomcat/apache-tomcat-9.0.43
Using CATALINA_TMPDIR: /opt/tomcat/apache-tomcat-9.0.43/temp
Using JRE_HOME:        /usr/local/java/jdk1.8.0_281
Using CLASSPATH:       /opt/tomcat/apache-tomcat-9.0.43/bin/bootstrap.jar:/opt/tomcat/apache-tomcat-9.0.43/bin/tomcat-juli.jar
Using CATALINA_OPTS:   
Tomcat started.
<span class="token punctuation">[</span>root@centos7601 bin<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --permanent --add-port=8080/tcp</span>
success
<span class="token punctuation">[</span>root@centos7601 bin<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span>
success
<span class="token punctuation">[</span>root@centos7601 bin<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --query-port=8080/tcp</span>
<span class="token function">yes</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110932-c4e9753e-08a5-4156-b751-f52ba761653b.png" alt="img"></p> <h1 id="_6-安装mysql5-7"><a href="#_6-安装mysql5-7" class="header-anchor">#</a> 6. 安装mysql5.7</h1> <p>下载mysql地址：https://downloads.mysql.com/archives/community/</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432111477-e5e4a837-2555-4fa3-a585-ee49b2723459.png" alt="img"></p> <p>操作步骤如下：</p> <ol><li><strong>新建文件夹mkdir /opt/mysql，并cd进去</strong></li> <li><strong>运行wget</strong> <a href="http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar" target="_blank" rel="noopener noreferrer"><strong>http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><strong>，下载mysql安装包</strong></li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110477-c7d4a64f-e88a-47cc-873f-dc36b5db80aa.png" alt="img"></p> <ol><li><strong>运行tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar 进行解压</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar </span>
mysql-community-embedded-devel-5.7.26-1.el7.x86_64.rpm
mysql-community-libs-5.7.26-1.el7.x86_64.rpm
mysql-community-embedded-5.7.26-1.el7.x86_64.rpm
mysql-community-test-5.7.26-1.el7.x86_64.rpm
mysql-community-embedded-compat-5.7.26-1.el7.x86_64.rpm
mysql-community-common-5.7.26-1.el7.x86_64.rpm
mysql-community-devel-5.7.26-1.el7.x86_64.rpm
mysql-community-client-5.7.26-1.el7.x86_64.rpm
mysql-community-server-5.7.26-1.el7.x86_64.rpm
mysql-community-libs-compat-5.7.26-1.el7.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>PS：centos7.6自带的类mysql数据库是mariadb，会跟mysql冲突，要先删除。</strong></p> <ol><li><strong>删除mariadb</strong></li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep mari</span>
mariadb-libs-5.5.60-1.el7_5.x86_64
marisa-0.2.4-4.el7.x86_64
<span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -e --nodeps mariadb-libs</span>
<span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -qa|grep mari</span>
marisa-0.2.4-4.el7.x86_64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>5.然后开始真正安装mysql，依次运行以下几条</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm</span>
警告：mysql-community-common-5.7.26-1.el7.x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID 5072e1f5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mysql-community-common-5.7.26-1.e<span class="token comment">################################# [100%]</span>
<span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm</span>
警告：mysql-community-libs-5.7.26-1.el7.x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID 5072e1f5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mysql-community-libs-5.7.26-1.el7<span class="token comment">################################# [100%]</span>
<span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</span>
警告：mysql-community-client-5.7.26-1.el7.x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID 5072e1f5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mysql-community-client-5.7.26-1.e<span class="token comment">################################# [100%]</span>
<span class="token punctuation">[</span>root@centos7601 mysql<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</span>
警告：mysql-community-server-5.7.26-1.el7.x86_64.rpm: 头V3 DSA/SHA1 Signature, 密钥 ID 5072e1f5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mysql-community-server-5.7.26-1.e<span class="token comment">################################# [100%]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>6.运行<strong>systemctl start mysqld.service</strong>，启动mysql</p> <p><strong>7.然后开始设置root用户密码</strong></p> <p>Mysql自动给root用户设置随机密码，运行<strong>grep &quot;password&quot; /var/log/mysqld.log</strong>可看到当前密码</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432109963-3632067b-3925-41a2-ac0d-7ddde8e84c9c.png" alt="img"></p> <p><strong>8.运行mysql -u root  -p，用root用户登录，提示输入密码可用上述的，可以成功登陆进入mysql命令行</strong></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110111-f4b2b384-d0ba-4df5-8ba5-35fd30dce0a3.png" alt="img"></p> <p><strong>9.重新设置root密码：set password for 'root'@'localhost' =password('hspedu100');运行flush privileges;使密码设置生效。</strong></p> <p>设置root密码，对于个人开发环境，如果要设比较简单的密码（<strong>生产环境服务器要设复杂密码</strong>），可以运行<strong>set global validate_password_policy=0;</strong>  提示密码设置策略。（validate_password_policy默认值1，）</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> global <span class="token assign-left variable">validate_password_policy</span><span class="token operator">=</span><span class="token number">0</span>
    -<span class="token operator">&gt;</span> <span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> password <span class="token keyword">for</span> <span class="token string">'root'</span>@<span class="token string">'localhost'</span> <span class="token operator">=</span>password<span class="token punctuation">(</span><span class="token string">'centos7601'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected, <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> quit
Bye
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h1 id="_7-shell学习"><a href="#_7-shell学习" class="header-anchor">#</a> 7. shell学习</h1> <h2 id="_7-1-什么是shell"><a href="#_7-1-什么是shell" class="header-anchor">#</a> 7.1 什么是shell?</h2> <p>**Shell 是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁。**Shell 既是一种命令语言，又是一种程序设计语言。</p> <p>Shell 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。</p> <p>Ken Thompson 的 sh 是第一种 Unix Shell，Windows Explorer 是一个典型的图形界面 Shell。</p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/10385897/1614432110040-7ae5a246-52e3-42b8-a95c-e553bf2702b8.png" alt="img"></p> <p><strong>Shell 脚本（shell script），是一种为 shell 编写的脚本程序。</strong></p> <p>业界所说的 shell 通常都是指 shell 脚本，但是我们要知道，shell 和 shell script 是两个不同的概念。</p> <h2 id="_7-2-linux中shell分类"><a href="#_7-2-linux中shell分类" class="header-anchor">#</a> 7.2 Linux中shell分类</h2> <p>Linux 的 Shell 种类众多，常见的有：</p> <ul><li>Bourne Shell（/usr/bin/sh或/bin/sh）</li> <li>Bourne Again Shell（/bin/bash）</li> <li>C Shell（/usr/bin/csh）</li> <li>K Shell（/usr/bin/ksh）</li> <li>Shell for Root（/sbin/sh）</li></ul> <p>这里我们使用Bash，也就是 Bourne Again Shell，由于易用和免费，Bash 在日常工作中被广泛使用。同时，Bash 也是大多数Linux 系统默认的 Shell。</p> <h2 id="_7-3-第一个shell脚本"><a href="#_7-3-第一个shell脚本" class="header-anchor">#</a> 7.3 第一个shell脚本</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#：.h扩展名并不影响脚本执行，见名知意就好</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># vim a.h </span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># cat a.h</span>
<span class="token comment">#：#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</span>
<span class="token comment">#：echo 命令用于向窗口输出文本。</span>
<span class="token comment">#!/bin/bash  </span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World !&quot;</span>
<span class="token comment">#：执行shell脚本</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ./a.h </span>
bash: ./a.h: 权限不够
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ll a.h</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">33</span> <span class="token number">2</span>月  <span class="token number">26</span> <span class="token number">12</span>:51 a.h
<span class="token comment">#：执行shell脚本需要可执行权限</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># chmod u+x a.h</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ll a.h</span>
-rwxr--r--. <span class="token number">1</span> root root <span class="token number">33</span> <span class="token number">2</span>月  <span class="token number">26</span> <span class="token number">12</span>:51 a.h
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ./a.h</span>
Hello World <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>运行shell脚本</strong>，以上方式，一定要写成 <strong>./a.sh</strong>，而不是 <strong>a.sh</strong>，运行其它二进制的程序也一样，直接写 a.sh，linux 系统会去 PATH 里寻找有没有叫 a.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 a.sh 是会找不到命令的，要用 ./a.sh 告诉系统说，就在当前目录找。</p> <p><strong>还有一种运行shell脚本的方式：直接运行解释器，其参数就是 shell 脚本的文件名，如：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>/bin/sh a.sh
/bin/php a.php <span class="token comment"># 执行php脚本，需要php环境</span>

<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># chmod u-x a.h</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ll a.h</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">33</span> <span class="token number">2</span>月  <span class="token number">26</span> <span class="token number">12</span>:51 a.h
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/sh a.h # 这种方式不需要设置执行权限x</span>
Hello World <span class="token operator">!</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p> <h2 id="_7-4-局部变量-只读变量-注释"><a href="#_7-4-局部变量-只读变量-注释" class="header-anchor">#</a> 7.4 局部变量+只读变量+注释</h2> <p><strong>局部变量</strong>： 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</p> <p><strong>变量名的命名须遵循如下规则：</strong></p> <ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li> <li>中间不能有空格，可以使用下划线（_）。</li> <li>不能使用标点符号。</li> <li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li> <li>定义变量时，变量名不加美元符号（$）</li></ul> <p><strong>a.sh文件内容：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#案例1：定义变量A，=两边不能有空格</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token comment">#输出变量需要加上$,加花括号是为了帮助解释器识别变量的边界，加不加看情况！！！</span>
<span class="token builtin class-name">echo</span> <span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable">$A</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;A=<span class="token variable">${A}</span>&quot;</span>
<span class="token comment">#案例2：unset 命令可以删除变量</span>
<span class="token builtin class-name">unset</span> A
<span class="token builtin class-name">echo</span> <span class="token string">&quot;A=<span class="token variable">$A</span>&quot;</span>
<span class="token comment">#案例3：声明只读变量B=2，不能unset，也不允许修改！</span>
<span class="token builtin class-name">readonly</span> <span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token comment"># B=3 会报错</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;B=<span class="token variable">$B</span>&quot;</span>
<span class="token comment">#unset B </span>
<span class="token assign-left variable">C</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
<span class="token assign-left variable">D</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;C=<span class="token variable">$C</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;D=<span class="token variable">$D</span>&quot;</span>
<span class="token comment">#将指令返回的结果赋给变量</span>
:<span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation">  <span class="token comment">#多行注释 EOF也可以是其它符号！</span></span>
C2=<span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
D2=<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>
echo &quot;C2=<span class="token variable">$C2</span>&quot;
echo &quot;D2=<span class="token variable">$D2</span>&quot;
EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>输出结果：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash ./a.sh</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span>
<span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token assign-left variable">C</span><span class="token operator">=</span><span class="token number">2021</span>年 02月 <span class="token number">26</span>日 星期五 <span class="token number">17</span>:24:27 CST
<span class="token assign-left variable">D</span><span class="token operator">=</span><span class="token number">2021</span>年 02月 <span class="token number">26</span>日 星期五 <span class="token number">17</span>:24:27 CST
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_7-5-环境变量"><a href="#_7-5-环境变量" class="header-anchor">#</a> 7.5 环境变量</h2> <p><strong>环境变量</strong>： 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</p> <p><strong>设置环境变量：</strong></p> <ul><li><p>基本语法</p></li> <li><ul><li>export 变量名=变量值：将 Shell 变量输出为环境变量</li> <li>source 配置文件（/etc/profile）：让修改后的配置文件立即生效</li> <li>echo $变量名：查询环境变量的值</li></ul></li></ul> <p>案例：配置环境变量，并在b.sh脚本文件中打印环境变量的值。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#通过编辑 vim /etc/profile 文件配置 JDK 环境变量，增加以下内容</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/usr/local/java/jdk1.8.0_281
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>
<span class="token comment">#保存退出 wq /etc/profile 文件后，执行 source /etc/profile 命令使修改后的配置文件生效</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>b.sh内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#使用环境变量JAVA_HOME</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;java_home=<span class="token variable">$JAVA_HOME</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出结果：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash ./b.sh</span>
<span class="token assign-left variable">java_home</span><span class="token operator">=</span>/usr/local/java/jdk1.8.0_281
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_7-6-命令行参数变量"><a href="#_7-6-命令行参数变量" class="header-anchor">#</a> 7.6 命令行参数变量</h2> <p>我们执行一个 Shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量，比如<code>./c.sh 11 22 33 44 55</code> , 这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息。</p> <ul><li><p>基本语法</p></li> <li><ul><li>$n：n 为数字，$0 代表命令本身，$1-<img src="https://g.yuque.com/gr/latex?9%20%E4%BB%A3%E8%A1%A8%E7%AC%AC%E4%B8%80%E5%88%B0%E7%AC%AC%E4%B9%9D%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E5%8D%81%E4%BB%A5%E4%B8%8A%E7%9A%84%E5%8F%82%E6%95%B0%E9%9C%80%E8%A6%81%E7%94%A8%E5%A4%A7%E6%8B%AC%E5%8F%B7%EF%BC%8C%E5%A6%82" alt="img">{10}</li> <li><img src="https://g.yuque.com/gr/latex?*%EF%BC%9A%E4%BB%A3%E8%A1%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C" alt="img">*把所有的参数看成一个整体</li> <li>$@：代表命令行中所有的参数，不过该命令是把每个参数区分对待</li> <li>$#：代表命令行中所有参数的个数</li></ul></li></ul> <p>c.sh内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;0=<span class="token variable">$0</span> 1=<span class="token variable">$1</span> 2=<span class="token variable">$2</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;所有的参数=<span class="token variable">$*</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数的个数=<span class="token variable">$#</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>输出结果：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash c.sh 11 22 33 44 55 </span>
<span class="token assign-left variable">0</span><span class="token operator">=</span>c.sh <span class="token assign-left variable">1</span><span class="token operator">=</span><span class="token number">11</span> <span class="token assign-left variable">2</span><span class="token operator">=</span><span class="token number">22</span>
所有的参数<span class="token operator">=</span><span class="token number">11</span> <span class="token number">22</span> <span class="token number">33</span> <span class="token number">44</span> <span class="token number">55</span>
<span class="token number">11</span> <span class="token number">22</span> <span class="token number">33</span> <span class="token number">44</span> <span class="token number">55</span>
参数的个数<span class="token operator">=</span><span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_7-7-预定义变量"><a href="#_7-7-预定义变量" class="header-anchor">#</a> 7.7 预定义变量</h2> <p>Shell 设计者事先已经定义好的变量，可以直接在 Shell 脚本中使用</p> <ul><li><p>基本语法</p></li> <li><ul><li><img src="https://g.yuque.com/gr/latex?%EF%BC%9A%E5%BD%93%E5%89%8D%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%8F%B7%0A" alt="img"></li> <li>$?：最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确</li></ul></li></ul> <p>d.sh内容：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前执行的进程id=<span class="token variable">$$</span>&quot;</span>
<span class="token comment">#以后台的方式运行一个脚本，并获取他的进程号</span>
/bin/bash /root/shcode/c.sh <span class="token operator">&amp;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;最后一个后台方式运行的进程id=<span class="token variable">$!</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;执行的结果是=<span class="token variable">$?</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>运行结果：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash d.sh 11 22 33 44 55</span>
当前执行的进程id<span class="token operator">=</span><span class="token number">23361</span>
最后一个后台方式运行的进程id<span class="token operator">=</span><span class="token number">23362</span>
执行的结果是<span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">0</span><span class="token operator">=</span>/root/shcode/c.sh <span class="token assign-left variable">1</span><span class="token operator">=</span> <span class="token assign-left variable">2</span><span class="token operator">=</span>
所有的参数<span class="token operator">=</span>

参数的个数<span class="token operator">=</span><span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如果将d.sh中改为：<code>/bin/bash /root/shcode/c.sh 11 22 33 44 55 &amp;</code></p> <p>再次运行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash d.sh 111 222 333 444 555</span>
当前执行的进程id<span class="token operator">=</span><span class="token number">23555</span>
最后一个后台方式运行的进程id<span class="token operator">=</span><span class="token number">23556</span>
执行的结果是<span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">0</span><span class="token operator">=</span>/root/shcode/c.sh <span class="token assign-left variable">1</span><span class="token operator">=</span><span class="token number">11</span> <span class="token assign-left variable">2</span><span class="token operator">=</span><span class="token number">22</span>
所有的参数<span class="token operator">=</span><span class="token number">11</span> <span class="token number">22</span> <span class="token number">33</span> <span class="token number">44</span> <span class="token number">55</span>
<span class="token number">11</span> <span class="token number">22</span> <span class="token number">33</span> <span class="token number">44</span> <span class="token number">55</span>
参数的个数<span class="token operator">=</span><span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_7-8-字符串"><a href="#_7-8-字符串" class="header-anchor">#</a> 7.8 字符串</h2> <p>字符串可以用单引号，也可以用双引号，也可以不用引号。</p> <p><strong>1.单引号</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'this is a string'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>单引号字符串的限制：</p> <ul><li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li> <li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li></ul> <p><strong>2.双引号</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">'bithachi'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">&quot;Hello, I know you are <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$your_name</span><span class="token entity" title="\&quot;">\&quot;</span>! <span class="token entity" title="\n">\n</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token variable">$str</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出结果为：</p> <div class="language-plain line-numbers-mode"><pre class="language-plain"><code>Hello, I know you are &quot;bithachi&quot;!
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>双引号的优点：</p> <ul><li>双引号里可以有变量</li> <li>双引号里可以出现转义字符</li></ul> <p><strong>3.拼接字符串</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;one&quot;</span>
<span class="token comment"># 使用双引号拼接</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;hello, &quot;</span><span class="token variable">$your_name</span><span class="token string">&quot; !&quot;</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">&quot;hello, <span class="token variable">${your_name}</span> !&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span>  <span class="token variable">$greeting_1</span>

<span class="token comment"># 使用单引号拼接</span>
<span class="token assign-left variable">greeting_2</span><span class="token operator">=</span><span class="token string">'hello, '</span><span class="token variable">$your_name</span><span class="token string">' !'</span>
<span class="token assign-left variable">greeting_3</span><span class="token operator">=</span><span class="token string">'hello, ${your_name} !'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting_2</span>  <span class="token variable">$greeting_3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>输出结果为：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>hello, one <span class="token operator">!</span> hello, one <span class="token operator">!</span>
hello, one <span class="token operator">!</span> hello, <span class="token variable">${your_name}</span> <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>4.获取字符串长度</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;abcd&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>string}</span> <span class="token comment">#输出 4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>5.提取子字符串</strong></p> <p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;jsngjkdngk&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${string<span class="token operator">:</span>1<span class="token operator">:</span>4}</span> <span class="token comment"># 输出sngj</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>注意</strong>：第一个字符的索引值为 <strong>0</strong>。</p> <p><strong>6.查找子字符串</strong></p> <p>查找字符 <strong>n</strong> 或 <strong>j</strong> 的位置(哪个字母先出现就计算哪个)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;jsngjkdngk&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> nj<span class="token variable">`</span></span>  <span class="token comment"># 输出 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>注意：</strong> 以上脚本中 <strong>`</strong> 是反引号，而不是单引号 <strong>'</strong>。</p> <h2 id="_7-9-数组"><a href="#_7-9-数组" class="header-anchor">#</a> 7.9 数组</h2> <p>数组中可以存放多个值。Bash Shell 只支持一维数组（不支持多维数组），初始化时不需要定义数组大小（与 PHP 类似）。</p> <p>与大部分编程语言类似，数组元素的下标由 0 开始。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 定义并读取数组元素</span>
<span class="token assign-left variable">my_array</span><span class="token operator">=</span><span class="token punctuation">(</span>A B <span class="token string">&quot;C&quot;</span> D<span class="token punctuation">)</span>
my_array<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">400</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>1<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第三个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>2<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第四个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>3<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第四个元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>4<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># 使用@ 或 * 可以获取数组中的所有元素，例如：</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;数组的元素为: <span class="token variable">${my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token comment"># 获取数组长度的方法与获取字符串长度的方法相同，例如：</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;数组元素个数为: <span class="token variable">${<span class="token operator">#</span>my_array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash e.sh</span>
第一个元素为: A
第二个元素为: B
第三个元素为: C
第四个元素为: D
第四个元素为: <span class="token number">400</span>
数组的元素为: A B C D <span class="token number">400</span>
数组的元素为: A B C D <span class="token number">400</span>
数组元素个数为: <span class="token number">5</span>
数组元素个数为: <span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_7-10-基本运算符"><a href="#_7-10-基本运算符" class="header-anchor">#</a> 7.10 基本运算符</h2> <p>Shell 和其他编程语言一样，支持多种运算符，包括：</p> <ul><li>算数运算符</li> <li>关系运算符</li> <li>布尔运算符</li> <li>字符串运算符</li> <li>文件测试运算符</li></ul> <p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p> <p><strong>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</strong></p> <p>例如，两个数相加(<strong>注意使用的是反引号 ` 而不是单引号 '</strong>)：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">2</span> + <span class="token number">2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;两数之和为 : <span class="token variable">$val</span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>两数之和为 <span class="token builtin class-name">:</span> <span class="token number">4</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>两点注意：</strong></p> <ul><li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</li> <li><strong>完整的表达式要被 <code></code> 包含</strong>，注意这个字符不是常用的单引号，在 Esc 键下边。</li></ul> <h3 id="_1-算术运算符"><a href="#_1-算术运算符" class="header-anchor">#</a> （1）算术运算符</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a + b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a - b : <span class="token variable">$val</span>&quot;</span>

<span class="token comment"># 乘号(*)前边必须加反斜杠(\)才能实现乘法运算；</span>
<span class="token comment"># 在 MAC 中 shell 的 expr 语法是：$((表达式))，此处表达式中的 &quot;*&quot; 不需要转义符号 &quot;\&quot; 。</span>
<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a * b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b / $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b / a : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b % $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b % a : <span class="token variable">$val</span>&quot;</span>

<span class="token comment"># 注意：条件表达式要放在方括号之间，并且要有空格，例如: [$a==$b] 是错误的，必须写成 [ $a == $b ]。</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>a + b <span class="token builtin class-name">:</span> <span class="token number">30</span>
a - b <span class="token builtin class-name">:</span> <span class="token parameter variable">-10</span>
a * b <span class="token builtin class-name">:</span> <span class="token number">200</span>
b / a <span class="token builtin class-name">:</span> <span class="token number">2</span>
b % a <span class="token builtin class-name">:</span> <span class="token number">0</span>
a 不等于 b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-关系运算符"><a href="#_2-关系运算符" class="header-anchor">#</a> （2）关系运算符</h3> <p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p> <p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>-eq</td> <td>检测两个数是否相等，相等返回 true。</td> <td>[ $a -eq $b ] 返回 false。</td></tr> <tr><td>-ne</td> <td>检测两个数是否不相等，不相等返回 true。</td> <td>[ $a -ne $b ] 返回 true。</td></tr> <tr><td>-gt</td> <td>检测左边的数是否大于右边的，如果是，则返回 true。</td> <td>[ $a -gt $b ] 返回 false。</td></tr> <tr><td>-lt</td> <td>检测左边的数是否小于右边的，如果是，则返回 true。</td> <td>[ $a -lt $b ] 返回 true。</td></tr> <tr><td>-ge</td> <td>检测左边的数是否大于等于右边的，如果是，则返回 true。</td> <td>[ $a -ge $b ] 返回 false。</td></tr> <tr><td>-le</td> <td>检测左边的数是否小于等于右边的，如果是，则返回 true。</td> <td>[ $a -le $b ] 返回 true。</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-eq</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-ne</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-gt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 不大于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 不小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-ge</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 大于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-le</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 小于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">10</span> <span class="token parameter variable">-eq</span> <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> <span class="token parameter variable">-ne</span> <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> <span class="token parameter variable">-gt</span> <span class="token number">20</span>: a 不大于 b
<span class="token number">10</span> <span class="token parameter variable">-lt</span> <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> <span class="token parameter variable">-ge</span> <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> <span class="token parameter variable">-le</span> <span class="token number">20</span>: a 小于或等于 b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_3-布尔运算符"><a href="#_3-布尔运算符" class="header-anchor">#</a> （3）布尔运算符</h3> <p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>!</td> <td>非运算，表达式为 true 则返回 false，否则返回 true。</td> <td>[ ! false ] 返回 true。</td></tr> <tr><td>-o</td> <td>或运算，有一个表达式为 true 则返回 true。</td> <td>[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr> <tr><td>-a</td> <td>与运算，两个表达式都为 true 才返回 true。</td> <td>[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> == <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">100</span> <span class="token parameter variable">-a</span> <span class="token variable">$b</span> <span class="token parameter variable">-gt</span> <span class="token number">15</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">100</span> <span class="token parameter variable">-o</span> <span class="token variable">$b</span> <span class="token parameter variable">-gt</span> <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">5</span> <span class="token parameter variable">-o</span> <span class="token variable">$b</span> <span class="token parameter variable">-gt</span> <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">10</span> <span class="token operator">!=</span> <span class="token number">20</span> <span class="token builtin class-name">:</span> a 不等于 b
<span class="token number">10</span> 小于 <span class="token number">100</span> 且 <span class="token number">20</span> 大于 <span class="token number">15</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">true</span>
<span class="token number">10</span> 小于 <span class="token number">100</span> 或 <span class="token number">20</span> 大于 <span class="token number">100</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">true</span>
<span class="token number">10</span> 小于 <span class="token number">5</span> 或 <span class="token number">20</span> 大于 <span class="token number">100</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-逻辑运算符"><a href="#_4-逻辑运算符" class="header-anchor">#</a> （4）逻辑运算符</h3> <p>以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>&amp;&amp;</td> <td>逻辑的 AND</td> <td>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr> <tr><td>||</td> <td>逻辑的 OR</td> <td>[[ $a -lt 100 || $b -gt 100 ]] 返回 true</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$b</span> <span class="token parameter variable">-gt</span> <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">100</span> <span class="token operator">||</span> <span class="token variable">$b</span> <span class="token parameter variable">-gt</span> <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>返回 <span class="token boolean">false</span>
返回 <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_5-字符串运算符"><a href="#_5-字符串运算符" class="header-anchor">#</a> （5）字符串运算符</h3> <p>下表列出了常用的字符串运算符，假定变量 a 为 &quot;abc&quot;，变量 b 为 &quot;efg&quot;：</p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>=</td> <td>检测两个字符串是否相等，相等返回 true。</td> <td>[ $a = $b ] 返回 false。</td></tr> <tr><td>!=</td> <td>检测两个字符串是否不相等，不相等返回 true。</td> <td>[ $a != $b ] 返回 true。</td></tr> <tr><td>-z</td> <td>检测字符串长度是否为0，为0返回 true。</td> <td>[ -z $a ] 返回 false。</td></tr> <tr><td>-n</td> <td>检测字符串长度是否不为 0，不为 0 返回 true。</td> <td>[ -n &quot;$a&quot; ] 返回 true。</td></tr> <tr><td>$</td> <td>检测字符串是否为空，不为空返回 true。</td> <td>[ $a ] 返回 true。</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;efg&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串为空&quot;</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>abc <span class="token operator">=</span> efg: a 不等于 b
abc <span class="token operator">!=</span> efg <span class="token builtin class-name">:</span> a 不等于 b
<span class="token parameter variable">-z</span> abc <span class="token builtin class-name">:</span> 字符串长度不为 <span class="token number">0</span>
<span class="token parameter variable">-n</span> abc <span class="token builtin class-name">:</span> 字符串长度不为 <span class="token number">0</span>
abc <span class="token builtin class-name">:</span> 字符串不为空
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_6-文件测试运算符"><a href="#_6-文件测试运算符" class="header-anchor">#</a> （6）文件测试运算符</h3> <p>文件测试运算符用于检测 Unix 文件的各种属性。</p> <p>属性检测描述如下：</p> <table><thead><tr><th>操作符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>-b file</td> <td>检测文件是否是块设备文件，如果是，则返回 true。</td> <td>[ -b $file ] 返回 false。</td></tr> <tr><td>-c file</td> <td>检测文件是否是字符设备文件，如果是，则返回 true。</td> <td>[ -c $file ] 返回 false。</td></tr> <tr><td>-d file</td> <td>检测文件是否是目录，如果是，则返回 true。</td> <td>[ -d $file ] 返回 false。</td></tr> <tr><td>-f file</td> <td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td> <td>[ -f $file ] 返回 true。</td></tr> <tr><td>-g file</td> <td>检测文件是否设置了 SGID 位，如果是，则返回 true。</td> <td>[ -g $file ] 返回 false。</td></tr> <tr><td>-k file</td> <td>检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td> <td>[ -k $file ] 返回 false。</td></tr> <tr><td>-p file</td> <td>检测文件是否是有名管道，如果是，则返回 true。</td> <td>[ -p $file ] 返回 false。</td></tr> <tr><td>-u file</td> <td>检测文件是否设置了 SUID 位，如果是，则返回 true。</td> <td>[ -u $file ] 返回 false。</td></tr> <tr><td>-r file</td> <td>检测文件是否可读，如果是，则返回 true。</td> <td>[ -r $file ] 返回 true。</td></tr> <tr><td>-w file</td> <td>检测文件是否可写，如果是，则返回 true。</td> <td>[ -w $file ] 返回 true。</td></tr> <tr><td>-x file</td> <td>检测文件是否可执行，如果是，则返回 true。</td> <td>[ -x $file ] 返回 true。</td></tr> <tr><td>-s file</td> <td>检测文件是否为空（文件大小是否大于0），不为空返回 true。</td> <td>[ -s $file ] 返回 true。</td></tr> <tr><td>-e file</td> <td>检测文件（包括目录）是否存在，如果是，则返回 true。</td> <td>[ -e $file ] 返回 true。</td></tr></tbody></table> <p>其他检查符：</p> <ul><li><strong>-S</strong>: 判断某文件是否 socket。</li> <li><strong>-L</strong>: 检测文件是否存在并且是一个符号链接。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># vim e.sh</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># ll c.sh</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">239</span> <span class="token number">2</span>月  <span class="token number">26</span> <span class="token number">17</span>:56 c.sh
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># cat e.sh</span>
<span class="token comment">#!/bin/bash</span>

<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;/root/shcode/c.sh&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-r</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可读&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可读&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-w</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可写&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可写&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-x</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可执行&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可执行&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为普通文件&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为特殊文件&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件是个目录&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不是个目录&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-s</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为空&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件存在&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不存在&quot;</span>
<span class="token keyword">fi</span>
<span class="token punctuation">[</span>root@centos7601 shcode<span class="token punctuation">]</span><span class="token comment"># /bin/bash e.sh</span>
文件可读
文件可写
文件不可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h2 id="_7-11-流程控制"><a href="#_7-11-流程控制" class="header-anchor">#</a> 7.11 流程控制</h2> <h3 id="_1-if-else"><a href="#_1-if-else" class="header-anchor">#</a> （1）if -else</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-gt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 大于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有符合的条件&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment">#输出结果：</span>
<span class="token comment">#a 小于 b</span>

<span class="token comment">####################################</span>
<span class="token comment"># test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</span>
<span class="token assign-left variable">num1</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">2</span>*3<span class="token punctuation">]</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1</span>+5<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字不相等!'</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_2-for"><a href="#_2-for" class="header-anchor">#</a> （2）for</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 当变量值在列表里，for 循环即执行一次所有命令，使用变量名获取列表中的当前取值。</span>
<span class="token comment"># 命令可为任何有效的 shell 命令和语句。in 列表可以包含替换、字符串和文件名。</span>
<span class="token comment"># in列表是可选的，如果不用它，for循环使用命令行的位置参数。</span>

<span class="token comment">#顺序输出字符串中的字符：</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">str</span> <span class="token keyword">in</span> This is a string
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$str</span>
<span class="token keyword">done</span>
<span class="token comment">#输出结果：</span>
This
is
a
string
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-while"><a href="#_3-while" class="header-anchor">#</a> （3）while</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># while 循环用于不断执行一系列命令，也用于从输入文件中读取数据。</span>
<span class="token comment"># let命令是bash中用于计算的工具，用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量。如果表达式中包含了空格或其他特殊字符，则必须引起来。</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>

<span class="token comment">#运行脚本，输出：</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>

<span class="token comment"># while循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量FILM，按&lt;Ctrl-D&gt;结束循环。</span>
<span class="token builtin class-name">echo</span> <span class="token string">'按下 &lt;CTRL-D&gt; 退出'</span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">'输入你最喜欢的网站名: '</span>
<span class="token keyword">while</span> <span class="token builtin class-name">read</span> FILM
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;是的！<span class="token variable">$FILM</span> 是一个好网站&quot;</span>
<span class="token keyword">done</span>
<span class="token comment"># 运行脚本，输出类似下面：</span>
按下 <span class="token operator">&lt;</span>CTRL-D<span class="token operator">&gt;</span> 退出
输入你最喜欢的网站名:xxx
是的！xxx 是一个好网站
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_4-until"><a href="#_4-until" class="header-anchor">#</a> （4）until</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># until 循环执行一系列命令直至条件为 true 时停止。</span>
<span class="token comment"># until 循环与 while 循环在处理方式上刚好相反。</span>

<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$a</span> <span class="token parameter variable">-lt</span> <span class="token number">10</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
   <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + <span class="token number">1</span><span class="token variable">`</span></span>
<span class="token keyword">done</span>

<span class="token comment">#运行结果：</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
<span class="token number">6</span>
<span class="token number">7</span>
<span class="token number">8</span>
<span class="token number">9</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_5-case-esac"><a href="#_5-case-esac" class="header-anchor">#</a> （5）case ... esac</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</span>
<span class="token comment">#!/bin/sh</span>
<span class="token assign-left variable">site</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$site</span>&quot;</span> <span class="token keyword">in</span>
   <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;abcdef&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
   <span class="token string">&quot;google&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Google 搜索&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
   <span class="token string">&quot;taobao&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;淘宝网&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># 输出结果为：</span>
abcdef
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_6-break"><a href="#_6-break" class="header-anchor">#</a> （6）break</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># break命令允许跳出所有循环（终止执行后面的所有循环）</span>
<span class="token comment"># 下面的例子中，脚本进入死循环直至用户输入数字大于5。</span>

<span class="token comment">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;输入 1 到 5 之间的数字:&quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的! 游戏结束&quot;</span>
            <span class="token builtin class-name">break</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>

<span class="token comment">#执行以上代码，输出结果为：</span>
输入 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的数字:3
你输入的数字为 <span class="token number">3</span><span class="token operator">!</span>
输入 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的数字:7
你输入的数字不是 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的<span class="token operator">!</span> 游戏结束
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_7-continue"><a href="#_7-continue" class="header-anchor">#</a> （7）continue</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;输入 1 到 5 之间的数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的!&quot;</span>
            <span class="token builtin class-name">continue</span>
            <span class="token builtin class-name">echo</span> <span class="token string">&quot;游戏结束&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
<span class="token comment"># 运行代码发现，当输入大于5的数字时，该例中的循环不会结束，语句 echo &quot;游戏结束&quot; 永远不会被执行。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_7-12-read-读取单行数据"><a href="#_7-12-read-读取单行数据" class="header-anchor">#</a> 7.12 read – 读取单行数据</h2> <p>Linux read命令用于从标准输入读取数值。read 内部命令被用来从标准输入读取单行数据。</p> <p>这个命令可以用来读取键盘输入，当使用重定向的时候，可以读取文件中的一行数据。</p> <p>**语法格式：**read [参数]</p> <p><strong>常用参数：</strong></p> <table><thead><tr><th>-a</th> <th>后跟一个变量，该变量会被认为是个数组，然后给其赋值，默认是以空格为分割符</th></tr></thead> <tbody><tr><td>-- d</td> <td>后面跟一个标志符，其实只有其后的第一个字符有用，作为结束的标志</td></tr> <tr><td>-- p</td> <td>后面跟提示信息，即在输入前打印提示信息</td></tr> <tr><td>-- e</td> <td>在输入的时候可以使用命令补全功能</td></tr> <tr><td>-- n</td> <td>后跟一个数字，定义输入文本的长度</td></tr> <tr><td>-- r</td> <td>屏蔽\，如果没有该选项，则\作为一个转义字符，有的话 \就是个正常的字符了</td></tr> <tr><td>-- s</td> <td>安静模式，在输入字符时不再屏幕上显示</td></tr> <tr><td>-- t</td> <td>后面跟秒数，定义输入字符的等待时间</td></tr> <tr><td>-- u</td> <td>后面跟fd，从文件描述符中读入，该文件描述符可以是exec新开启的</td></tr></tbody></table> <p><strong>参考实例</strong></p> <p>简单读取：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash             </span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;输入网站名: &quot;</span>                         
<span class="token builtin class-name">read</span> <span class="token function">file</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的网站名是 <span class="token variable">$file</span>&quot;</span>  
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>允许在 read 命令行中直接指定一个提示：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;输入网站名:&quot;</span> <span class="token function">file</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的网站名是 <span class="token variable">$file</span>&quot;</span> 
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>指定 read 命令等待输入的秒数，当计时满时，read命令返回一个非零退出状态：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-t</span> <span class="token number">5</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;输入网站名:&quot;</span> <span class="token function">file</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的网站名是 <span class="token variable">$file</span>&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>抱歉，你输入超时了。&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>设置 read 命令计数输入的字符。当输入的字符数目达到预定数目时，自动退出，并将输入的数据赋值给变量：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-n1</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;Do you want to continue [Y/N]?&quot;</span> answer
<span class="token keyword">case</span> <span class="token variable">$answer</span> <span class="token keyword">in</span>
Y <span class="token operator">|</span> y<span class="token punctuation">)</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;fine ,continue&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
N <span class="token operator">|</span> n<span class="token punctuation">)</span>
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;ok,good bye&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;error choice&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>

<span class="token keyword">esac</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>使 read 命令中输入的数据不显示在命令终端上：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">read</span>  <span class="token parameter variable">-s</span>  <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入您的密码:&quot;</span> pass
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>您输入的密码是 <span class="token variable">$pass</span>&quot;</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_7-13-echo命令-输出字符串或提取shell变量的值"><a href="#_7-13-echo命令-输出字符串或提取shell变量的值" class="header-anchor">#</a> 7.13 echo命令 – 输出字符串或提取Shell变量的值</h2> <p>可参考：https://www.runoob.com/linux/linux-shell-echo.html</p> <h2 id="_7-14-函数"><a href="#_7-14-函数" class="header-anchor">#</a> 7.14 函数</h2> <p><strong>函数定义说明：</strong></p> <ul><li>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li> <li>参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255)。函数返回值在调用该函数后通过 $? 来获得。</li> <li>所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。</li> <li>在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数……，<img src="https://g.yuque.com/gr/latex?10%20%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96%E7%AC%AC%E5%8D%81%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E8%8E%B7%E5%8F%96%E7%AC%AC%E5%8D%81%E4%B8%AA%E5%8F%82%E6%95%B0%E9%9C%80%E8%A6%81" alt="img">{10}。当n&gt;=10时，需要使用${n}来获取参数。</li></ul> <p><strong>几个特殊字符用来处理参数：</strong></p> <table><thead><tr><th>参数处理</th> <th>说明</th></tr></thead> <tbody><tr><td>$#</td> <td>传递到脚本或函数的参数个数</td></tr> <tr><td>$*</td> <td>以一个单字符串显示所有向脚本传递的参数</td></tr> <tr><td>$$</td> <td>脚本运行的当前进程ID号</td></tr> <tr><td>$!</td> <td>后台运行的最后一个进程的ID号</td></tr> <tr><td>$@</td> <td>与$*相同，但是使用时加引号，并在引号中返回每个参数。</td></tr> <tr><td>$-</td> <td>显示Shell使用的当前选项，与set命令功能相同。</td></tr> <tr><td>$?</td> <td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">### 1.普通函数</span>
<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第一个 shell 函数!&quot;</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数开始执行-----&quot;</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数执行完毕-----&quot;</span>

<span class="token comment">#输出结果：</span>
-----函数开始执行-----
这是我的第一个 shell 函数<span class="token operator">!</span>
-----函数执行完毕-----

<span class="token comment">### 2.带有return语句的函数</span>
<span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个函数会对输入的两个数字进行相加运算...&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第一个数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第二个数字: &quot;</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !&quot;</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">&quot;输入的两个数字之和为 <span class="token variable">$?</span> !&quot;</span>

<span class="token comment">#输出结果：</span>
这个函数会对输入的两个数字进行相加运算<span class="token punctuation">..</span>.
输入第一个数字: 
<span class="token number">1</span>
输入第二个数字: 
<span class="token number">2</span>
两个数字分别为 <span class="token number">1</span> 和 <span class="token number">2</span> <span class="token operator">!</span>
输入的两个数字之和为 <span class="token number">3</span> <span class="token operator">!</span>

<span class="token comment">### 3. 带参数的函数示例</span>
<span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为 <span class="token variable">$1</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为 <span class="token variable">$2</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">$10</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">${10}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十一个参数为 <span class="token variable">${11}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;参数总数有 <span class="token variable">$#</span> 个!&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;作为一个字符串输出所有参数 <span class="token variable">$*</span> !&quot;</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span>

<span class="token comment">#输出结果：</span>
第一个参数为 <span class="token number">1</span> <span class="token operator">!</span>
第二个参数为 <span class="token number">2</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">10</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">34</span> <span class="token operator">!</span>
第十一个参数为 <span class="token number">73</span> <span class="token operator">!</span>
参数总数有 <span class="token number">11</span> 个<span class="token operator">!</span>
作为一个字符串输出所有参数 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span> <span class="token operator">!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="_7-15-shell-输入-输出重定向"><a href="#_7-15-shell-输入-输出重定向" class="header-anchor">#</a> 7.15 Shell 输入/输出重定向</h2> <p>可参考：https://www.runoob.com/linux/linux-shell-io-redirections.html</p></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:0;" data-v-ac050c62></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:290px;display:none;" data-v-5775ee02>
      欢迎来到我的博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="250" height="320" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://assets.smallsunnyfox.com/music/2.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://assets.smallsunnyfox.com/music/2.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://assets.smallsunnyfox.com/music/2.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>강남역 4번 출구</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>Plastic / Fallin` Dild</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div><canvas id="vuepress-canvas-cursor"></canvas><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/assets/js/app.eb6d892d.js" defer></script><script src="/assets/js/3.fb47a76d.js" defer></script><script src="/assets/js/1.fc79f8d4.js" defer></script><script src="/assets/js/576.94072cac.js" defer></script>
  </body>
</html>
